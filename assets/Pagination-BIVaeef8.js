import{j as o}from"./jsx-runtime-qGIIFXMu.js";import{r as c}from"./index-CDs2tPxN.js";import{c as B}from"./cva-C095pwBQ.js";import{s as X}from"./sva-CxSEfBjn.js";import{I as b}from"./IconButton-E43GEZXc.js";import{L as C}from"./Link-CuuQqiTV.js";import{j as Z,c as q,y as f,z as h,k as W,l as D,m as y,o as H,p as I,B as J,F as K}from"./factory-BCwUXDVF.js";import{c as Q,b as Y,i as A}from"./index-Dquv0SIZ.js";import{c as N}from"./index-DJ3ti8gJ.js";import{C as $}from"./chevron-left-Bqxy6nNn.js";import{E as ee}from"./ellipsis-Bl27Sm0D.js";import{C as G}from"./chevron-right-CT14g65n.js";import{c as R}from"./create-split-props-u5h9OPvL.js";import{u as te,a as ae}from"./use-locale-context-0tfyuFre.js";import{u as ie}from"./use-event-eGuf5zsd.js";var V=Z("pagination").parts("root","item","ellipsis","prevTrigger","nextTrigger");V.build();Q({getRootId:e=>{var a;return((a=e.ids)==null?void 0:a.root)??`pagination:${e.id}`},getPrevTriggerId:e=>{var a;return((a=e.ids)==null?void 0:a.prevTrigger)??`pagination:${e.id}:prev`},getNextTriggerId:e=>{var a;return((a=e.ids)==null?void 0:a.nextTrigger)??`pagination:${e.id}:next`},getEllipsisId:(e,a)=>{var t,i;return((i=(t=e.ids)==null?void 0:t.ellipsis)==null?void 0:i.call(t,a))??`pagination:${e.id}:ellipsis:${a}`},getItemId:(e,a)=>{var t,i;return((i=(t=e.ids)==null?void 0:t.item)==null?void 0:i.call(t,a))??`pagination:${e.id}:item:${a}`}});N()(["count","dir","getRootNode","id","ids","onPageChange","onPageSizeChange","page","pageSize","siblingCount","translations","type"]);N()(["value","type"]);N()(["index"]);const[oe,x]=q({name:"PaginationContext",hookName:"usePaginationContext",providerName:"<PaginationProvider />"}),ne=e=>e.children(x()),w=c.forwardRef((e,a)=>{const[t,i]=R()(e,["index"]),n=x(),r=f(n.getEllipsisProps(t),i);return o.jsx(h.div,{...r,ref:a})});w.displayName="PaginationEllipsis";const k=c.forwardRef((e,a)=>{const[t,i]=R()(e,["value","type"]),n=x(),r=f(n.getItemProps(t),i);return o.jsx(h.button,{...r,ref:a})});k.displayName="PaginationItem";const F=c.forwardRef((e,a)=>{const t=x(),i=f(t.getNextTriggerProps(),e);return o.jsx(h.button,{...i,ref:a})});F.displayName="PaginationNextTrigger";const M=c.forwardRef((e,a)=>{const t=x(),i=f(t.getPrevTriggerProps(),e);return o.jsx(h.button,{...i,ref:a})});M.displayName="PaginationPrevTrigger";var re=W("pagination").parts("root","item","ellipsis","prevTrigger","nextTrigger"),T=re.build(),v=D({getRootId:e=>{var a;return((a=e.ids)==null?void 0:a.root)??`pagination:${e.id}`},getPrevTriggerId:e=>{var a;return((a=e.ids)==null?void 0:a.prevTrigger)??`pagination:${e.id}:prev`},getNextTriggerId:e=>{var a;return((a=e.ids)==null?void 0:a.nextTrigger)??`pagination:${e.id}:next`},getEllipsisId:(e,a)=>{var t,i;return((i=(t=e.ids)==null?void 0:t.ellipsis)==null?void 0:i.call(t,a))??`pagination:${e.id}:ellipsis:${a}`},getItemId:(e,a)=>{var t,i;return((i=(t=e.ids)==null?void 0:t.item)==null?void 0:i.call(t,a))??`pagination:${e.id}:item:${a}`}}),S=(e,a)=>{let t=a-e+1;return Array.from({length:t},(i,n)=>n+e)},se=e=>e.map(a=>typeof a=="number"?{type:"page",value:a}:{type:"ellipsis"}),E="ellipsis",ge=e=>{const a=Math.min(2*e.siblingCount+5,e.totalPages),t=1,i=e.totalPages,n=Math.max(e.page-e.siblingCount,t),r=Math.min(e.page+e.siblingCount,i),s=n>t+1,l=r<i-1,g=a-2;if(!s&&l)return[...S(1,g),E,i];if(s&&!l){const d=S(i-g+1,i);return[t,E,...d]}if(s&&l){const d=S(n,r);return[t,E,...d,E,i]}return S(t,i)},pe=e=>se(ge(e));function le(e,a,t){const i=e.context.totalPages,n=e.context.page,r=e.context.translations,s=e.context.previousPage,l=e.context.nextPage,g=e.context.pageRange,d=e.context.type==="button",z=n===1,j=n===i,U=pe(e.context);return{page:n,pageSize:e.context.pageSize,totalPages:i,pages:U,previousPage:s,nextPage:l,pageRange:g,slice(p){return p.slice(g.start,g.end)},setCount(p){a({type:"SET_COUNT",count:p})},setPageSize(p){a({type:"SET_PAGE_SIZE",size:p})},setPage(p){a({type:"SET_PAGE",page:p})},goToNextPage(){a({type:"NEXT_PAGE"})},goToPrevPage(){a({type:"PREVIOUS_PAGE"})},goToFirstPage(){a({type:"FIRST_PAGE"})},goToLastPage(){a({type:"LAST_PAGE"})},getRootProps(){return t.element({id:v.getRootId(e.context),...T.root.attrs,dir:e.context.dir,"aria-label":r.rootLabel})},getEllipsisProps(p){return t.element({id:v.getEllipsisId(e.context,p.index),...T.ellipsis.attrs,dir:e.context.dir})},getItemProps(p){var _;const m=p.value,L=m===e.context.page;return t.element({id:v.getItemId(e.context,m),...T.item.attrs,dir:e.context.dir,"data-index":m,"data-selected":y(L),"aria-current":L?"page":void 0,"aria-label":(_=r.itemLabel)==null?void 0:_.call(r,{page:m,totalPages:i}),onClick(){a({type:"SET_PAGE",page:m})},...d&&{type:"button"}})},getPrevTriggerProps(){return t.element({id:v.getPrevTriggerId(e.context),...T.prevTrigger.attrs,dir:e.context.dir,"data-disabled":y(z),"aria-label":r.prevTriggerLabel,onClick(){a({type:"PREVIOUS_PAGE"})},...d&&{disabled:z,type:"button"}})},getNextTriggerProps(){return t.element({id:v.getNextTriggerId(e.context),...T.nextTrigger.attrs,dir:e.context.dir,"data-disabled":y(j),"aria-label":r.nextTriggerLabel,onClick(){a({type:"NEXT_PAGE"})},...d&&{disabled:j,type:"button"}})}}}var de={rootLabel:"pagination",prevTriggerLabel:"previous page",nextTriggerLabel:"next page",itemLabel({page:e,totalPages:a}){return`${a>1&&e===a?"last page, ":""}page ${e}`}};function Pe(e){const a=Y(e);return H({id:"pagination",initial:"idle",context:{pageSize:10,siblingCount:1,page:1,type:"button",translations:{...de,...a.translations},...a},watch:{pageSize:["setPageIfNeeded"]},computed:{totalPages:t=>Math.ceil(t.count/t.pageSize),previousPage:t=>t.page===1?null:t.page-1,nextPage:t=>t.page===t.totalPages?null:t.page+1,pageRange:t=>{const i=(t.page-1)*t.pageSize,n=i+t.pageSize;return{start:i,end:n}},isValidPage:t=>t.page>=1&&t.page<=t.totalPages},on:{SET_COUNT:[{guard:"isValidCount",actions:["setCount","goToFirstPage"]},{actions:"setCount"}],SET_PAGE:{guard:"isValidPage",actions:"setPage"},SET_PAGE_SIZE:{actions:"setPageSize"},FIRST_PAGE:{actions:"goToFirstPage"},LAST_PAGE:{actions:"goToLastPage"},PREVIOUS_PAGE:{guard:"canGoToPrevPage",actions:"goToPrevPage"},NEXT_PAGE:{guard:"canGoToNextPage",actions:"goToNextPage"}},states:{idle:{}}},{guards:{isValidPage:(t,i)=>i.page>=1&&i.page<=t.totalPages,isValidCount:(t,i)=>t.page>i.count,canGoToNextPage:t=>t.page<t.totalPages,canGoToPrevPage:t=>t.page>1},actions:{setCount(t,i){t.count=i.count},setPage(t,i){P.page(t,i.page)},setPageSize(t,i){P.pageSize(t,i.size)},goToFirstPage(t){P.page(t,1)},goToLastPage(t){P.page(t,t.totalPages)},goToPrevPage(t){P.page(t,t.page-1)},goToNextPage(t){P.page(t,t.page+1)},setPageIfNeeded(t,i){t.isValidPage||P.page(t,1)}}})}var ce=(e,a)=>Math.min(Math.max(e,1),a),P={pageSize:(e,a)=>{var t;A(e.pageSize,a)||(e.pageSize=a,(t=e.onPageSizeChange)==null||t.call(e,{pageSize:e.pageSize}))},page:(e,a)=>{var t;A(e.page,a)||(e.page=ce(a,e.totalPages),(t=e.onPageChange)==null||t.call(e,{page:e.page,pageSize:e.pageSize}))}};I()(["count","dir","getRootNode","id","ids","onPageChange","onPageSizeChange","page","pageSize","siblingCount","translations","type"]);I()(["value","type"]);I()(["index"]);const ue=e=>{const{getRootNode:a}=te(),{dir:t}=ae(),i={id:c.useId(),dir:t,getRootNode:a,page:e.defaultPage,...e},n={...i,page:e.page,onPageChange:ie(e.onPageChange,{sync:!0})},[r,s]=J(Pe(i),{context:n});return le(r,s,K)},O=c.forwardRef((e,a)=>{const[t,i]=R()(e,["count","defaultPage","id","ids","onPageChange","onPageSizeChange","page","pageSize","siblingCount","translations","type"]),n=ue(t),r=f(n.getRootProps(),i);return o.jsx(oe,{value:n,children:o.jsx(h.nav,{...r,ref:a})})});O.displayName="PaginationRoot";const me=X({className:"pagination",slots:V.keys(),base:{root:{display:"flex",gap:"1"},item:{fontVariantNumeric:"tabular-nums"},ellipsis:{alignItems:"center",color:"neutral.900",display:"inline-flex",fontWeight:"semibold",px:"2"}}}),Te=c.forwardRef((e,a)=>{const{type:t="button",children:i,className:n,...r}=e,s=me();return o.jsxs(O,{ref:a,className:B(s.root,n),type:t,...r,children:[o.jsx(M,{className:s.prevTrigger,asChild:!0,children:t==="button"?o.jsx(b,{variant:"ghost",size:"sm",children:o.jsx($,{size:24})}):o.jsx(C,{theme:"neutral",children:o.jsx($,{size:24})})}),o.jsx(ne,{children:l=>l.pages.map((g,u)=>g.type==="page"?o.jsx(k,{className:s.item,...g,asChild:!0,children:t==="button"?o.jsx(b,{variant:"ghost",size:"sm","data-active":l.page===g.value?!0:void 0,children:g.value}):o.jsx(C,{theme:"neutral","data-active":l.page===g.value?!0:void 0,children:g.value})},u):o.jsx(w,{index:u,className:s.ellipsis,children:o.jsx(ee,{size:16})},u))}),o.jsx(F,{className:s.nextTrigger,asChild:!0,children:t==="button"?o.jsx(b,{variant:"ghost",size:"sm",children:o.jsx(G,{size:24})}):o.jsx(C,{theme:"neutral",children:o.jsx(G,{size:24})})})]})});Te.__docgenInfo={description:"",methods:[],displayName:"Root"};export{Te as R};
