import{j as s}from"./jsx-runtime-qGIIFXMu.js";import{I as L,c as M}from"./index-CO00fS6N.js";import{r as c}from"./index-CDs2tPxN.js";import{s as z}from"./sva-qXmx1AZm.js";import{j as A,c as D,y as g,z as u,k as U,l as F,o as H,p as W,B as _,F as B}from"./factory-BCwUXDVF.js";import{c as O,b as q,v as T}from"./index-Dquv0SIZ.js";import{c as G}from"./index-DJ3ti8gJ.js";import{c as J}from"./create-split-props-u5h9OPvL.js";import{u as K,a as Q}from"./use-locale-context-0tfyuFre.js";var b=A("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange");b.build();O({getRootId:e=>{var r;return((r=e.ids)==null?void 0:r.root)??`progress-${e.id}`},getTrackId:e=>{var r;return((r=e.ids)==null?void 0:r.track)??`progress-${e.id}-track`},getLabelId:e=>{var r;return((r=e.ids)==null?void 0:r.label)??`progress-${e.id}-label`},getCircleId:e=>{var r;return((r=e.ids)==null?void 0:r.circle)??`progress-${e.id}-circle`}});G()(["dir","getRootNode","id","ids","max","min","orientation","translations","value"]);const[X,m]=D({name:"ProgressContext",hookName:"useProgressContext",providerName:"<ProgressProvider />"}),N=c.forwardRef((e,r)=>{const t=m(),a=g(t.getCircleProps(),e);return s.jsx(u.svg,{ref:r,...a})});N.displayName="ProgressCircle";const C=c.forwardRef((e,r)=>{const t=m(),a=g(t.getCircleRangeProps(),e);return s.jsx(u.circle,{ref:r,...a})});C.displayName="ProgressCircleRange";const w=c.forwardRef((e,r)=>{const t=m(),a=g(t.getCircleTrackProps(),e);return s.jsx(u.circle,{ref:r,...a})});w.displayName="ProgressCircleTrack";const I=c.forwardRef((e,r)=>{const t=m(),a=g(t.getLabelProps(),e);return s.jsx(u.label,{...a,ref:r})});I.displayName="ProgressLabel";const $=c.forwardRef((e,r)=>{const t=m(),a=g(t.getRangeProps(),e);return s.jsx(u.div,{...a,ref:r})});$.displayName="ProgressRange";var Y=U("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange"),n=Y.build(),f=F({getRootId:e=>{var r;return((r=e.ids)==null?void 0:r.root)??`progress-${e.id}`},getTrackId:e=>{var r;return((r=e.ids)==null?void 0:r.track)??`progress-${e.id}-track`},getLabelId:e=>{var r;return((r=e.ids)==null?void 0:r.label)??`progress-${e.id}-label`},getCircleId:e=>{var r;return((r=e.ids)==null?void 0:r.circle)??`progress-${e.id}-circle`}});function Z(e,r,t){const a=e.context.percent,l=e.context.isIndeterminate?"":`${a}%`,o=e.context.max,d=e.context.min,i=e.context.orientation,S=e.context.translations,P=e.context.isIndeterminate,p=e.context.value,R=S.value({value:p,max:o,percent:a,min:d}),v=ee(p,o),y={role:"progressbar","aria-label":R,"data-max":o,"aria-valuemin":d,"aria-valuemax":o,"aria-valuenow":p??void 0,"data-orientation":i,"data-state":v},h=re(e.context);return{value:p,valueAsString:R,min:d,max:o,percent:a,percentAsString:l,indeterminate:P,setValue(x){r({type:"VALUE.SET",value:x})},setToMax(){r({type:"VALUE.SET",value:o})},setToMin(){r({type:"VALUE.SET",value:d})},getRootProps(){return t.element({dir:e.context.dir,...n.root.attrs,id:f.getRootId(e.context),"data-max":o,"data-value":p??void 0,"data-state":v,"data-orientation":i,style:{"--percent":P?void 0:a}})},getLabelProps(){return t.element({dir:e.context.dir,id:f.getLabelId(e.context),...n.label.attrs,"data-orientation":i})},getValueTextProps(){return t.element({dir:e.context.dir,"aria-live":"polite",...n.valueText.attrs})},getTrackProps(){return t.element({dir:e.context.dir,id:f.getTrackId(e.context),...n.track.attrs,...y})},getRangeProps(){return t.element({dir:e.context.dir,...n.range.attrs,"data-orientation":i,"data-state":v,style:{[e.context.isHorizontal?"width":"height"]:P?void 0:`${a}%`}})},getCircleProps(){return t.element({dir:e.context.dir,id:f.getCircleId(e.context),...n.circle.attrs,...y,...h.root})},getCircleTrackProps(){return t.element({dir:e.context.dir,"data-orientation":i,...n.circleTrack.attrs,...h.track})},getCircleRangeProps(){return t.element({dir:e.context.dir,...n.circleRange.attrs,...h.range,"data-state":v})},getViewProps(x){return t.element({dir:e.context.dir,...n.view.attrs,"data-state":x.state,hidden:x.state!==v})}}}function ee(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function re(e){const r={style:{"--radius":"calc(var(--size) / 2 - var(--thickness) / 2)",cx:"calc(var(--size) / 2)",cy:"calc(var(--size) / 2)",r:"var(--radius)",fill:"transparent",strokeWidth:"var(--thickness)"}};return{root:{style:{width:"var(--size)",height:"var(--size)"}},track:r,range:{opacity:e.value===0?0:void 0,style:{...r.style,"--percent":e.percent,"--circumference":"calc(2 * 3.14159 * var(--radius))","--offset":"calc(var(--circumference) * (100 - var(--percent)) / 100)",strokeDashoffset:"calc(var(--circumference) * ((100 - var(--percent)) / 100))",strokeDasharray:e.isIndeterminate?void 0:"var(--circumference)",transformOrigin:"center",transform:"rotate(-90deg)"}}}}function te(e,r){return e+(r-e)/2}function ae(e){const r=q(e);return H({id:"progress",initial:"idle",context:{max:r.max??100,min:r.min??0,value:te(r.min??0,r.max??100),orientation:"horizontal",translations:{value:({percent:t})=>t===-1?"loading...":`${t} percent`,...r.translations},...r},created:["validateContext"],computed:{isIndeterminate:t=>t.value===null,percent(t){return T(t.value)?Math.round((t.value-t.min)/(t.max-t.min)*100):-1},isAtMax:t=>t.value===t.max,isHorizontal:t=>t.orientation==="horizontal",isRtl:t=>t.dir==="rtl"},states:{idle:{on:{"VALUE.SET":{actions:["setValue"]}}}}},{actions:{setValue:(t,a)=>{t.value=a.value===null?null:Math.max(0,Math.min(a.value,t.max))},validateContext:t=>{if(t.value!=null){if(!k(t.max))throw new Error(`[progress] The max value passed \`${t.max}\` is not a valid number`);if(!se(t.value,t.max))throw new Error(`[progress] The value passed \`${t.value}\` exceeds the max value \`${t.max}\``);if(!oe(t.value,t.min))throw new Error(`[progress] The value passed \`${t.value}\` exceeds the min value \`${t.min}\``)}}}})}function k(e){return T(e)&&!isNaN(e)}function se(e,r){return k(e)&&e<=r}function oe(e,r){return k(e)&&e>=r}W()(["dir","getRootNode","id","ids","max","min","orientation","translations","value"]);const ie=e=>{const{getRootNode:r}=K(),{dir:t}=Q(),a={id:c.useId(),dir:t,getRootNode:r,...e},l={...a,value:e.value},[o,d]=_(ae(a),{context:l});return Z(o,d,B)},j=c.forwardRef((e,r)=>{const[t,a]=J()(e,["id","ids","max","min","orientation","translations","value"]),l=ie(t),o=g(l.getRootProps(),a);return s.jsx(X,{value:l,children:s.jsx(u.div,{...o,ref:r})})});j.displayName="ProgressRoot";const E=c.forwardRef((e,r)=>{const t=m(),a=g(t.getTrackProps(),e);return s.jsx(u.div,{...a,ref:r})});E.displayName="ProgressTrack";const ne=z({className:`${L.scope} progress`,slots:b.keys(),base:{root:{alignItems:"center",display:"flex",flexDirection:"column",gap:"1.5",width:"full"},label:{fontWeight:"medium",textStyle:"sm"},track:{backgroundColor:"neutral.300",borderRadius:"full",overflow:"hidden",width:"full"},range:{backgroundColor:"primary",height:"full",transition:"width 0.2s ease-in-out","--translate-x":"-100%"},circleTrack:{stroke:"neutral.300"},circleRange:{stroke:"primary",transitionProperty:"stroke-dasharray, stroke",transitionDuration:"0.6s"},valueText:{textStyle:"sm"}},variants:{size:{sm:{track:{height:"1.5"},circle:{"--size":"36px","--thickness":"4px"}},md:{track:{height:"2"},circle:{"--size":"40px","--thickness":"4px"}},lg:{track:{height:"2.5"},circle:{"--size":"44px","--thickness":"4px"}}}},defaultVariants:{size:"md"}}),V=c.forwardRef(function(e,r){const{size:t,children:a,className:l,variant:o="linear",...d}=e,i=ne({size:t});return s.jsxs(j,{ref:r,className:M(i.root,l),...d,children:[a&&s.jsx(I,{className:i.label,children:a}),o==="linear"&&s.jsx(s.Fragment,{children:s.jsx(E,{className:i.track,children:s.jsx($,{className:i.range})})}),o==="circular"&&s.jsxs(N,{className:i.circle,children:[s.jsx(w,{className:i.circleTrack}),s.jsx(C,{className:i.circleRange})]})]})});V.displayName="Progress";V.__docgenInfo={description:"",methods:[],displayName:"Progress"};export{V as R};
