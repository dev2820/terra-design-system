import{j as f}from"./jsx-runtime-qGIIFXMu.js";import{r as T}from"./index-CDs2tPxN.js";import{c as Te}from"./cva-C095pwBQ.js";import{s as Ne}from"./sva-CxSEfBjn.js";import{j as Ce,c as Re,y as C,z as R,k as Se,l as we,Q as ne,M as De,m as g,U as z,P as $e,o as Ae,_ as Oe,A as ie,s as Ve,I as xe,r as oe,B as Me,F as Le}from"./factory-BCwUXDVF.js";import{c as Fe,z as Ue,M as _e,b as ke,e as Be,i as k}from"./index-Dquv0SIZ.js";import{c as We}from"./createLucideIcon-zijr-BYg.js";import{C as He}from"./chevron-down-Du6SRUSG.js";import{c as Ge}from"./create-split-props-u5h9OPvL.js";import{j as je,d as Z,e as ze,a as x,r as Ze}from"./index-qa1jsk-d.js";import{t as Xe}from"./index-DBzJ7FiP.js";import{u as qe,a as Ye}from"./use-locale-context-0tfyuFre.js";import{u as M}from"./use-event-eGuf5zsd.js";import{u as se}from"./use-field-context-BjqdMh-O.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=We("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function Je(t,r){return(t%r+r)%r}function L(t){if(typeof window.devicePixelRatio!="number")return Math.round(t);const r=window.devicePixelRatio;return Math.floor(t*r+.5)/r}let F=new Map,B=!1;try{B=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let O=!1;try{O=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const ae={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class Qe{format(r){let e="";if(!B&&this.options.signDisplay!=null?e=tt(this.numberFormatter,this.options.signDisplay,r):e=this.numberFormatter.format(r),this.options.style==="unit"&&!O){var n;let{unit:i,unitDisplay:o="short",locale:u}=this.resolvedOptions();if(!i)return e;let s=(n=ae[i])===null||n===void 0?void 0:n[o];e+=s[u]||s.default}return e}formatToParts(r){return this.numberFormatter.formatToParts(r)}formatRange(r,e){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(r,e);if(e<r)throw new RangeError("End date must be >= start date");return`${this.format(r)} – ${this.format(e)}`}formatRangeToParts(r,e){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(r,e);if(e<r)throw new RangeError("End date must be >= start date");let n=this.numberFormatter.formatToParts(r),i=this.numberFormatter.formatToParts(e);return[...n.map(o=>({...o,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...i.map(o=>({...o,source:"endRange"}))]}resolvedOptions(){let r=this.numberFormatter.resolvedOptions();return!B&&this.options.signDisplay!=null&&(r={...r,signDisplay:this.options.signDisplay}),!O&&this.options.style==="unit"&&(r={...r,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),r}constructor(r,e={}){this.numberFormatter=et(r,e),this.options=e}}function et(t,r={}){let{numberingSystem:e}=r;if(e&&t.includes("-nu-")&&(t.includes("-u-")||(t+="-u-"),t+=`-nu-${e}`),r.style==="unit"&&!O){var n;let{unit:u,unitDisplay:s="short"}=r;if(!u)throw new Error('unit option must be provided with style: "unit"');if(!(!((n=ae[u])===null||n===void 0)&&n[s]))throw new Error(`Unsupported unit ${u} with unitDisplay = ${s}`);r={...r,style:"decimal"}}let i=t+(r?Object.entries(r).sort((u,s)=>u[0]<s[0]?-1:1).join():"");if(F.has(i))return F.get(i);let o=new Intl.NumberFormat(t,r);return F.set(i,o),o}function tt(t,r,e){if(r==="auto")return t.format(e);if(r==="never")return t.format(Math.abs(e));{let n=!1;if(r==="always"?n=e>0||Object.is(e,0):r==="exceptZero"&&(Object.is(e,-0)||Object.is(e,0)?e=Math.abs(e):n=e>0),n){let i=t.format(-e),o=t.format(e),u=i.replace(o,"").replace(/\u200e|\u061C/,"");return[...u].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),i.replace(o,"!!!").replace(u,"+").replace("!!!",o)}else return t.format(e)}}const rt=new RegExp("^.*\\(.*\\).*$"),nt=["latn","arab","hanidec"];class le{parse(r){return U(this.locale,this.options,r).parse(r)}isValidPartialNumber(r,e,n){return U(this.locale,this.options,r).isValidPartialNumber(r,e,n)}getNumberingSystem(r){return U(this.locale,this.options,r).options.numberingSystem}constructor(r,e={}){this.locale=r,this.options=e}}const X=new Map;function U(t,r,e){let n=q(t,r);if(!t.includes("-nu-")&&!n.isValidPartialNumber(e)){for(let i of nt)if(i!==n.options.numberingSystem){let o=q(t+(t.includes("-u-")?"-nu-":"-u-nu-")+i,r);if(o.isValidPartialNumber(e))return o}}return n}function q(t,r){let e=t+(r?Object.entries(r).sort((i,o)=>i[0]<o[0]?-1:1).join():""),n=X.get(e);return n||(n=new it(t,r),X.set(e,n)),n}class it{parse(r){let e=this.sanitize(r);if(this.symbols.group&&(e=D(e,this.symbols.group,"")),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(e=e.replace(this.symbols.minusSign,"-")),e=e.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let u=e.indexOf("-");e=e.replace("-","");let s=e.indexOf(".");s===-1&&(s=e.length),e=e.replace(".",""),s-2===0?e=`0.${e}`:s-2===-1?e=`0.0${e}`:s-2===-2?e="0.00":e=`${e.slice(0,s-2)}.${e.slice(s-2)}`,u>-1&&(e=`-${e}`)}let n=e?+e:NaN;if(isNaN(n))return NaN;if(this.options.style==="percent"){var i,o;let u={...this.options,style:"decimal",minimumFractionDigits:Math.min(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)+2,20),maximumFractionDigits:Math.min(((o=this.options.maximumFractionDigits)!==null&&o!==void 0?o:0)+2,20)};return new le(this.locale,u).parse(new Qe(this.locale,u).format(n))}return this.options.currencySign==="accounting"&&rt.test(r)&&(n=-1*n),n}sanitize(r){return r=r.replace(this.symbols.literals,""),this.symbols.minusSign&&(r=r.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(r=r.replace(",",this.symbols.decimal),r=r.replace("،",this.symbols.decimal)),this.symbols.group&&(r=D(r,".",this.symbols.group))),this.options.locale==="fr-FR"&&(r=D(r,"."," ")),r}isValidPartialNumber(r,e=-1/0,n=1/0){return r=this.sanitize(r),this.symbols.minusSign&&r.startsWith(this.symbols.minusSign)&&e<0?r=r.slice(this.symbols.minusSign.length):this.symbols.plusSign&&r.startsWith(this.symbols.plusSign)&&n>0&&(r=r.slice(this.symbols.plusSign.length)),this.symbols.group&&r.startsWith(this.symbols.group)||this.symbols.decimal&&r.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(r=D(r,this.symbols.group,"")),r=r.replace(this.symbols.numeral,""),this.symbols.decimal&&(r=r.replace(this.symbols.decimal,"")),r.length===0)}constructor(r,e={}){this.locale=r,this.formatter=new Intl.NumberFormat(r,e),this.options=this.formatter.resolvedOptions(),this.symbols=st(r,this.formatter,this.options,e);var n,i;this.options.style==="percent"&&(((n=this.options.minimumFractionDigits)!==null&&n!==void 0?n:0)>18||((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const Y=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),ot=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function st(t,r,e,n){var i,o,u,s;let c=new Intl.NumberFormat(t,{...e,minimumSignificantDigits:1,maximumSignificantDigits:21}),b=c.formatToParts(-10000.111),S=c.formatToParts(10000.111),a=ot.map(d=>c.formatToParts(d));var m;let w=(m=(i=b.find(d=>d.type==="minusSign"))===null||i===void 0?void 0:i.value)!==null&&m!==void 0?m:"-",h=(o=S.find(d=>d.type==="plusSign"))===null||o===void 0?void 0:o.value;!h&&((n==null?void 0:n.signDisplay)==="exceptZero"||(n==null?void 0:n.signDisplay)==="always")&&(h="+");let H=(u=new Intl.NumberFormat(t,{...e,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(d=>d.type==="decimal"))===null||u===void 0?void 0:u.value,he=(s=b.find(d=>d.type==="group"))===null||s===void 0?void 0:s.value,ye=b.filter(d=>!Y.has(d.type)).map(d=>K(d.value)),ve=a.flatMap(d=>d.filter(I=>!Y.has(I.type)).map(I=>K(I.value))),G=[...new Set([...ye,...ve])].sort((d,I)=>I.length-d.length),Ie=G.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${G.join("|")}|[\\p{White_Space}]`,"gu"),j=[...new Intl.NumberFormat(e.locale,{useGrouping:!1}).format(9876543210)].reverse(),Pe=new Map(j.map((d,I)=>[d,I])),Ee=new RegExp(`[${j.join("")}]`,"g");return{minusSign:w,plusSign:h,decimal:H,group:he,literals:Ie,numeral:Ee,index:d=>String(Pe.get(d))}}function D(t,r,e){return t.replaceAll?t.replaceAll(r,e):t.split(r).join(e)}function K(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var ue=Ce("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber");ue.build();var p=Fe({getRootId:t=>{var r;return((r=t.ids)==null?void 0:r.root)??`number-input:${t.id}`},getInputId:t=>{var r;return((r=t.ids)==null?void 0:r.input)??`number-input:${t.id}:input`},getIncrementTriggerId:t=>{var r;return((r=t.ids)==null?void 0:r.incrementTrigger)??`number-input:${t.id}:inc`},getDecrementTriggerId:t=>{var r;return((r=t.ids)==null?void 0:r.decrementTrigger)??`number-input:${t.id}:dec`},getScrubberId:t=>{var r;return((r=t.ids)==null?void 0:r.scrubber)??`number-input:${t.id}:scrubber`},getCursorId:t=>`number-input:${t.id}:cursor`,getLabelId:t=>{var r;return((r=t.ids)==null?void 0:r.label)??`number-input:${t.id}:label`},getInputEl:t=>p.getById(t,p.getInputId(t)),getIncrementTriggerEl:t=>p.getById(t,p.getIncrementTriggerId(t)),getDecrementTriggerEl:t=>p.getById(t,p.getDecrementTriggerId(t)),getScrubberEl:t=>p.getById(t,p.getScrubberId(t)),getCursorEl:t=>p.getDoc(t).getElementById(p.getCursorId(t)),getPressedTriggerEl:(t,r=t.hint)=>{let e=null;return r==="increment"&&(e=p.getIncrementTriggerEl(t)),r==="decrement"&&(e=p.getDecrementTriggerEl(t)),e},setupVirtualCursor(t){if(!Ue())return p.createVirtualCursor(t),()=>{var r;(r=p.getCursorEl(t))==null||r.remove()}},preventTextSelection(t){const r=p.getDoc(t),e=r.documentElement,n=r.body;return n.style.pointerEvents="none",e.style.userSelect="none",e.style.cursor="ew-resize",()=>{n.style.pointerEvents="",e.style.userSelect="",e.style.cursor="",e.style.length||e.removeAttribute("style"),n.style.length||n.removeAttribute("style")}},getMousementValue(t,r){const e=L(r.movementX),n=L(r.movementY);let i=e>0?"increment":e<0?"decrement":null;t.isRtl&&i==="increment"&&(i="decrement"),t.isRtl&&i==="decrement"&&(i="increment");const o={x:t.scrubberCursorPoint.x+e,y:t.scrubberCursorPoint.y+n},s=p.getWin(t).innerWidth,c=L(7.5);return o.x=Je(o.x+c,s)-c,{hint:i,point:o}},createVirtualCursor(t){const r=p.getDoc(t),e=r.createElement("div");e.className="scrubber--cursor",e.id=p.getCursorId(t),Object.assign(e.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:_e,transform:t.scrubberCursorPoint?`translate3d(${t.scrubberCursorPoint.x}px, ${t.scrubberCursorPoint.y}px, 0px)`:void 0,willChange:"transform"}),e.innerHTML=`
        <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
          <g transform="translate(2 3)">
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
          </g>
        </svg>`,r.body.appendChild(e)}});const[at,V]=Re({name:"NumberInputContext",hookName:"useNumberInputContext",providerName:"<NumberInputProvider />"}),ce=T.forwardRef((t,r)=>{const e=V(),n=C(e.getControlProps(),t);return f.jsx(R.div,{...n,ref:r})});ce.displayName="NumberInputControl";const de=T.forwardRef((t,r)=>{const e=V(),n=C(e.getDecrementTriggerProps(),t);return f.jsx(R.button,{...n,ref:r})});de.displayName="NumberInputDecrementTrigger";const me=T.forwardRef((t,r)=>{const e=V(),n=C(e.getIncrementTriggerProps(),t);return f.jsx(R.button,{...n,ref:r})});me.displayName="NumberInputIncrementTrigger";const pe=T.forwardRef((t,r)=>{const e=V(),n=C(e.getInputProps(),t),i=se();return f.jsx(R.input,{"aria-describedby":i==null?void 0:i.ariaDescribedby,...n,ref:r})});pe.displayName="NumberInputInput";function lt(t,r){return(t%r+r)%r}function N(t){if(typeof window.devicePixelRatio!="number")return Math.round(t);const r=window.devicePixelRatio;return Math.floor(t*r+.5)/r}function $(t,r){return Math.min(Math.max(E(t),r.min),r.max)}function J(t){if(!Number.isFinite(t))return 0;let r=1,e=0;for(;Math.round(t*r)/r!==t;)r*=10,e+=1;return e}var ut=(t,r)=>ge(E(t),"+",r),ct=(t,r)=>ge(E(t),"-",r);function E(t){return Number.isNaN(t)?0:t}function dt(t,r){return E(t)>=r.max}function mt(t,r){return E(t)<=r.min}function pt(t,r){return E(t)>=r.min&&E(t)<=r.max}function ge(t,r,e){let n=r==="+"?t+e:t-e;if(t%1!==0||e%1!==0){const i=10**Math.max(J(t),J(e));t=Math.round(t*i),e=Math.round(e*i),n=r==="+"?t+e:t-e,n/=i}return n}var gt=Se("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),v=gt.build(),l=we({getRootId:t=>{var r;return((r=t.ids)==null?void 0:r.root)??`number-input:${t.id}`},getInputId:t=>{var r;return((r=t.ids)==null?void 0:r.input)??`number-input:${t.id}:input`},getIncrementTriggerId:t=>{var r;return((r=t.ids)==null?void 0:r.incrementTrigger)??`number-input:${t.id}:inc`},getDecrementTriggerId:t=>{var r;return((r=t.ids)==null?void 0:r.decrementTrigger)??`number-input:${t.id}:dec`},getScrubberId:t=>{var r;return((r=t.ids)==null?void 0:r.scrubber)??`number-input:${t.id}:scrubber`},getCursorId:t=>`number-input:${t.id}:cursor`,getLabelId:t=>{var r;return((r=t.ids)==null?void 0:r.label)??`number-input:${t.id}:label`},getInputEl:t=>l.getById(t,l.getInputId(t)),getIncrementTriggerEl:t=>l.getById(t,l.getIncrementTriggerId(t)),getDecrementTriggerEl:t=>l.getById(t,l.getDecrementTriggerId(t)),getScrubberEl:t=>l.getById(t,l.getScrubberId(t)),getCursorEl:t=>l.getDoc(t).getElementById(l.getCursorId(t)),getPressedTriggerEl:(t,r=t.hint)=>{let e=null;return r==="increment"&&(e=l.getIncrementTriggerEl(t)),r==="decrement"&&(e=l.getDecrementTriggerEl(t)),e},setupVirtualCursor(t){if(!ne())return l.createVirtualCursor(t),()=>{var r;(r=l.getCursorEl(t))==null||r.remove()}},preventTextSelection(t){const r=l.getDoc(t),e=r.documentElement,n=r.body;return n.style.pointerEvents="none",e.style.userSelect="none",e.style.cursor="ew-resize",()=>{n.style.pointerEvents="",e.style.userSelect="",e.style.cursor="",e.style.length||e.removeAttribute("style"),n.style.length||n.removeAttribute("style")}},getMousementValue(t,r){const e=N(r.movementX),n=N(r.movementY);let i=e>0?"increment":e<0?"decrement":null;t.isRtl&&i==="increment"&&(i="decrement"),t.isRtl&&i==="decrement"&&(i="increment");const o={x:t.scrubberCursorPoint.x+e,y:t.scrubberCursorPoint.y+n},s=l.getWin(t).innerWidth,c=N(7.5);return o.x=lt(o.x+c,s)-c,{hint:i,point:o}},createVirtualCursor(t){const r=l.getDoc(t),e=r.createElement("div");e.className="scrubber--cursor",e.id=l.getCursorId(t),Object.assign(e.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:De,transform:t.scrubberCursorPoint?`translate3d(${t.scrubberCursorPoint.x}px, ${t.scrubberCursorPoint.y}px, 0px)`:void 0,willChange:"transform"}),e.innerHTML=`
        <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
          <g transform="translate(2 3)">
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
          </g>
        </svg>`,r.body.appendChild(e)}});function ft(t,r,e){const n=t.hasTag("focus"),i=t.context.isDisabled,o=t.context.readOnly,u=t.context.isValueEmpty,s=t.context.isOutOfRange||!!t.context.invalid,c=i||!t.context.canIncrement||o,b=i||!t.context.canDecrement||o,S=t.context.translations;return{focused:n,invalid:s,empty:u,value:t.context.formattedValue,valueAsNumber:t.context.valueAsNumber,setValue(a){r({type:"VALUE.SET",value:a})},clearValue(){r("VALUE.CLEAR")},increment(){r("VALUE.INCREMENT")},decrement(){r("VALUE.DECREMENT")},setToMax(){r({type:"VALUE.SET",value:t.context.max})},setToMin(){r({type:"VALUE.SET",value:t.context.min})},focus(){var a;(a=l.getInputEl(t.context))==null||a.focus()},getRootProps(){return e.element({id:l.getRootId(t.context),...v.root.attrs,dir:t.context.dir,"data-disabled":g(i),"data-focus":g(n),"data-invalid":g(s)})},getLabelProps(){return e.label({...v.label.attrs,dir:t.context.dir,"data-disabled":g(i),"data-focus":g(n),"data-invalid":g(s),id:l.getLabelId(t.context),htmlFor:l.getInputId(t.context)})},getControlProps(){return e.element({...v.control.attrs,dir:t.context.dir,role:"group","aria-disabled":i,"data-focus":g(n),"data-disabled":g(i),"data-invalid":g(s),"aria-invalid":z(t.context.invalid)})},getValueTextProps(){return e.element({...v.valueText.attrs,dir:t.context.dir,"data-disabled":g(i),"data-invalid":g(s),"data-focus":g(n)})},getInputProps(){return e.input({...v.input.attrs,dir:t.context.dir,name:t.context.name,form:t.context.form,id:l.getInputId(t.context),role:"spinbutton",defaultValue:t.context.formattedValue,pattern:t.context.pattern,inputMode:t.context.inputMode,"aria-invalid":z(s),"data-invalid":g(s),disabled:i,"data-disabled":g(i),readOnly:t.context.readOnly,required:t.context.required,autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":t.context.min,"aria-valuemax":t.context.max,"aria-valuenow":Number.isNaN(t.context.valueAsNumber)?void 0:t.context.valueAsNumber,"aria-valuetext":t.context.valueText,onFocus(){r("INPUT.FOCUS")},onBlur(){r({type:"INPUT.COMMIT",src:"blur"})},onChange(a){r({type:"INPUT.CHANGE",target:a.currentTarget,hint:"set"})},onBeforeInput(a){try{const{selectionStart:m,selectionEnd:w,value:h}=a.currentTarget,W=h.slice(0,m)+(a.data??"")+h.slice(w);t.context.parser.isValidPartialNumber(W)||a.preventDefault()}catch{}},onKeyDown(a){if(a.defaultPrevented||o||$e(a))return;const m=je(a)*t.context.step,h={ArrowUp(){r({type:"INPUT.ARROW_UP",step:m}),a.preventDefault()},ArrowDown(){r({type:"INPUT.ARROW_DOWN",step:m}),a.preventDefault()},Home(){r("INPUT.HOME"),a.preventDefault()},End(){r("INPUT.END"),a.preventDefault()},Enter(){r({type:"INPUT.COMMIT",src:"enter"})}}[a.key];h==null||h(a)}})},getDecrementTriggerProps(){return e.button({...v.decrementTrigger.attrs,dir:t.context.dir,id:l.getDecrementTriggerId(t.context),disabled:b,"data-disabled":g(b),"aria-label":S.decrementLabel,type:"button",tabIndex:-1,"aria-controls":l.getInputId(t.context),onPointerDown(a){var m;b||!Z(a)||(r({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:a.pointerType}),a.pointerType==="mouse"&&a.preventDefault(),a.pointerType==="touch"&&((m=a.currentTarget)==null||m.focus({preventScroll:!0})))},onPointerUp(a){r({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:a.pointerType})},onPointerLeave(){b||r({type:"TRIGGER.PRESS_UP",hint:"decrement"})}})},getIncrementTriggerProps(){return e.button({...v.incrementTrigger.attrs,dir:t.context.dir,id:l.getIncrementTriggerId(t.context),disabled:c,"data-disabled":g(c),"aria-label":S.incrementLabel,type:"button",tabIndex:-1,"aria-controls":l.getInputId(t.context),onPointerDown(a){var m;c||!Z(a)||(r({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:a.pointerType}),a.pointerType==="mouse"&&a.preventDefault(),a.pointerType==="touch"&&((m=a.currentTarget)==null||m.focus({preventScroll:!0})))},onPointerUp(a){r({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:a.pointerType})},onPointerLeave(a){r({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:a.pointerType})}})},getScrubberProps(){return e.element({...v.scrubber.attrs,dir:t.context.dir,"data-disabled":g(i),id:l.getScrubberId(t.context),role:"presentation",onMouseDown(a){if(i)return;const m=ze(a);m.x=m.x-N(7.5),m.y=m.y-N(7.5),r({type:"SCRUBBER.PRESS_DOWN",point:m}),a.preventDefault()},style:{cursor:i?void 0:"ew-resize"}})}}}function bt(t){if(t.ownerDocument.activeElement===t)try{const{selectionStart:r,selectionEnd:e,value:n}=t,i=n.substring(0,r),o=n.substring(e);return{start:r,end:e,value:n,beforeTxt:i,afterTxt:o}}catch{}}function ht(t,r){if(t.ownerDocument.activeElement===t){if(!r){t.setSelectionRange(t.value.length,t.value.length);return}try{const{value:e}=t,{beforeTxt:n="",afterTxt:i="",start:o}=r;let u=e.length;if(e.endsWith(i))u=e.length-i.length;else if(e.startsWith(n))u=n.length;else if(o!=null){const s=n[o-1],c=e.indexOf(s,o-1);c!==-1&&(u=c+1)}t.setSelectionRange(u,u)}catch{}}}var Q=(t,r={})=>ie(new Intl.NumberFormat(t,r)),ee=(t,r={})=>ie(new le(t,r)),te=(t,r)=>t.formatOptions?t.parser.parse(String(r)):parseFloat(r),P=(t,r)=>Number.isNaN(r)?"":t.formatOptions?t.formatter.format(r):r.toString(),{not:_,and:A}=Ve;function yt(t){const r=ke(t);return Ae({id:"number-input",initial:"idle",context:{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!0,allowOverflow:!1,inputMode:"decimal",pattern:"[0-9]*(.[0-9]+)?",value:"",step:1,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,invalid:!1,spinOnPress:!0,disabled:!1,readOnly:!1,...r,hint:null,scrubberCursorPoint:null,fieldsetDisabled:!1,formatter:Q(r.locale||"en-US",r.formatOptions),parser:ee(r.locale||"en-US",r.formatOptions),translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...r.translations}},computed:{isRtl:e=>e.dir==="rtl",valueAsNumber:e=>te(e,e.value),formattedValue:e=>P(e,e.valueAsNumber),isAtMin:e=>mt(e.valueAsNumber,e),isAtMax:e=>dt(e.valueAsNumber,e),isOutOfRange:e=>!pt(e.valueAsNumber,e),isValueEmpty:e=>e.value==="",isDisabled:e=>!!e.disabled||e.fieldsetDisabled,canIncrement:e=>e.allowOverflow||!e.isAtMax,canDecrement:e=>e.allowOverflow||!e.isAtMin,valueText:e=>{var n,i;return(i=(n=e.translations).valueText)==null?void 0:i.call(n,e.value)}},watch:{formatOptions:["setFormatterAndParser","syncInputElement"],locale:["setFormatterAndParser","syncInputElement"],value:["syncInputElement"],isOutOfRange:["invokeOnInvalid"],scrubberCursorPoint:["setVirtualCursorPosition"]},activities:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue","setHintToSet"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:"focus",activities:"attachWheelListener",on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:"increment"},"INPUT.ARROW_DOWN":{actions:"decrement"},"INPUT.HOME":{actions:"decrementToMin"},"INPUT.END":{actions:"incrementToMax"},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.COMMIT":[{guard:A("clampValueOnBlur",_("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}]}},"before:spin":{tags:"focus",activities:"trackButtonDisabled",entry:Oe([{guard:"isIncrementHint",actions:"increment"},{guard:"isDecrementHint",actions:"decrement"}]),after:{CHANGE_DELAY:{target:"spinning",guard:A("isInRange","spinOnPress")}},on:{"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:"clearHint"},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:"focus",activities:"trackButtonDisabled",every:[{delay:"CHANGE_INTERVAL",guard:A(_("isAtMin"),"isIncrementHint"),actions:"increment"},{delay:"CHANGE_INTERVAL",guard:A(_("isAtMax"),"isDecrementHint"),actions:"decrement"}],on:{"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:"focus",activities:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}}},{delays:{CHANGE_INTERVAL:50,CHANGE_DELAY:300},guards:{clampValueOnBlur:e=>e.clampValueOnBlur,isAtMin:e=>e.isAtMin,spinOnPress:e=>!!e.spinOnPress,isAtMax:e=>e.isAtMax,isInRange:e=>!e.isOutOfRange,isDecrementHint:(e,n)=>(n.hint??e.hint)==="decrement",isIncrementHint:(e,n)=>(n.hint??e.hint)==="increment",isTouchPointer:(e,n)=>n.pointerType==="touch"},activities:{trackFormControl(e,n,{initialContext:i}){const o=l.getInputEl(e);return Xe(o,{onFieldsetDisabledChange(u){e.fieldsetDisabled=u},onFormReset(){y.value(e,i.value)}})},setupVirtualCursor(e){return l.setupVirtualCursor(e)},preventTextSelection(e){return l.preventTextSelection(e)},trackButtonDisabled(e,n,{send:i}){const o=l.getPressedTriggerEl(e,e.hint);return xe(o,{attributes:["disabled"],callback(){i({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener(e,n,{send:i}){const o=l.getInputEl(e);if(!o||!l.isActiveElement(e,o)||!e.allowMouseWheel)return;function u(s){s.preventDefault();const c=Math.sign(s.deltaY)*-1;c===1?i("VALUE.INCREMENT"):c===-1&&i("VALUE.DECREMENT")}return x(o,"wheel",u,{passive:!1})},activatePointerLock(e){if(!ne())return Ze(l.getDoc(e))},trackMousemove(e,n,{send:i}){const o=l.getDoc(e);function u(c){if(!e.scrubberCursorPoint)return;const b=l.getMousementValue(e,c);b.hint&&i({type:"SCRUBBER.POINTER_MOVE",hint:b.hint,point:b.point})}function s(){i("SCRUBBER.POINTER_UP")}return Be(x(o,"mousemove",u,!1),x(o,"mouseup",s,!1))}},actions:{focusInput(e){if(!e.focusInputOnChange)return;const n=l.getInputEl(e);l.isActiveElement(e,n)||oe(()=>n==null?void 0:n.focus({preventScroll:!0}))},increment(e,n){const i=ut(e.valueAsNumber,n.step??e.step),o=P(e,$(i,e));y.value(e,o)},decrement(e,n){const i=ct(e.valueAsNumber,n.step??e.step),o=P(e,$(i,e));y.value(e,o)},setClampedValue(e){const n=$(e.valueAsNumber,e);y.value(e,P(e,n))},setRawValue(e,n){const i=te(e,n.value),o=P(e,$(i,e));y.value(e,o)},setValue(e,n){var o;const i=((o=n.target)==null?void 0:o.value)??n.value;y.value(e,i)},clearValue(e){y.value(e,"")},incrementToMax(e){const n=P(e,e.max);y.value(e,n)},decrementToMin(e){const n=P(e,e.min);y.value(e,n)},setHint(e,n){e.hint=n.hint},clearHint(e){e.hint=null},setHintToSet(e){e.hint="set"},invokeOnFocus(e){var n;(n=e.onFocusChange)==null||n.call(e,{focused:!0,value:e.formattedValue,valueAsNumber:e.valueAsNumber})},invokeOnBlur(e){var n;(n=e.onFocusChange)==null||n.call(e,{focused:!1,value:e.formattedValue,valueAsNumber:e.valueAsNumber})},invokeOnInvalid(e){var i;if(!e.isOutOfRange)return;const n=e.valueAsNumber>e.max?"rangeOverflow":"rangeUnderflow";(i=e.onValueInvalid)==null||i.call(e,{reason:n,value:e.formattedValue,valueAsNumber:e.valueAsNumber})},syncInputElement(e,n){const i=n.type.endsWith("CHANGE")?e.value:e.formattedValue;vt.input(e,i)},setFormattedValue(e){y.value(e,e.formattedValue)},setCursorPoint(e,n){e.scrubberCursorPoint=n.point},clearCursorPoint(e){e.scrubberCursorPoint=null},setVirtualCursorPosition(e){const n=l.getCursorEl(e);if(!n||!e.scrubberCursorPoint)return;const{x:i,y:o}=e.scrubberCursorPoint;n.style.transform=`translate3d(${i}px, ${o}px, 0px)`},setFormatterAndParser(e){e.locale&&(e.formatter=Q(e.locale,e.formatOptions),e.parser=ee(e.locale,e.formatOptions))}},compareFns:{formatOptions:(e,n)=>k(e,n),scrubberCursorPoint:(e,n)=>k(e,n)}})}var vt={input(t,r){const e=l.getInputEl(t);if(!e)return;const n=bt(e);oe(()=>{l.setValue(e,r),ht(e,n)})}},It={onChange:t=>{var r;(r=t.onValueChange)==null||r.call(t,{value:t.value,valueAsNumber:t.valueAsNumber})}},y={value:(t,r)=>{k(t.value,r)||(t.value=r,It.onChange(t))}};const Pt=(t={})=>{const{getRootNode:r}=qe(),{dir:e}=Ye(),n=se(),i={id:T.useId(),ids:{label:n==null?void 0:n.ids.label,input:n==null?void 0:n.ids.control},disabled:n==null?void 0:n.disabled,readOnly:n==null?void 0:n.readOnly,required:n==null?void 0:n.required,invalid:n==null?void 0:n.invalid,dir:e,getRootNode:r,value:t.defaultValue,...t},o={...i,value:t.value,onValueChange:M(t.onValueChange,{sync:!0}),onValueInvalid:M(t.onValueInvalid),onFocusChange:M(t.onFocusChange)},[u,s]=Me(yt(i),{context:o});return ft(u,s,Le)},fe=T.forwardRef((t,r)=>{const[e,n]=Ge()(t,["allowMouseWheel","allowOverflow","clampValueOnBlur","defaultValue","disabled","focusInputOnChange","form","formatOptions","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","readOnly","required","spinOnPress","step","translations","value"]),i=Pt(e),o=C(i.getRootProps(),n);return f.jsx(at,{value:i,children:f.jsx(R.div,{...o,ref:r})})});fe.displayName="NumberInputRoot";const re={alignItems:"center",borderColor:"neutral.300",color:"neutral.500",cursor:"pointer",display:"inline-flex",justifyContent:"center",transitionDuration:"normal",transitionProperty:"background, border-color, color, box-shadow",transitionTimingFunction:"default","& :where(svg)":{width:4,height:4},_hover:{background:"neutral.200",color:"neutral.500"},_disabled:{color:"disabled",opacity:50,cursor:"not-allowed",_hover:{background:"transparent",color:"disabled"}}},Et=Ne({className:"numberInput",slots:ue.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5"},control:{borderColor:"neutral.300",borderRadius:"lg",borderWidth:"1px",display:"grid",divideX:"1px",gridTemplateColumns:"1fr 32px",gridTemplateRows:"1fr 1fr",overflow:"hidden",transitionDuration:"normal",transitionProperty:"border-color, box-shadow",transitionTimingFunction:"default",_focusWithin:{borderColor:"primary.500",boxShadow:"0 0 0 2px var(--shadow-color)",shadowColor:"primary.500"}},input:{background:"transparent",border:"none",gridRow:"2",outline:"none",width:"full",_placeholder:{color:"neutral.400"},_disabled:{cursor:"not-allowed",opacity:50}},decrementTrigger:{...re,borderTopWidth:"1px"},incrementTrigger:re},variants:{invalid:{true:{control:{borderColor:"error.500"}}},size:{md:{control:{ps:"3",h:"10",minW:"10",fontSize:"md"}},lg:{control:{ps:"3.5",h:"11",minW:"11",fontSize:"md"}},xl:{control:{ps:"4",h:"12",minW:"12",fontSize:"lg"}}}},defaultVariants:{size:"md",invalid:!1}}),be=T.forwardRef(function(t,r){const{placeholder:e,invalid:n,size:i,className:o,...u}=t,s=Et({size:i,invalid:n});return f.jsx(fe,{ref:r,className:Te(s.root,o),...u,children:f.jsxs(ce,{className:s.control,children:[f.jsx(pe,{className:s.input,placeholder:e}),f.jsx(me,{className:s.incrementTrigger,children:f.jsx(Ke,{})}),f.jsx(de,{className:s.decrementTrigger,children:f.jsx(He,{})})]})})});be.displayName="NumberInput";be.__docgenInfo={description:"",methods:[],displayName:"NumberInput"};export{be as R};
