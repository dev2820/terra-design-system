import{c as b}from"./createLucideIcon-zijr-BYg.js";import{j as C}from"./jsx-runtime-qGIIFXMu.js";import{j as y,k as I,l as R,o as E,p as P,q as w,s as L,r as v,t as k,u as D,v as S,w as A,x as T,y as z,z as M,A as j,m as f,h}from"./use-event-CIsOJ8E4.js";import{r as u}from"./index-CDs2tPxN.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=b("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),x=n=>y()(n,["defaultOpen","disabled","id","ids","lazyMount","onExitComplete","onOpenChange","open","unmountOnExit"]);var V=I("collapsible").parts("root","trigger","content"),g=V.build(),l=R({getRootId:n=>{var a;return((a=n.ids)==null?void 0:a.root)??`collapsible:${n.id}`},getContentId:n=>{var a;return((a=n.ids)==null?void 0:a.content)??`collapsible:${n.id}:content`},getTriggerId:n=>{var a;return((a=n.ids)==null?void 0:a.trigger)??`collapsible:${n.id}:trigger`},getRootEl:n=>l.getById(n,l.getRootId(n)),getContentEl:n=>l.getById(n,l.getContentId(n)),getTriggerEl:n=>l.getById(n,l.getTriggerId(n))});function $(n,a,e){const o=n.matches("open","closing"),i=n.matches("open"),t=n.context.height,r=n.context.width,s=!!n.context.disabled,d=!n.context.initial&&i;return{disabled:s,visible:o,open:i,setOpen(p){p!==i&&a(p?"OPEN":"CLOSE")},getRootProps(){return e.element({...g.root.attrs,"data-state":i?"open":"closed",dir:n.context.dir,id:l.getRootId(n.context)})},getContentProps(){return e.element({...g.content.attrs,"data-state":d?void 0:i?"open":"closed",id:l.getContentId(n.context),"data-disabled":E(s),hidden:!o,style:{"--height":t!=null?`${t}px`:void 0,"--width":r!=null?`${r}px`:void 0}})},getTriggerProps(){return e.element({...g.trigger.attrs,id:l.getTriggerId(n.context),dir:n.context.dir,type:"button","data-state":i?"open":"closed","data-disabled":E(s),"aria-controls":l.getContentId(n.context),"aria-expanded":o||!1,onClick(p){p.defaultPrevented||s||a({type:i?"CLOSE":"OPEN",src:"trigger.click"})}})}}}function B(n){const a=P(n);return w({id:"collapsible",initial:a.open?"open":"closed",context:{...a,height:0,width:0,initial:!1,stylesRef:null,unmountAnimationName:null},watch:{open:["setInitial","computeSize","toggleVisibility"]},exit:["clearInitial"],states:{closed:{tags:["closed"],on:{"CONTROLLED.OPEN":"open",OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","computeSize","invokeOnOpen"]}]}},closing:{tags:["open"],activities:["trackAnimationEvents"],on:{"CONTROLLED.CLOSE":"closed","CONTROLLED.OPEN":"open",OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["setInitial","invokeOnOpen"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnExitComplete"]},{target:"closed",actions:["setInitial","computeSize","invokeOnExitComplete"]}],"ANIMATION.END":{target:"closed",actions:["invokeOnExitComplete"]}}},open:{tags:["open"],on:{"CONTROLLED.CLOSE":"closing",CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closing",actions:["setInitial","computeSize","invokeOnClose"]}]}}}},{guards:{isOpenControlled:e=>!!e["open.controlled"]},activities:{trackAnimationEvents(e,o,{send:i}){let t;const r=v(()=>{const s=l.getContentEl(e);if(!s)return;const d=k(s).animationName;if(!d||d==="none"){i({type:"ANIMATION.END"});return}const m=c=>{const N=(s.ownerDocument.defaultView||window).getComputedStyle(s).animationName;c.target===s&&N===e.unmountAnimationName&&i({type:"ANIMATION.END"})};s.addEventListener("animationend",m),t=()=>{s.removeEventListener("animationend",m)}});return()=>{r(),t==null||t()}}},actions:{setInitial(e){e.initial=!0},clearInitial(e){e.initial=!1},computeSize(e,o){var i;(i=e._rafCleanup)==null||i.call(e),e._rafCleanup=v(()=>{const t=l.getContentEl(e);if(!t)return;if(e.stylesRef||(e.stylesRef=D({animationName:t.style.animationName,animationDuration:t.style.animationDuration})),o.type==="CLOSE"||!e.open){const d=t.ownerDocument.defaultView||window;e.unmountAnimationName=d.getComputedStyle(t).animationName}const r=t.hidden;t.style.animationName="none",t.style.animationDuration="0s",t.hidden=!1;const s=t.getBoundingClientRect();e.height=s.height,e.width=s.width,e.initial&&(t.style.animationName=e.stylesRef.animationName,t.style.animationDuration=e.stylesRef.animationDuration),t.hidden=r})},invokeOnOpen:e=>{var o;(o=e.onOpenChange)==null||o.call(e,{open:!0})},invokeOnClose:e=>{var o;(o=e.onOpenChange)==null||o.call(e,{open:!1})},invokeOnExitComplete(e){var o;(o=e.onExitComplete)==null||o.call(e)},toggleVisibility:(e,o,{send:i})=>{i({type:e.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE"})}}})}L()(["dir","disabled","getRootNode","id","ids","onExitComplete","onOpenChange","open.controlled","open"]);const _=(n={})=>{const{lazyMount:a,unmountOnExit:e,...o}=n,i=u.useRef(!1),{dir:t}=S(),{getRootNode:r}=A(),s={id:u.useId(),dir:t,getRootNode:r,open:n.defaultOpen,"open.controlled":n.open!==void 0,...o},d={...s,open:n.open,onOpenChange:T(n.onOpenChange,{sync:!0})},[p,m]=z(B(s),{context:d}),c=$(p,m,M);c.visible&&(i.current=!0);const O=!c.visible&&!i.current&&a||e&&!c.visible&&i.current;return{...c,isUnmounted:O}},[q,U]=j({name:"CollapsibleContext",hookName:"useCollapsibleContext",providerName:"<CollapsibleProvider />"}),F=u.forwardRef((n,a)=>{const[e,o]=x(n),i=_(e),t=f(i.getRootProps(),o);return C.jsx(q,{value:i,children:C.jsx(h.div,{...t,ref:a})})});F.displayName="CollapsibleRoot";const G=u.forwardRef((n,a)=>{const e=U();if(e.isUnmounted)return null;const o=f(e.getContentProps(),n);return C.jsx(h.div,{...o,ref:a})});G.displayName="CollapsibleContent";export{W as C,F as a,G as b,U as u};
