import{j as l}from"./jsx-runtime-qGIIFXMu.js";import{t as R,I as S,c as C}from"./tv-CIwtzMts.js";import{r as p}from"./index-CDs2tPxN.js";import{c as x}from"./create-react-context-Dw26gLIP.js";import{c as A,m as O,h as m,a as D,b as _,R as M,d as V,e as j,S as G,C as $,f as B,g as Y,A as F,E as K}from"./factory-BCO0_PXk.js";import{a as I,u as q,P as H}from"./use-presence-BYwEg9-n.js";import{s as J}from"./split-presence-props-DcTE3k_W.js";import{g as Q,a as N}from"./index-l88IbyY5.js";import{a as f}from"./index-DRtd-hRg.js";import{c as U}from"./index-6Viw2UEs.js";import{u as W,a as X}from"./use-locale-context-CTaGYWMe.js";import{u as Z}from"./use-event-eGuf5zsd.js";const[z,E]=A({name:"TooltipContext",hookName:"useTooltipContext",providerName:"<TooltipProvider />"}),w=p.forwardRef((o,t)=>{const e=E(),r=O(e.getArrowProps(),o);return l.jsx(m.div,{...r,ref:t})});w.displayName="TooltipArrow";const h=p.forwardRef((o,t)=>{const e=E(),r=O(e.getArrowTipProps(),o);return l.jsx(m.div,{...r,ref:t})});h.displayName="TooltipArrowTip";const k=p.forwardRef((o,t)=>{const e=E(),r=I(),n=O(e.getContentProps(),r.getPresenceProps(t),o);return r.unmounted?null:l.jsx(m.div,{...n})});k.displayName="TooltipContent";const L=p.forwardRef((o,t)=>{const e=E(),r=O(e.getPositionerProps(),o);return I().unmounted?null:l.jsx(m.div,{...r,ref:t})});L.displayName="TooltipPositioner";var ee=D("tooltip").parts("trigger","arrow","arrowTip","positioner","content"),P=ee.build(),s=_({getTriggerId:o=>{var t;return((t=o.ids)==null?void 0:t.trigger)??`tooltip:${o.id}:trigger`},getContentId:o=>{var t;return((t=o.ids)==null?void 0:t.content)??`tooltip:${o.id}:content`},getArrowId:o=>{var t;return((t=o.ids)==null?void 0:t.arrow)??`tooltip:${o.id}:arrow`},getPositionerId:o=>{var t;return((t=o.ids)==null?void 0:t.positioner)??`tooltip:${o.id}:popper`},getTriggerEl:o=>s.getById(o,s.getTriggerId(o)),getContentEl:o=>s.getById(o,s.getContentId(o)),getPositionerEl:o=>s.getById(o,s.getPositionerId(o)),getArrowEl:o=>s.getById(o,s.getArrowId(o))}),d=M({id:null,prevId:null,setId(o){this.prevId=this.id,this.id=o}});function oe(o,t,e){const r=o.context.id,n=o.context.hasAriaLabel,i=o.hasTag("open"),g=s.getTriggerId(o.context),u=s.getContentId(o.context),c=o.context.disabled,v=Q({...o.context.positioning,placement:o.context.currentPlacement});return{open:i,setOpen(a){a!==i&&t(a?"OPEN":"CLOSE")},reposition(a={}){t({type:"POSITIONING.SET",options:a})},getTriggerProps(){return e.button({...P.trigger.attrs,id:g,dir:o.context.dir,"data-expanded":V(i),"data-state":i?"open":"closed","aria-describedby":i?u:void 0,onClick(a){a.defaultPrevented||c||o.context.closeOnClick&&t({type:"CLOSE",src:"trigger.click"})},onFocus(a){a.defaultPrevented||c||o.event.src!=="trigger.pointerdown"&&t({type:"OPEN",src:"trigger.focus"})},onBlur(a){a.defaultPrevented||c||r===d.id&&t({type:"CLOSE",src:"trigger.blur"})},onPointerDown(a){a.defaultPrevented||c||o.context.closeOnPointerDown&&r===d.id&&t({type:"CLOSE",src:"trigger.pointerdown"})},onPointerMove(a){a.defaultPrevented||c||a.pointerType!=="touch"&&t("POINTER_MOVE")},onPointerLeave(){c||t("POINTER_LEAVE")},onPointerCancel(){c||t("POINTER_LEAVE")}})},getArrowProps(){return e.element({id:s.getArrowId(o.context),...P.arrow.attrs,dir:o.context.dir,style:v.arrow})},getArrowTipProps(){return e.element({...P.arrowTip.attrs,dir:o.context.dir,style:v.arrowTip})},getPositionerProps(){return e.element({id:s.getPositionerId(o.context),...P.positioner.attrs,dir:o.context.dir,style:v.floating})},getContentProps(){return e.element({...P.content.attrs,dir:o.context.dir,hidden:!i,"data-state":i?"open":"closed",role:n?void 0:"tooltip",id:n?void 0:u,"data-placement":o.context.currentPlacement,onPointerEnter(){t("CONTENT.POINTER_MOVE")},onPointerLeave(){t("CONTENT.POINTER_LEAVE")},style:{pointerEvents:o.context.interactive?"auto":"none"}})}}}var{and:te,not:y}=Y;function re(o){const t=U(o);return j({id:"tooltip",initial:t.open?"open":"closed",context:{openDelay:1e3,closeDelay:500,closeOnPointerDown:!0,closeOnEscape:!0,interactive:!1,closeOnScroll:!0,closeOnClick:!0,...t,currentPlacement:void 0,hasPointerMoveOpened:!1,positioning:{placement:"bottom",...t.positioning}},computed:{hasAriaLabel:e=>!!e["aria-label"]},watch:{disabled:["closeIfDisabled"],open:["toggleVisibility"]},states:{closed:{tags:["closed"],entry:["clearGlobalId"],on:{"CONTROLLED.OPEN":"open",OPEN:{target:"open",actions:["invokeOnOpen"]},POINTER_LEAVE:{actions:["clearPointerMoveOpened"]},POINTER_MOVE:[{guard:te("noVisibleTooltip",y("hasPointerMoveOpened")),target:"opening"},{guard:y("hasPointerMoveOpened"),target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}]}},opening:{tags:["closed"],activities:["trackScroll","trackPointerlockChange"],after:{OPEN_DELAY:[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],POINTER_LEAVE:[{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],CLOSE:{target:"closed",actions:["invokeOnClose"]}}},open:{tags:["open"],activities:["trackEscapeKey","trackScroll","trackPointerlockChange","trackPositioning"],entry:["setGlobalId"],on:{"CONTROLLED.CLOSE":"closed",CLOSE:{target:"closed",actions:["invokeOnClose"]},POINTER_LEAVE:[{guard:"isVisible",target:"closing",actions:["clearPointerMoveOpened"]},{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],"CONTENT.POINTER_LEAVE":{guard:"isInteractive",target:"closing"},"POSITIONING.SET":{actions:"reposition"}}},closing:{tags:["open"],activities:["trackStore","trackPositioning"],after:{CLOSE_DELAY:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]},on:{"CONTROLLED.CLOSE":"closed","CONTROLLED.OPEN":"open",CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],POINTER_MOVE:[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"CONTENT.POINTER_MOVE":{guard:"isInteractive",target:"open"},"POSITIONING.SET":{actions:"reposition"}}}}},{activities:{trackPositioning(e){e.currentPlacement=e.positioning.placement;const r=()=>s.getPositionerEl(e);return N(s.getTriggerEl(e),r,{...e.positioning,defer:!0,onComplete(n){e.currentPlacement=n.placement}})},trackPointerlockChange(e,r,{send:n}){const i=()=>n({type:"CLOSE",src:"pointerlock:change"});return f(s.getDoc(e),"pointerlockchange",i,!1)},trackScroll(e,r,{send:n}){if(!e.closeOnScroll)return;const i=s.getTriggerEl(e);if(!i)return;const u=G(i).map(c=>f(c,"scroll",()=>{n({type:"CLOSE",src:"scroll"})},{passive:!0,capture:!0}));return()=>{u.forEach(c=>c==null?void 0:c())}},trackStore(e,r,{send:n}){return $(d,()=>{d.id!==e.id&&n({type:"CLOSE",src:"id.change"})})},trackEscapeKey(e,r,{send:n}){if(!e.closeOnEscape)return;const i=s.getDoc(e);return f(i,"keydown",g=>{g.key==="Escape"&&n({type:"CLOSE",src:"keydown.escape"})})}},actions:{setGlobalId(e){d.setId(e.id)},clearGlobalId(e){e.id===d.id&&d.setId(null)},invokeOnOpen(e){var r;(r=e.onOpenChange)==null||r.call(e,{open:!0})},invokeOnClose(e){var r;(r=e.onOpenChange)==null||r.call(e,{open:!1})},closeIfDisabled(e,r,{send:n}){e.disabled&&n({type:"CLOSE",src:"disabled:change"})},reposition(e,r){const n=()=>s.getPositionerEl(e);N(s.getTriggerEl(e),n,{...e.positioning,...r.options,defer:!0,listeners:!1,onComplete(i){e.currentPlacement=i.placement}})},toggleVisibility(e,r,{send:n}){n({type:e.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:r})},setPointerMoveOpened(e){e.hasPointerMoveOpened=!0},clearPointerMoveOpened(e){e.hasPointerMoveOpened=!1}},guards:{noVisibleTooltip:()=>d.id===null,isVisible:e=>e.id===d.id,isInteractive:e=>e.interactive,hasPointerMoveOpened:e=>!!e.hasPointerMoveOpened,isOpenControlled:e=>!!e["open.controlled"]},delays:{OPEN_DELAY:e=>e.openDelay,CLOSE_DELAY:e=>e.closeDelay}})}B()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","open.controlled","open","openDelay","positioning"]);const ne=o=>{const{getRootNode:t}=W(),{dir:e}=X(),r={id:p.useId(),dir:e,getRootNode:t,open:o.defaultOpen,"open.controlled":o.open!==void 0,...o},n={...r,onOpenChange:Z(o.onOpenChange,{sync:!0})},[i,g]=F(re(r),{context:n});return oe(i,g,K)},ie=o=>{const[t,{children:e,...r}]=J(o),n=ne(r),i=q(O({present:n.open},t));return l.jsx(z,{value:n,children:l.jsx(H,{value:i,children:e})})},b=p.forwardRef((o,t)=>{const e=E(),r=O(e.getTriggerProps(),o);return l.jsx(m.button,{...r,ref:t})});b.displayName="TooltipTrigger";const se=R({base:`${S.scope} tooltip`,slots:{content:"trds-rounded-md trds-shadow-sm trds-font-semibold trds-px-3 trds-py-2 trds-text-xs trds-max-w-40 trds-z-tooltip data-open:trds-animate-fade-in data-closed:trds-animate-fade-out",arrow:"[--arrow-size:8px]",arrowTip:"trds-border-neutral-800 trds-border-t-[1px] trds-border-l-[1px]",trigger:""},variants:{theme:{neutral:{content:"trds-bg-neutral-800 trds-text-white",arrow:"[--arrow-background:var(--colors-neutral-800,#1f2937)]",arrowTip:"trds-border-neutral-800"},primary:{content:"trds-bg-primary-500 trds-text-fg-primary",arrow:"trds-[--arrow-background:var(--colors-primary-500,#8b5cf6)]",arrowTip:"trds-border-primary-500"}}},defaultVariants:{theme:"neutral"}}),[ae,T]=x({name:"tooltip",hookName:"useTooltipContext",providerName:"TooltipProvider",defaultValue:{classes:{}}});function le(o){const{theme:t,children:e,closeDelay:r=200,openDelay:n=100,...i}=o,u={classes:se({theme:t})};return l.jsx(ae,{value:u,children:l.jsx(ie,{openDelay:n,closeDelay:r,...i,children:e})})}const ce=p.forwardRef(function(o,t){const{classes:e}=T(),{children:r,className:n,...i}=o;return l.jsx(b,{className:C(e.trigger(),n),ref:t,...i,children:r})}),de=p.forwardRef(function(o,t){const{classes:e}=T(),{children:r,className:n,...i}=o;return l.jsx(L,{children:l.jsx(k,{className:C(e.content(),n),ref:t,...i,children:r})})}),pe=p.forwardRef(function(o,t){const{classes:e}=T(),{children:r,className:n,...i}=o;return l.jsx(w,{className:C(e.arrow(),n),...i,ref:t,children:l.jsx(h,{className:e.arrowTip()})})});le.__docgenInfo={description:"",methods:[],displayName:"Root",props:{theme:{required:!0,tsType:{name:"union",raw:"'neutral' | 'primary'",elements:[{name:"literal",value:"'neutral'"},{name:"literal",value:"'primary'"}]},description:""}}};ce.__docgenInfo={description:"",methods:[],displayName:"Trigger"};de.__docgenInfo={description:"",methods:[],displayName:"Content"};pe.__docgenInfo={description:"",methods:[],displayName:"Arrow"};export{pe as A,de as C,le as R,ce as T};
