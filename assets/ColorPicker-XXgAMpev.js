import{j as u}from"./jsx-runtime-qGIIFXMu.js";import{r as E}from"./index-CDs2tPxN.js";import{c as W,a as q}from"./cva-C095pwBQ.js";import{s as Ye}from"./sva-CxSEfBjn.js";import{f as _}from"./spacer-CRhrBJcD.js";import{I as me}from"./IconButton-E43GEZXc.js";import{I as te}from"./Input-BydU8ZSw.js";import{j as Ze,c as G,y as v,z as I,l as ze,q as K,m as k,T as Qe,v as et,o as tt,k as rt,s as nt,r as L,S as at,B as ot,F as st}from"./factory-BCwUXDVF.js";import{g as Ce,d as T,t as S,m as Ne,b as lt,s as fe,a as it}from"./index-4KpmSbEW.js";import{c as ct,q as X,b as ut,J as dt}from"./index-Dquv0SIZ.js";import{c as ht}from"./createLucideIcon-zijr-BYg.js";import{c as V}from"./create-split-props-u5h9OPvL.js";import{s as gt}from"./split-presence-props-DcTE3k_W.js";import{a as Te,u as pt,P as mt}from"./use-presence-zw3amx30.js";import{h as be,d as Se,k as Pe,e as ke,j as Ee,g as ve,l as Ct,m as ft}from"./index-qa1jsk-d.js";import{g as bt,a as St}from"./index-DDey0k43.js";import{a as Pt}from"./index-Bi-kwPO5.js";import{t as kt,a as Et}from"./index-DBzJ7FiP.js";import{u as vt,a as yt}from"./use-locale-context-0tfyuFre.js";import{u as ye}from"./use-event-eGuf5zsd.js";import{u as It}from"./use-field-context-BjqdMh-O.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=ht("Pipette",[["path",{d:"m2 22 1-1h3l9-9",key:"1sre89"}],["path",{d:"M3 21v-3l9-9",key:"hpe2y6"}],["path",{d:"m15 6 3.4-3.4a2.1 2.1 0 1 1 3 3L18 9l.4.4a2.1 2.1 0 1 1-3 3l-3.8-3.8a2.1 2.1 0 1 1 3-3l.4.4Z",key:"196du1"}]]);var Oe=Ze("color-picker",["root","label","control","trigger","positioner","content","area","areaThumb","valueText","areaBackground","channelSlider","channelSliderLabel","channelSliderTrack","channelSliderThumb","channelSliderValueText","channelInput","transparencyGrid","swatchGroup","swatchTrigger","swatchIndicator","swatch","eyeDropperTrigger","formatTrigger","formatSelect"]);Oe.build();var b=ct({getRootId:e=>{var r;return((r=e.ids)==null?void 0:r.root)??`color-picker:${e.id}`},getLabelId:e=>{var r;return((r=e.ids)==null?void 0:r.label)??`color-picker:${e.id}:label`},getHiddenInputId:e=>{var r;return((r=e.ids)==null?void 0:r.hiddenInput)??`color-picker:${e.id}:hidden-input`},getControlId:e=>{var r;return((r=e.ids)==null?void 0:r.control)??`color-picker:${e.id}:control`},getTriggerId:e=>{var r;return((r=e.ids)==null?void 0:r.trigger)??`color-picker:${e.id}:trigger`},getContentId:e=>{var r;return((r=e.ids)==null?void 0:r.content)??`color-picker:${e.id}:content`},getPositionerId:e=>{var r;return((r=e.ids)==null?void 0:r.positioner)??`color-picker:${e.id}:positioner`},getFormatSelectId:e=>{var r;return((r=e.ids)==null?void 0:r.formatSelect)??`color-picker:${e.id}:format-select`},getAreaId:e=>{var r;return((r=e.ids)==null?void 0:r.area)??`color-picker:${e.id}:area`},getAreaGradientId:e=>{var r;return((r=e.ids)==null?void 0:r.areaGradient)??`color-picker:${e.id}:area-gradient`},getAreaThumbId:e=>{var r;return((r=e.ids)==null?void 0:r.areaThumb)??`color-picker:${e.id}:area-thumb`},getChannelSliderTrackId:(e,r)=>{var t,n;return((n=(t=e.ids)==null?void 0:t.channelSliderTrack)==null?void 0:n.call(t,r))??`color-picker:${e.id}:slider-track:${r}`},getChannelSliderThumbId:(e,r)=>{var t,n;return((n=(t=e.ids)==null?void 0:t.channelSliderThumb)==null?void 0:n.call(t,r))??`color-picker:${e.id}:slider-thumb:${r}`},getContentEl:e=>b.getById(e,b.getContentId(e)),getAreaThumbEl:e=>b.getById(e,b.getAreaThumbId(e)),getChannelSliderThumbEl:(e,r)=>b.getById(e,b.getChannelSliderThumbId(e,r)),getChannelInputEl:(e,r)=>{const t=`input[data-channel="${r}"]`;return[...X(b.getContentEl(e),t),...X(b.getControlEl(e),t)]},getFormatSelectEl:e=>b.getById(e,b.getFormatSelectId(e)),getHiddenInputEl:e=>b.getById(e,b.getHiddenInputId(e)),getAreaEl:e=>b.getById(e,b.getAreaId(e)),getAreaValueFromPoint(e,r){const t=b.getAreaEl(e);if(!t)return;const{percent:n}=Ce(r,t);return n},getControlEl:e=>b.getById(e,b.getControlId(e)),getTriggerEl:e=>b.getById(e,b.getTriggerId(e)),getPositionerEl:e=>b.getById(e,b.getPositionerId(e)),getChannelSliderTrackEl:(e,r)=>b.getById(e,b.getChannelSliderTrackId(e,r)),getChannelSliderValueFromPoint(e,r,t){const n=b.getChannelSliderTrackEl(e,t);if(!n)return;const{percent:a}=Ce(r,n);return a},getChannelInputEls:e=>[...X(b.getContentEl(e),"input[data-channel]"),...X(b.getControlEl(e),"input[data-channel]")]});const wt=Oe.extendWith("view"),[Rt,$e]=G({name:"ColorPickerAreaContext",hookName:"useColorPickerAreaContext",providerName:"<ColorPickerAreaProvider />"}),[Nt,A]=G({name:"ColorPickerContext",hookName:"useColorPickerContext",providerName:"<ColorPickerProvider />"}),xe=E.forwardRef((e,r)=>{const[t,n]=V()(e,["xChannel","yChannel"]),a=A(),o=v(a.getAreaProps(t),n);return u.jsx(Rt,{value:t,children:u.jsx(I.div,{...o,ref:r})})});xe.displayName="ColorPickerArea";const Fe=E.forwardRef((e,r)=>{const t=A(),n=$e(),a=v(t.getAreaBackgroundProps(n),e);return u.jsx(I.div,{...a,ref:r})});Fe.displayName="ColorPickerAreaBackground";const Ve=E.forwardRef((e,r)=>{const t=A(),n=$e(),a=v(t.getAreaThumbProps(n),e);return u.jsx(I.div,{...a,ref:r})});Ve.displayName="ColorPickerAreaThumb";const J=E.forwardRef((e,r)=>{const[t,n]=V()(e,["channel","orientation"]),a=A(),o=v(a.getChannelInputProps(t),n);return u.jsx(I.input,{...o,ref:r})});J.displayName="ColorPickerChannelInput";const[Tt,Le]=G({name:"ColorPickerChannelSliderContext",hookName:"useColorPickerChannelSliderContext",providerName:"<ColorPickerChannelSliderProvider />"}),[Tr,ce]=G({name:"ColorPickerFormatContext",hookName:"useColorPickerFormatPropsContext",providerName:"<ColorPickerFormatPropsProvider />",strict:!1}),ne=E.forwardRef((e,r)=>{const[t,n]=V()(e,["channel","orientation"]),a=A(),o=ce(),s={...t,...o},c=v(a.getChannelSliderProps(s),n);return u.jsx(Tt,{value:t,children:u.jsx(I.div,{...c,ref:r})})});ne.displayName="ColorPickerChannelSlider";const ae=E.forwardRef((e,r)=>{const t=A(),n=Le(),a=ce(),o={...n,...a},s=v(t.getChannelSliderThumbProps(o),e);return u.jsx(I.div,{...s,ref:r})});ae.displayName="ColorPickerChannelSliderThumb";const oe=E.forwardRef((e,r)=>{const t=A(),n=Le(),a=ce(),o={...n,...a},s=v(t.getChannelSliderTrackProps(o),e);return u.jsx(I.div,{...s,ref:r})});oe.displayName="ColorPickerChannelSliderTrack";const De=E.forwardRef((e,r)=>{const t=A(),n=Te(),a=v(t.getContentProps(),n.getPresenceProps(r),e);return n.unmounted?null:u.jsx(I.div,{...a})});De.displayName="ColorPickerContent";const Ot=e=>e.children(A()),_e=E.forwardRef((e,r)=>{const t=A(),n=v(t.getControlProps(),e);return u.jsx(I.div,{...n,ref:r})});_e.displayName="ColorPickerControl";const He=E.forwardRef((e,r)=>{const t=A(),n=v(t.getEyeDropperTriggerProps(),e);return u.jsx(I.button,{...n,ref:r})});He.displayName="ColorPickerEyeDropperTrigger";const Ge=E.forwardRef((e,r)=>{const t=A(),n=v(t.getPositionerProps(),e);return Te().unmounted?null:u.jsx(I.div,{...n,ref:r})});Ge.displayName="ColorPickerPositioner";var $t=Object.defineProperty,xt=(e,r,t)=>r in e?$t(e,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[r]=t,ue=(e,r,t)=>xt(e,r+"",t),Ft=(e,r,t)=>{const n=`linear-gradient(to ${e[+!r]}, transparent, #000)`;return{areaStyles:{backgroundImage:`linear-gradient(to ${e[Number(r)]},rgb(${t},0,0),rgb(${t},255,0))`},areaGradientStyles:{backgroundImage:`linear-gradient(to ${e[Number(r)]},rgb(${t},0,255),rgb(${t},255,255))`,WebkitMaskImage:n,maskImage:n}}},Vt=(e,r,t)=>{const n=`linear-gradient(to ${e[+!r]}, transparent, #000)`;return{areaStyles:{backgroundImage:`linear-gradient(to ${e[Number(r)]},rgb(0,${t},0),rgb(255,${t},0))`},areaGradientStyles:{backgroundImage:`linear-gradient(to ${e[Number(r)]},rgb(0,${t},255),rgb(255,${t},255))`,WebkitMaskImage:n,maskImage:n}}},Lt=(e,r,t)=>{const n=`linear-gradient(to ${e[+!r]}, transparent, #000)`;return{areaStyles:{backgroundImage:`linear-gradient(to ${e[Number(r)]},rgb(0,0,${t}),rgb(255,0,${t}))`},areaGradientStyles:{backgroundImage:`linear-gradient(to ${e[Number(r)]},rgb(0,255,${t}),rgb(255,255,${t}))`,WebkitMaskImage:n,maskImage:n}}},Dt=(e,r,t)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[Number(r)]}, hsla(0,0%,0%,1) 0%, hsla(0,0%,0%,0) 50%, hsla(0,0%,100%,0) 50%, hsla(0,0%,100%,1) 100%)`,`linear-gradient(to ${e[+!r]},hsl(0,0%,50%),hsla(0,0%,50%,0))`,`hsl(${t}, 100%, 50%)`].join(",")}}),_t=(e,r,t)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[+!r]}, hsla(0,0%,0%,${t}) 0%, hsla(0,0%,0%,0) 50%, hsla(0,0%,100%,0) 50%, hsla(0,0%,100%,${t}) 100%)`,`linear-gradient(to ${e[Number(r)]},hsla(0,100%,50%,${t}),hsla(60,100%,50%,${t}),hsla(120,100%,50%,${t}),hsla(180,100%,50%,${t}),hsla(240,100%,50%,${t}),hsla(300,100%,50%,${t}),hsla(359,100%,50%,${t}))`,"hsl(0, 0%, 50%)"].join(",")}}),Ht=(e,r,t)=>({areaStyles:{},areaGradientStyles:{backgroundImage:[`linear-gradient(to ${e[+!r]},hsl(0,0%,${t}%),hsla(0,0%,${t}%,0))`,`linear-gradient(to ${e[Number(r)]},hsl(0,100%,${t}%),hsl(60,100%,${t}%),hsl(120,100%,${t}%),hsl(180,100%,${t}%),hsl(240,100%,${t}%),hsl(300,100%,${t}%),hsl(360,100%,${t}%))`].join(",")}}),Gt=(e,r,t)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[Number(r)]},hsl(0,0%,0%),hsla(0,0%,0%,0))`,`linear-gradient(to ${e[+!r]},hsl(0,0%,100%),hsla(0,0%,100%,0))`,`hsl(${t}, 100%, 50%)`].join(",")}}),jt=(e,r,t)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[+!r]},hsla(0,0%,0%,${t}),hsla(0,0%,0%,0))`,`linear-gradient(to ${e[Number(r)]},hsla(0,100%,50%,${t}),hsla(60,100%,50%,${t}),hsla(120,100%,50%,${t}),hsla(180,100%,50%,${t}),hsla(240,100%,50%,${t}),hsla(300,100%,50%,${t}),hsla(359,100%,50%,${t}))`,`linear-gradient(to ${e[+!r]},hsl(0,0%,0%),hsl(0,0%,100%))`].join(",")}}),Bt=(e,r,t)=>({areaStyles:{},areaGradientStyles:{background:[`linear-gradient(to ${e[+!r]},hsla(0,0%,100%,${t}),hsla(0,0%,100%,0))`,`linear-gradient(to ${e[Number(r)]},hsla(0,100%,50%,${t}),hsla(60,100%,50%,${t}),hsla(120,100%,50%,${t}),hsla(180,100%,50%,${t}),hsla(240,100%,50%,${t}),hsla(300,100%,50%,${t}),hsla(359,100%,50%,${t}))`,"#000"].join(",")}});function Ie(e,r){const{xChannel:t,yChannel:n,dir:a="ltr"}=r,{zChannel:o}=e.getColorAxes({xChannel:t,yChannel:n}),s=e.getChannelValue(o),{minValue:c,maxValue:p}=e.getChannelRange(o),g=["top",a==="rtl"?"left":"right"];let f=!1,w={areaStyles:{},areaGradientStyles:{}},$=(s-c)/(p-c),j=e.getFormat()==="hsla";switch(o){case"red":{f=t==="green",w=Ft(g,f,s);break}case"green":{f=t==="red",w=Vt(g,f,s);break}case"blue":{f=t==="red",w=Lt(g,f,s);break}case"hue":{f=t!=="saturation",j?w=Dt(g,f,s):w=Gt(g,f,s);break}case"saturation":{f=t==="hue",j?w=_t(g,f,$):w=jt(g,f,$);break}case"brightness":{f=t==="hue",w=Bt(g,f,$);break}case"lightness":{f=t==="hue",w=Ht(g,f,s);break}}return w}var Ut=(e,r)=>{if(Object.keys(e).length!==Object.keys(r).length)return!1;for(let t in e)if(e[t]!==r[t])return!1;return!0},de=class{toHexInt(){return this.toFormat("rgba").toHexInt()}getChannelValue(e){if(e in this)return this[e];throw new Error("Unsupported color channel: "+e)}getChannelValuePercent(e,r){const t=r??this.getChannelValue(e),{minValue:n,maxValue:a}=this.getChannelRange(e);return lt(t,n,a)}getChannelPercentValue(e,r){const{minValue:t,maxValue:n,step:a}=this.getChannelRange(e),o=it(r,t,n,a);return fe(o,t,n,a)}withChannelValue(e,r){const{minValue:t,maxValue:n}=this.getChannelRange(e);if(e in this){let a=this.clone();return a[e]=T(r,t,n),a}throw new Error("Unsupported color channel: "+e)}getColorAxes(e){let{xChannel:r,yChannel:t}=e,n=r||this.getChannels().find(s=>s!==t),a=t||this.getChannels().find(s=>s!==n),o=this.getChannels().find(s=>s!==n&&s!==a);return{xChannel:n,yChannel:a,zChannel:o}}incrementChannel(e,r){const{minValue:t,maxValue:n,step:a}=this.getChannelRange(e),o=fe(T(this.getChannelValue(e)+r,t,n),t,n,a);return this.withChannelValue(e,o)}decrementChannel(e,r){return this.incrementChannel(e,-r)}isEqual(e){return Ut(this.toJSON(),e.toJSON())&&this.getChannelValue("alpha")===e.getChannelValue("alpha")}},je=class Y extends de{constructor(r,t,n,a){super(),this.red=r,this.green=t,this.blue=n,this.alpha=a}static parse(r){let t=[];if(/^#[\da-f]+$/i.test(r)&&[4,5,7,9].includes(r.length)){const a=(r.length<6?r.replace(/[^#]/gi,"$&$&"):r).slice(1).split("");for(;a.length>0;)t.push(parseInt(a.splice(0,2).join(""),16));t[3]=t[3]!==void 0?t[3]/255:void 0}const n=r.match(/^rgba?\((.*)\)$/);return n!=null&&n[1]&&(t=n[1].split(",").map(a=>Number(a.trim())).map((a,o)=>T(a,0,o<3?255:1))),t.length<3?void 0:new Y(t[0],t[1],t[2],t[3]??1)}toString(r){switch(r){case"hex":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")).toUpperCase();case"hexa":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")+Math.round(this.alpha*255).toString(16).padStart(2,"0")).toUpperCase();case"rgb":return`rgb(${this.red}, ${this.green}, ${this.blue})`;case"css":case"rgba":return`rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"hsb":return this.toHSB().toString("hsb");default:return this.toFormat(r).toString(r)}}toFormat(r){switch(r){case"rgba":return this;case"hsba":return this.toHSB();case"hsla":return this.toHSL();default:throw new Error("Unsupported color conversion: rgb -> "+r)}}toHexInt(){return this.red<<16|this.green<<8|this.blue}toHSB(){const r=this.red/255,t=this.green/255,n=this.blue/255,a=Math.min(r,t,n),o=Math.max(r,t,n),s=o-a,c=o===0?0:s/o;let p=0;if(s!==0){switch(o){case r:p=(t-n)/s+(t<n?6:0);break;case t:p=(n-r)/s+2;break;case n:p=(r-t)/s+4;break}p/=6}return new pe(S(p*360,2),S(c*100,2),S(o*100,2),S(this.alpha,2))}toHSL(){const r=this.red/255,t=this.green/255,n=this.blue/255,a=Math.min(r,t,n),o=Math.max(r,t,n),s=(o+a)/2,c=o-a;let p=-1,g=-1;if(c===0)p=g=0;else{switch(g=c/(s<.5?o+a:2-o-a),o){case r:p=(t-n)/c+(t<n?6:0);break;case t:p=(n-r)/c+2;break;case n:p=(r-t)/c+4;break}p/=6}return new ge(S(p*360,2),S(g*100,2),S(s*100,2),S(this.alpha,2))}clone(){return new Y(this.red,this.green,this.blue,this.alpha)}getChannelFormatOptions(r){switch(r){case"red":case"green":case"blue":return{style:"decimal"};case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+r)}}formatChannelValue(r,t){let n=this.getChannelFormatOptions(r),a=this.getChannelValue(r);return new Intl.NumberFormat(t,n).format(a)}getChannelRange(r){switch(r){case"red":case"green":case"blue":return{minValue:0,maxValue:255,step:1,pageSize:17};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+r)}}toJSON(){return{r:this.red,g:this.green,b:this.blue,a:this.alpha}}getFormat(){return"rgba"}getChannels(){return Y.colorChannels}};ue(je,"colorChannels",["red","green","blue"]);var he=je,Mt=/hsl\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsla\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,Be=class Z extends de{constructor(r,t,n,a){super(),this.hue=r,this.saturation=t,this.lightness=n,this.alpha=a}static parse(r){let t;if(t=r.match(Mt)){const[n,a,o,s]=(t[1]??t[2]).split(",").map(c=>Number(c.trim().replace("%","")));return new Z(Ne(n,360),T(a,0,100),T(o,0,100),T(s??1,0,1))}}toString(r){switch(r){case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsl":return`hsl(${this.hue}, ${S(this.saturation,2)}%, ${S(this.lightness,2)}%)`;case"css":case"hsla":return`hsla(${this.hue}, ${S(this.saturation,2)}%, ${S(this.lightness,2)}%, ${this.alpha})`;case"hsb":return this.toHSB().toString("hsb");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(r).toString(r)}}toFormat(r){switch(r){case"hsla":return this;case"hsba":return this.toHSB();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsl -> "+r)}}toHSB(){let r=this.saturation/100,t=this.lightness/100,n=t+r*Math.min(t,1-t);return r=n===0?0:2*(1-t/n),new pe(S(this.hue,2),S(r*100,2),S(n*100,2),S(this.alpha,2))}toRGB(){let r=this.hue,t=this.saturation/100,n=this.lightness/100,a=t*Math.min(n,1-n),o=(s,c=(s+r/30)%12)=>n-a*Math.max(Math.min(c-3,9-c,1),-1);return new he(Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255),S(this.alpha,2))}clone(){return new Z(this.hue,this.saturation,this.lightness,this.alpha)}getChannelFormatOptions(r){switch(r){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"lightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+r)}}formatChannelValue(r,t){let n=this.getChannelFormatOptions(r),a=this.getChannelValue(r);return(r==="saturation"||r==="lightness")&&(a/=100),new Intl.NumberFormat(t,n).format(a)}getChannelRange(r){switch(r){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"lightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+r)}}toJSON(){return{h:this.hue,s:this.saturation,l:this.lightness,a:this.alpha}}getFormat(){return"hsla"}getChannels(){return Z.colorChannels}};ue(Be,"colorChannels",["hue","saturation","lightness"]);var ge=Be,Wt=/hsb\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsba\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/,Ue=class z extends de{constructor(r,t,n,a){super(),this.hue=r,this.saturation=t,this.brightness=n,this.alpha=a}static parse(r){let t;if(t=r.match(Wt)){const[n,a,o,s]=(t[1]??t[2]).split(",").map(c=>Number(c.trim().replace("%","")));return new z(Ne(n,360),T(a,0,100),T(o,0,100),T(s??1,0,1))}}toString(r){switch(r){case"css":return this.toHSL().toString("css");case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsb":return`hsb(${this.hue}, ${S(this.saturation,2)}%, ${S(this.brightness,2)}%)`;case"hsba":return`hsba(${this.hue}, ${S(this.saturation,2)}%, ${S(this.brightness,2)}%, ${this.alpha})`;case"hsl":return this.toHSL().toString("hsl");case"rgb":return this.toRGB().toString("rgb");default:return this.toFormat(r).toString(r)}}toFormat(r){switch(r){case"hsba":return this;case"hsla":return this.toHSL();case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsb -> "+r)}}toHSL(){let r=this.saturation/100,t=this.brightness/100,n=t*(1-r/2);return r=n===0||n===1?0:(t-n)/Math.min(n,1-n),new ge(S(this.hue,2),S(r*100,2),S(n*100,2),S(this.alpha,2))}toRGB(){let r=this.hue,t=this.saturation/100,n=this.brightness/100,a=(o,s=(o+r/60)%6)=>n-t*n*Math.max(Math.min(s,4-s,1),0);return new he(Math.round(a(5)*255),Math.round(a(3)*255),Math.round(a(1)*255),S(this.alpha,2))}clone(){return new z(this.hue,this.saturation,this.brightness,this.alpha)}getChannelFormatOptions(r){switch(r){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"brightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+r)}}formatChannelValue(r,t){let n=this.getChannelFormatOptions(r),a=this.getChannelValue(r);return(r==="saturation"||r==="brightness")&&(a/=100),new Intl.NumberFormat(t,n).format(a)}getChannelRange(r){switch(r){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"brightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+r)}}toJSON(){return{h:this.hue,s:this.saturation,b:this.brightness,a:this.alpha}}getFormat(){return"hsba"}getChannels(){return z.colorChannels}};ue(Ue,"colorChannels",["hue","saturation","brightness"]);var pe=Ue,qt="aliceblue:f0f8ff,antiquewhite:faebd7,aqua:00ffff,aquamarine:7fffd4,azure:f0ffff,beige:f5f5dc,bisque:ffe4c4,black:000000,blanchedalmond:ffebcd,blue:0000ff,blueviolet:8a2be2,brown:a52a2a,burlywood:deb887,cadetblue:5f9ea0,chartreuse:7fff00,chocolate:d2691e,coral:ff7f50,cornflowerblue:6495ed,cornsilk:fff8dc,crimson:dc143c,cyan:00ffff,darkblue:00008b,darkcyan:008b8b,darkgoldenrod:b8860b,darkgray:a9a9a9,darkgreen:006400,darkkhaki:bdb76b,darkmagenta:8b008b,darkolivegreen:556b2f,darkorange:ff8c00,darkorchid:9932cc,darkred:8b0000,darksalmon:e9967a,darkseagreen:8fbc8f,darkslateblue:483d8b,darkslategray:2f4f4f,darkturquoise:00ced1,darkviolet:9400d3,deeppink:ff1493,deepskyblue:00bfff,dimgray:696969,dodgerblue:1e90ff,firebrick:b22222,floralwhite:fffaf0,forestgreen:228b22,fuchsia:ff00ff,gainsboro:dcdcdc,ghostwhite:f8f8ff,gold:ffd700,goldenrod:daa520,gray:808080,green:008000,greenyellow:adff2f,honeydew:f0fff0,hotpink:ff69b4,indianred:cd5c5c,indigo:4b0082,ivory:fffff0,khaki:f0e68c,lavender:e6e6fa,lavenderblush:fff0f5,lawngreen:7cfc00,lemonchiffon:fffacd,lightblue:add8e6,lightcoral:f08080,lightcyan:e0ffff,lightgoldenrodyellow:fafad2,lightgrey:d3d3d3,lightgreen:90ee90,lightpink:ffb6c1,lightsalmon:ffa07a,lightseagreen:20b2aa,lightskyblue:87cefa,lightslategray:778899,lightsteelblue:b0c4de,lightyellow:ffffe0,lime:00ff00,limegreen:32cd32,linen:faf0e6,magenta:ff00ff,maroon:800000,mediumaquamarine:66cdaa,mediumblue:0000cd,mediumorchid:ba55d3,mediumpurple:9370d8,mediumseagreen:3cb371,mediumslateblue:7b68ee,mediumspringgreen:00fa9a,mediumturquoise:48d1cc,mediumvioletred:c71585,midnightblue:191970,mintcream:f5fffa,mistyrose:ffe4e1,moccasin:ffe4b5,navajowhite:ffdead,navy:000080,oldlace:fdf5e6,olive:808000,olivedrab:6b8e23,orange:ffa500,orangered:ff4500,orchid:da70d6,palegoldenrod:eee8aa,palegreen:98fb98,paleturquoise:afeeee,palevioletred:d87093,papayawhip:ffefd5,peachpuff:ffdab9,peru:cd853f,pink:ffc0cb,plum:dda0dd,powderblue:b0e0e6,purple:800080,red:ff0000,rosybrown:bc8f8f,royalblue:4169e1,saddlebrown:8b4513,salmon:fa8072,sandybrown:f4a460,seagreen:2e8b57,seashell:fff5ee,sienna:a0522d,silver:c0c0c0,skyblue:87ceeb,slateblue:6a5acd,slategray:708090,snow:fffafa,springgreen:00ff7f,steelblue:4682b4,tan:d2b48c,teal:008080,thistle:d8bfd8,tomato:ff6347,turquoise:40e0d0,violet:ee82ee,wheat:f5deb3,white:ffffff,whitesmoke:f5f5f5,yellow:ffff00,yellowgreen:9acd32",Kt=e=>{const r=new Map,t=e.split(",");for(let n=0;n<t.length;n++){const[a,o]=t[n].split(":");r.set(a,`#${o}`)}return r},Ae=Kt(qt),O=e=>{var t;if(Ae.has(e))return O(Ae.get(e));const r=he.parse(e)||pe.parse(e)||ge.parse(e);if(!r){const n=new Error("Invalid color value: "+e);throw(t=Error.captureStackTrace)==null||t.call(Error,n,O),n}return r},we=e=>typeof e=="string"?O(e):e,Xt=rt("color-picker",["root","label","control","trigger","positioner","content","area","areaThumb","valueText","areaBackground","channelSlider","channelSliderLabel","channelSliderTrack","channelSliderThumb","channelSliderValueText","channelInput","transparencyGrid","swatchGroup","swatchTrigger","swatchIndicator","swatch","eyeDropperTrigger","formatTrigger","formatSelect"]),P=Xt.build(),i=ze({getRootId:e=>{var r;return((r=e.ids)==null?void 0:r.root)??`color-picker:${e.id}`},getLabelId:e=>{var r;return((r=e.ids)==null?void 0:r.label)??`color-picker:${e.id}:label`},getHiddenInputId:e=>{var r;return((r=e.ids)==null?void 0:r.hiddenInput)??`color-picker:${e.id}:hidden-input`},getControlId:e=>{var r;return((r=e.ids)==null?void 0:r.control)??`color-picker:${e.id}:control`},getTriggerId:e=>{var r;return((r=e.ids)==null?void 0:r.trigger)??`color-picker:${e.id}:trigger`},getContentId:e=>{var r;return((r=e.ids)==null?void 0:r.content)??`color-picker:${e.id}:content`},getPositionerId:e=>{var r;return((r=e.ids)==null?void 0:r.positioner)??`color-picker:${e.id}:positioner`},getFormatSelectId:e=>{var r;return((r=e.ids)==null?void 0:r.formatSelect)??`color-picker:${e.id}:format-select`},getAreaId:e=>{var r;return((r=e.ids)==null?void 0:r.area)??`color-picker:${e.id}:area`},getAreaGradientId:e=>{var r;return((r=e.ids)==null?void 0:r.areaGradient)??`color-picker:${e.id}:area-gradient`},getAreaThumbId:e=>{var r;return((r=e.ids)==null?void 0:r.areaThumb)??`color-picker:${e.id}:area-thumb`},getChannelSliderTrackId:(e,r)=>{var t,n;return((n=(t=e.ids)==null?void 0:t.channelSliderTrack)==null?void 0:n.call(t,r))??`color-picker:${e.id}:slider-track:${r}`},getChannelSliderThumbId:(e,r)=>{var t,n;return((n=(t=e.ids)==null?void 0:t.channelSliderThumb)==null?void 0:n.call(t,r))??`color-picker:${e.id}:slider-thumb:${r}`},getContentEl:e=>i.getById(e,i.getContentId(e)),getAreaThumbEl:e=>i.getById(e,i.getAreaThumbId(e)),getChannelSliderThumbEl:(e,r)=>i.getById(e,i.getChannelSliderThumbId(e,r)),getChannelInputEl:(e,r)=>{const t=`input[data-channel="${r}"]`;return[...K(i.getContentEl(e),t),...K(i.getControlEl(e),t)]},getFormatSelectEl:e=>i.getById(e,i.getFormatSelectId(e)),getHiddenInputEl:e=>i.getById(e,i.getHiddenInputId(e)),getAreaEl:e=>i.getById(e,i.getAreaId(e)),getAreaValueFromPoint(e,r){const t=i.getAreaEl(e);if(!t)return;const{percent:n}=be(r,t);return n},getControlEl:e=>i.getById(e,i.getControlId(e)),getTriggerEl:e=>i.getById(e,i.getTriggerId(e)),getPositionerEl:e=>i.getById(e,i.getPositionerId(e)),getChannelSliderTrackEl:(e,r)=>i.getById(e,i.getChannelSliderTrackId(e,r)),getChannelSliderValueFromPoint(e,r,t){const n=i.getChannelSliderTrackEl(e,t);if(!n)return;const{percent:a}=be(r,n);return a},getChannelInputEls:e=>[...K(i.getContentEl(e),"input[data-channel]"),...K(i.getControlEl(e),"input[data-channel]")]});function Jt(e,r){switch(r){case"hue":return O(`hsl(${e.getChannelValue("hue")}, 100%, 50%)`);case"lightness":case"brightness":case"saturation":case"red":case"green":case"blue":return e.withChannelValue("alpha",1);case"alpha":return e;default:throw new Error("Unknown color channel: "+r)}}function se(e,r){if(r==null)return"";if(r==="hex")return e.toString("hex");if(r==="css")return e.toString("css");if(r in e)return e.getChannelValue(r).toString();const t=e.getFormat()==="hsla";switch(r){case"hue":return t?e.toFormat("hsla").getChannelValue("hue").toString():e.toFormat("hsba").getChannelValue("hue").toString();case"saturation":return t?e.toFormat("hsla").getChannelValue("saturation").toString():e.toFormat("hsba").getChannelValue("saturation").toString();case"lightness":return e.toFormat("hsla").getChannelValue("lightness").toString();case"brightness":return e.toFormat("hsba").getChannelValue("brightness").toString();case"red":case"green":case"blue":return e.toFormat("rgba").getChannelValue(r).toString();default:return e.getChannelValue(r).toString()}}function Yt(e,r){switch(r){case"hex":const t=O("#000000"),n=O("#FFFFFF");return{minValue:t.toHexInt(),maxValue:n.toHexInt(),pageSize:10,step:1};case"css":return;case"hue":case"saturation":case"lightness":return e.toFormat("hsla").getChannelRange(r);case"brightness":return e.toFormat("hsba").getChannelRange(r);case"red":case"green":case"blue":return e.toFormat("rgba").getChannelRange(r);default:return e.getChannelRange(r)}}function Zt(e,r){return e==="vertical"?"top":r==="ltr"?"right":"left"}var zt=e=>{const{channel:r,value:t,dir:n}=e,a=Zt(e.orientation,n),{minValue:o,maxValue:s}=t.getChannelRange(r);switch(r){case"hue":return`linear-gradient(to ${a}, rgb(255, 0, 0) 0%, rgb(255, 255, 0) 17%, rgb(0, 255, 0) 33%, rgb(0, 255, 255) 50%, rgb(0, 0, 255) 67%, rgb(255, 0, 255) 83%, rgb(255, 0, 0) 100%)`;case"lightness":{let c=t.withChannelValue(r,o).toString("css"),p=t.withChannelValue(r,(s-o)/2).toString("css"),g=t.withChannelValue(r,s).toString("css");return`linear-gradient(to ${a}, ${c}, ${p}, ${g})`}case"saturation":case"brightness":case"red":case"green":case"blue":case"alpha":{let c=t.withChannelValue(r,o).toString("css"),p=t.withChannelValue(r,s).toString("css");return`linear-gradient(to ${a}, ${c}, ${p})`}default:throw new Error("Unknown color channel: "+r)}};function Qt(e,r,t){const n=e.context.value,a=e.context.areaValue,o=e.context.valueAsString,s=e.context.isDisabled,c=e.context.isInteractive,p=e.hasTag("dragging"),g=e.hasTag("open"),f=e.hasTag("focused"),w=d=>{const l=a.getChannels();return{xChannel:d.xChannel??l[1],yChannel:d.yChannel??l[2]}},$=e.context.currentPlacement,j=bt({...e.context.positioning,placement:$});function B(d){const l=we(d.value).toFormat(e.context.format);return{value:l,valueAsString:l.toString("hex"),checked:l.isEqual(n),disabled:d.disabled||!c}}return{dragging:p,open:g,valueAsString:o,value:n,setOpen(d){d!==g&&r({type:d?"OPEN":"CLOSE"})},setValue(d){r({type:"VALUE.SET",value:we(d),src:"set-color"})},getChannelValue(d){return se(n,d)},getChannelValueText(d,l){return n.formatChannelValue(d,l)},setChannelValue(d,l){const h=n.withChannelValue(d,l);r({type:"VALUE.SET",value:h,src:"set-channel"})},format:e.context.format,setFormat(d){const l=n.toFormat(d);r({type:"VALUE.SET",value:l,src:"set-format"})},alpha:n.getChannelValue("alpha"),setAlpha(d){const l=n.withChannelValue("alpha",d);r({type:"VALUE.SET",value:l,src:"set-alpha"})},getRootProps(){return t.element({...P.root.attrs,dir:e.context.dir,id:i.getRootId(e.context),"data-disabled":k(s),"data-readonly":k(e.context.readOnly),style:{"--value":n.toString("css")}})},getLabelProps(){return t.element({...P.label.attrs,dir:e.context.dir,id:i.getLabelId(e.context),htmlFor:i.getHiddenInputId(e.context),"data-disabled":k(s),"data-readonly":k(e.context.readOnly),"data-focus":k(f),onClick(d){d.preventDefault();const l=Qe(i.getControlEl(e.context),"[data-channel=hex]");l==null||l.focus({preventScroll:!0})}})},getControlProps(){return t.element({...P.control.attrs,id:i.getControlId(e.context),dir:e.context.dir,"data-disabled":k(s),"data-readonly":k(e.context.readOnly),"data-state":g?"open":"closed","data-focus":k(f)})},getTriggerProps(){return t.button({...P.trigger.attrs,id:i.getTriggerId(e.context),dir:e.context.dir,disabled:s,"aria-label":`select color. current color is ${o}`,"aria-controls":i.getContentId(e.context),"aria-labelledby":i.getLabelId(e.context),"data-disabled":k(s),"data-readonly":k(e.context.readOnly),"data-placement":$,"aria-expanded":k(g),"data-state":g?"open":"closed","data-focus":k(f),type:"button",onClick(){c&&r({type:"TRIGGER.CLICK"})},onBlur(){c&&r({type:"TRIGGER.BLUR"})},style:{position:"relative"}})},getPositionerProps(){return t.element({...P.positioner.attrs,id:i.getPositionerId(e.context),dir:e.context.dir,style:j.floating})},getContentProps(){return t.element({...P.content.attrs,id:i.getContentId(e.context),dir:e.context.dir,"data-placement":$,"data-state":g?"open":"closed",hidden:!g})},getValueTextProps(){return t.element({...P.valueText.attrs,dir:e.context.dir,"data-disabled":k(s),"data-focus":k(f)})},getAreaProps(d={}){const{xChannel:l,yChannel:h}=w(d),{areaStyles:C}=Ie(a,{xChannel:l,yChannel:h,dir:e.context.dir});return t.element({...P.area.attrs,id:i.getAreaId(e.context),role:"group",onPointerDown(m){if(!c||!Se(m)||Pe(m))return;const y=ke(m);r({type:"AREA.POINTER_DOWN",point:y,channel:{xChannel:l,yChannel:h},id:"area"}),m.preventDefault()},style:{position:"relative",touchAction:"none",forcedColorAdjust:"none",...C}})},getAreaBackgroundProps(d={}){const{xChannel:l,yChannel:h}=w(d),{areaGradientStyles:C}=Ie(a,{xChannel:l,yChannel:h,dir:e.context.dir});return t.element({...P.areaBackground.attrs,id:i.getAreaGradientId(e.context),style:{position:"relative",touchAction:"none",forcedColorAdjust:"none",...C}})},getAreaThumbProps(d={}){const{xChannel:l,yChannel:h}=w(d),C={xChannel:l,yChannel:h},m=a.getChannelValuePercent(l),y=1-a.getChannelValuePercent(h),x=a.getChannelValue(l),U=a.getChannelValue(h);return t.element({...P.areaThumb.attrs,id:i.getAreaThumbId(e.context),dir:e.context.dir,tabIndex:s?void 0:0,"data-disabled":k(s),role:"slider","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":x,"aria-label":`${l} and ${h}`,"aria-roledescription":"2d slider","aria-valuetext":`${l} ${x}, ${h} ${U}`,style:{position:"absolute",left:`${m*100}%`,top:`${y*100}%`,transform:"translate(-50%, -50%)",touchAction:"none",forcedColorAdjust:"none",background:a.withChannelValue("alpha",1).toString("css")},onFocus(){c&&r({type:"AREA.FOCUS",id:"area",channel:C})},onKeyDown(F){if(F.defaultPrevented||!c)return;const N=Ee(F),ee={ArrowUp(){r({type:"AREA.ARROW_UP",channel:C,step:N})},ArrowDown(){r({type:"AREA.ARROW_DOWN",channel:C,step:N})},ArrowLeft(){r({type:"AREA.ARROW_LEFT",channel:C,step:N})},ArrowRight(){r({type:"AREA.ARROW_RIGHT",channel:C,step:N})},PageUp(){r({type:"AREA.PAGE_UP",channel:C,step:N})},PageDown(){r({type:"AREA.PAGE_DOWN",channel:C,step:N})},Escape(M){M.stopPropagation()}}[ve(F,e.context)];ee&&(ee(F),F.preventDefault())}})},getTransparencyGridProps(d={}){const{size:l="12px"}=d;return t.element({...P.transparencyGrid.attrs,style:{"--size":l,width:"100%",height:"100%",position:"absolute",backgroundColor:"#fff",backgroundImage:"conic-gradient(#eeeeee 0 25%, transparent 0 50%, #eeeeee 0 75%, transparent 0)",backgroundSize:"var(--size) var(--size)",inset:"0px",zIndex:"auto",pointerEvents:"none"}})},getChannelSliderProps(d){const{orientation:l="horizontal",channel:h,format:C}=d;return t.element({...P.channelSlider.attrs,"data-channel":h,"data-orientation":l,role:"presentation",onPointerDown(m){if(!c||!Se(m)||Pe(m))return;const y=ke(m);r({type:"CHANNEL_SLIDER.POINTER_DOWN",channel:h,format:C,point:y,id:h,orientation:l}),m.preventDefault()},style:{position:"relative",touchAction:"none"}})},getChannelSliderTrackProps(d){const{orientation:l="horizontal",channel:h,format:C}=d,m=C?n.toFormat(C):a;return t.element({...P.channelSliderTrack.attrs,id:i.getChannelSliderTrackId(e.context,h),role:"group","data-channel":h,"data-orientation":l,style:{position:"relative",forcedColorAdjust:"none",backgroundImage:zt({orientation:l,channel:h,dir:e.context.dir,value:m})}})},getChannelSliderLabelProps(d){const{channel:l}=d;return t.element({...P.channelSliderLabel.attrs,"data-channel":l,onClick(h){var m;if(!c)return;h.preventDefault();const C=i.getChannelSliderThumbId(e.context,l);(m=i.getById(e.context,C))==null||m.focus({preventScroll:!0})},style:{userSelect:"none",WebkitUserSelect:"none"}})},getChannelSliderValueTextProps(d){return t.element({...P.channelSliderValueText.attrs,"data-channel":d.channel})},getChannelSliderThumbProps(d){const{orientation:l="horizontal",channel:h,format:C}=d,m=C?n.toFormat(C):a,y=m.getChannelRange(h),x=m.getChannelValue(h),U=(x-y.minValue)/(y.maxValue-y.minValue),F=l==="horizontal"?{left:`${U*100}%`,top:"50%"}:{top:`${U*100}%`,left:"50%"};return t.element({...P.channelSliderThumb.attrs,id:i.getChannelSliderThumbId(e.context,h),role:"slider","aria-label":h,tabIndex:s?void 0:0,"data-channel":h,"data-disabled":k(s),"data-orientation":l,"aria-disabled":k(s),"aria-orientation":l,"aria-valuemax":y.maxValue,"aria-valuemin":y.minValue,"aria-valuenow":x,"aria-valuetext":`${h} ${x}`,style:{forcedColorAdjust:"none",position:"absolute",background:Jt(a,h).toString("css"),...F},onFocus(){c&&r({type:"CHANNEL_SLIDER.FOCUS",channel:h})},onKeyDown(N){if(N.defaultPrevented||!c)return;const D=Ee(N)*y.step,M={ArrowUp(){r({type:"CHANNEL_SLIDER.ARROW_UP",channel:h,step:D})},ArrowDown(){r({type:"CHANNEL_SLIDER.ARROW_DOWN",channel:h,step:D})},ArrowLeft(){r({type:"CHANNEL_SLIDER.ARROW_LEFT",channel:h,step:D})},ArrowRight(){r({type:"CHANNEL_SLIDER.ARROW_RIGHT",channel:h,step:D})},PageUp(){r({type:"CHANNEL_SLIDER.PAGE_UP",channel:h})},PageDown(){r({type:"CHANNEL_SLIDER.PAGE_DOWN",channel:h})},Home(){r({type:"CHANNEL_SLIDER.HOME",channel:h})},End(){r({type:"CHANNEL_SLIDER.END",channel:h})},Escape(Je){Je.stopPropagation()}}[ve(N,e.context)];M&&(M(N),N.preventDefault())}})},getChannelInputProps(d){const{channel:l}=d,h=l==="hex"||l==="css",C=Yt(n,l);return t.input({...P.channelInput.attrs,dir:e.context.dir,type:h?"text":"number","data-channel":l,"aria-label":l,spellCheck:!1,autoComplete:"off",disabled:s,"data-disabled":k(s),readOnly:e.context.readOnly,defaultValue:se(n,l),min:C==null?void 0:C.minValue,max:C==null?void 0:C.maxValue,step:C==null?void 0:C.step,onBeforeInput(m){if(h||!c)return;m.currentTarget.value.match(/[^0-9.]/g)&&m.preventDefault()},onFocus(m){c&&(r({type:"CHANNEL_INPUT.FOCUS",channel:l}),m.target.select())},onBlur(m){if(!c)return;const y=h?m.currentTarget.value:m.currentTarget.valueAsNumber;r({type:"CHANNEL_INPUT.BLUR",channel:l,value:y,isTextField:h})},onKeyDown(m){if(!m.defaultPrevented&&c&&m.key==="Enter"){const y=h?m.currentTarget.value:m.currentTarget.valueAsNumber;r({type:"CHANNEL_INPUT.CHANGE",channel:l,value:y,isTextField:h}),m.preventDefault()}},style:{appearance:"none",WebkitAppearance:"none",MozAppearance:"textfield"}})},getHiddenInputProps(){return t.input({type:"text",disabled:s,name:e.context.name,readOnly:e.context.readOnly,required:e.context.required,id:i.getHiddenInputId(e.context),style:et,defaultValue:o})},getEyeDropperTriggerProps(){return t.button({...P.eyeDropperTrigger.attrs,type:"button",dir:e.context.dir,disabled:s,"data-disabled":k(s),"aria-label":"Pick a color from the screen",onClick(){c&&r("EYEDROPPER.CLICK")}})},getSwatchGroupProps(){return t.element({...P.swatchGroup.attrs,role:"group"})},getSwatchTriggerState:B,getSwatchTriggerProps(d){const l=B(d);return t.button({...P.swatchTrigger.attrs,disabled:l.disabled,dir:e.context.dir,type:"button","aria-label":`select ${l.valueAsString} as the color`,"data-state":l.checked?"checked":"unchecked","data-value":l.valueAsString,"data-disabled":k(l.disabled),onClick(){l.disabled||r({type:"SWATCH_TRIGGER.CLICK",value:l.value})},style:{position:"relative"}})},getSwatchIndicatorProps(d){const l=B(d);return t.element({...P.swatchIndicator.attrs,dir:e.context.dir,hidden:!l.checked})},getSwatchProps(d){const{respectAlpha:l=!0}=d,h=B(d);return t.element({...P.swatch.attrs,dir:e.context.dir,"data-state":h.checked?"checked":"unchecked","data-value":h.valueAsString,style:{position:"relative",background:h.value.toString(l?"css":"hex")}})},getFormatTriggerProps(){return t.button({...P.formatTrigger.attrs,dir:e.context.dir,type:"button","aria-label":`change color format to ${Re(e.context.format)}`,onClick(d){if(d.currentTarget.disabled)return;const l=Re(e.context.format);r({type:"FORMAT.SET",format:l,src:"format-trigger"})}})},getFormatSelectProps(){return t.select({...P.formatSelect.attrs,"aria-label":"change color format",dir:e.context.dir,defaultValue:e.context.format,disabled:s,onChange(d){const l=tr(d.currentTarget.value);r({type:"FORMAT.SET",format:l,src:"format-select"})}})}}}var Q=["hsba","hsla","rgba"],er=new RegExp(`^(${Q.join("|")})$`);function Re(e){const r=Q.indexOf(e);return Q[r+1]??Q[0]}function tr(e){if(er.test(e))return e;throw new Error(`Unsupported color format: ${e}`)}var H=e=>O(e),{and:rr}=nt;function nr(e){const r=ut(e);return tt({id:"color-picker",initial:r.open?"open":"idle",context:{dir:"ltr",value:H("#000000"),format:"rgba",disabled:!1,closeOnSelect:!1,...r,activeId:null,activeChannel:null,activeOrientation:null,fieldsetDisabled:!1,restoreFocus:!0,positioning:{...r.positioning,placement:"bottom"}},computed:{isRtl:t=>t.dir==="rtl",isDisabled:t=>!!t.disabled||t.fieldsetDisabled,isInteractive:t=>!(t.isDisabled||t.readOnly),valueAsString:t=>t.value.toString(t.format),areaValue:t=>{const n=t.format.startsWith("hsl")?"hsla":"hsba";return t.value.toFormat(n)}},activities:["trackFormControl"],watch:{value:["syncInputElements"],format:["syncFormatSelectElement"],open:["toggleVisibility"]},on:{"VALUE.SET":{actions:["setValue"]},"FORMAT.SET":{actions:["setFormat"]},"CHANNEL_INPUT.CHANGE":{actions:["setChannelColorFromInput"]},"EYEDROPPER.CLICK":{actions:["openEyeDropper"]}},states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"CHANNEL_INPUT.FOCUS":{target:"focused",actions:["setActiveChannel"]}}},focused:{tags:["closed","focused"],on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],"CHANNEL_INPUT.FOCUS":{actions:["setActiveChannel"]},"CHANNEL_INPUT.BLUR":{target:"idle",actions:["setChannelColorFromInput"]},"TRIGGER.BLUR":{target:"idle"}}},open:{tags:["open"],activities:["trackPositioning","trackDismissableElement"],on:{"CONTROLLED.CLOSE":[{guard:"shouldRestoreFocus",target:"focused",actions:["setReturnFocus"]},{target:"idle"}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"AREA.POINTER_DOWN":{target:"open:dragging",actions:["setActiveChannel","setAreaColorFromPoint","focusAreaThumb"]},"AREA.FOCUS":{actions:["setActiveChannel"]},"CHANNEL_SLIDER.POINTER_DOWN":{target:"open:dragging",actions:["setActiveChannel","setChannelColorFromPoint","focusChannelThumb"]},"CHANNEL_SLIDER.FOCUS":{actions:["setActiveChannel"]},"AREA.ARROW_LEFT":{actions:["decrementAreaXChannel"]},"AREA.ARROW_RIGHT":{actions:["incrementAreaXChannel"]},"AREA.ARROW_UP":{actions:["incrementAreaYChannel"]},"AREA.ARROW_DOWN":{actions:["decrementAreaYChannel"]},"AREA.PAGE_UP":{actions:["incrementAreaXChannel"]},"AREA.PAGE_DOWN":{actions:["decrementAreaXChannel"]},"CHANNEL_SLIDER.ARROW_LEFT":{actions:["decrementChannel"]},"CHANNEL_SLIDER.ARROW_RIGHT":{actions:["incrementChannel"]},"CHANNEL_SLIDER.ARROW_UP":{actions:["incrementChannel"]},"CHANNEL_SLIDER.ARROW_DOWN":{actions:["decrementChannel"]},"CHANNEL_SLIDER.PAGE_UP":{actions:["incrementChannel"]},"CHANNEL_SLIDER.PAGE_DOWN":{actions:["decrementChannel"]},"CHANNEL_SLIDER.HOME":{actions:["setChannelToMin"]},"CHANNEL_SLIDER.END":{actions:["setChannelToMax"]},"CHANNEL_INPUT.BLUR":{actions:["setChannelColorFromInput"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["invokeOnClose","setReturnFocus"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"SWATCH_TRIGGER.CLICK":[{guard:rr("isOpenControlled","closeOnSelect"),actions:["setValue","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["setValue","invokeOnClose","setReturnFocus"]},{actions:["setValue"]}]}},"open:dragging":{tags:["open"],exit:["clearActiveChannel"],activities:["trackPointerMove","disableTextSelection","trackPositioning","trackDismissableElement"],on:{"CONTROLLED.CLOSE":[{guard:"shouldRestoreFocus",target:"focused",actions:["setReturnFocus"]},{target:"idle"}],"AREA.POINTER_MOVE":{actions:["setAreaColorFromPoint","focusAreaThumb"]},"AREA.POINTER_UP":{target:"open",actions:["invokeOnChangeEnd"]},"CHANNEL_SLIDER.POINTER_MOVE":{actions:["setChannelColorFromPoint","focusChannelThumb"]},"CHANNEL_SLIDER.POINTER_UP":{target:"open",actions:["invokeOnChangeEnd"]},INTERACT_OUTSIDE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["invokeOnClose","setReturnFocus"]},{target:"idle",actions:["invokeOnClose"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}]}}}},{guards:{closeOnSelect:t=>!!t.closeOnSelect,isOpenControlled:t=>!!t["open.controlled"],shouldRestoreFocus:t=>!!t.restoreFocus},activities:{trackPositioning(t){t.currentPlacement=t.positioning.placement;const n=i.getTriggerEl(t);return St(n,()=>i.getPositionerEl(t),{...t.positioning,defer:!0,onComplete(o){t.currentPlacement=o.placement}})},trackDismissableElement(t,n,{send:a}){return Pt(()=>i.getContentEl(t),{exclude:i.getTriggerEl(t),defer:!0,onInteractOutside(s){var c;(c=t.onInteractOutside)==null||c.call(t,s),!s.defaultPrevented&&(t.restoreFocus=!(s.detail.focusable||s.detail.contextmenu))},onPointerDownOutside:t.onPointerDownOutside,onFocusOutside:t.onFocusOutside,onDismiss(){a({type:"INTERACT_OUTSIDE"})}})},trackFormControl(t,n,{send:a,initialContext:o}){const s=i.getHiddenInputEl(t);return kt(s,{onFieldsetDisabledChange(c){t.fieldsetDisabled=c},onFormReset(){a({type:"VALUE.SET",value:o.value,src:"form.reset"})}})},trackPointerMove(t,n,{send:a}){return Ct(i.getDoc(t),{onPointerMove({point:o}){const s=t.activeId==="area"?"AREA.POINTER_MOVE":"CHANNEL_SLIDER.POINTER_MOVE";a({type:s,point:o,format:n.format})},onPointerUp(){const o=t.activeId==="area"?"AREA.POINTER_UP":"CHANNEL_SLIDER.POINTER_UP";a({type:o})}})},disableTextSelection(t){return ft({doc:i.getDoc(t),target:i.getContentEl(t)})}},actions:{openEyeDropper(t){if(!("EyeDropper"in i.getWin(t)))return;const a=i.getWin(t);new a.EyeDropper().open().then(({sRGBHex:s})=>{var g;const c=t.value.getFormat(),p=O(s).toFormat(c);R.value(t,p),(g=t.onValueChangeEnd)==null||g.call(t,{value:t.value,valueAsString:t.valueAsString})}).catch(()=>{})},setActiveChannel(t,n){t.activeId=n.id,n.channel&&(t.activeChannel=n.channel),n.orientation&&(t.activeOrientation=n.orientation)},clearActiveChannel(t){t.activeChannel=null,t.activeId=null,t.activeOrientation=null},setAreaColorFromPoint(t,n){const a=n.format?t.value.toFormat(n.format):t.areaValue,{xChannel:o,yChannel:s}=n.channel||t.activeChannel,c=i.getAreaValueFromPoint(t,n.point);if(!c)return;const p=a.getChannelPercentValue(o,c.x),g=a.getChannelPercentValue(s,1-c.y),f=a.withChannelValue(o,p).withChannelValue(s,g);R.value(t,f)},setChannelColorFromPoint(t,n){const a=n.channel||t.activeId,o=n.format?t.value.toFormat(n.format):t.areaValue,s=i.getChannelSliderValueFromPoint(t,n.point,a);if(!s)return;const p=(t.activeOrientation||"horizontal")==="horizontal"?s.x:s.y,g=o.getChannelPercentValue(a,p),f=o.withChannelValue(a,g);R.value(t,f)},setValue(t,n){R.value(t,n.value)},setFormat(t,n){R.format(t,n.format)},syncInputElements(t){re.inputs(t)},invokeOnChangeEnd(t){le.changeEnd(t)},setChannelColorFromInput(t,n){const{channel:a,isTextField:o,value:s}=n,c=t.value.getChannelValue("alpha");let p;if(a==="alpha"){let g=parseFloat(s);g=Number.isNaN(g)?c:g,p=t.value.withChannelValue("alpha",g)}else if(o)p=dt(()=>H(s).withChannelValue("alpha",c),()=>t.value);else{const g=t.value.toFormat(t.format),f=Number.isNaN(s)?g.getChannelValue(a):s;p=g.withChannelValue(a,f)}re.inputs(t,p),R.value(t,p)},incrementChannel(t,n){const a=t.value.incrementChannel(n.channel,n.step);R.value(t,a)},decrementChannel(t,n){const a=t.value.decrementChannel(n.channel,n.step);R.value(t,a)},incrementAreaXChannel(t,n){const{xChannel:a}=n.channel,o=t.areaValue.incrementChannel(a,n.step);R.value(t,o)},decrementAreaXChannel(t,n){const{xChannel:a}=n.channel,o=t.areaValue.decrementChannel(a,n.step);R.value(t,o)},incrementAreaYChannel(t,n){const{yChannel:a}=n.channel,o=t.areaValue.incrementChannel(a,n.step);R.value(t,o)},decrementAreaYChannel(t,n){const{yChannel:a}=n.channel,o=t.areaValue.decrementChannel(a,n.step);R.value(t,o)},setChannelToMax(t,n){const a=t.value.getChannelRange(n.channel),o=t.value.withChannelValue(n.channel,a.maxValue);R.value(t,o)},setChannelToMin(t,n){const a=t.value.getChannelRange(n.channel),o=t.value.withChannelValue(n.channel,a.minValue);R.value(t,o)},focusAreaThumb(t){L(()=>{var n;(n=i.getAreaThumbEl(t))==null||n.focus({preventScroll:!0})})},focusChannelThumb(t,n){L(()=>{var a;(a=i.getChannelSliderThumbEl(t,n.channel))==null||a.focus({preventScroll:!0})})},setInitialFocus(t){L(()=>{const n=at({root:i.getContentEl(t),getInitialEl:t.initialFocusEl});n==null||n.focus({preventScroll:!0})})},setReturnFocus(t){L(()=>{var n;(n=i.getTriggerEl(t))==null||n.focus({preventScroll:!0})})},syncFormatSelectElement(t){re.formatSelect(t)},invokeOnOpen(t){var n;(n=t.onOpenChange)==null||n.call(t,{open:!0})},invokeOnClose(t){var n;(n=t.onOpenChange)==null||n.call(t,{open:!1})},toggleVisibility(t,n,{send:a}){a({type:t.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})}},compareFns:{value:(t,n)=>t.isEqual(n)}})}var re={inputs(e,r){const t=i.getChannelInputEls(e);L(()=>{t.forEach(n=>{const a=n.dataset.channel;i.setValue(n,se(r||e.value,a))})})},formatSelect(e){const r=i.getFormatSelectEl(e);L(()=>{i.setValue(r,e.format)})}},le={changeEnd(e){var t;const r=e.value.toFormat(e.format);(t=e.onValueChangeEnd)==null||t.call(e,{value:r,valueAsString:e.valueAsString})},change(e){var t;const r=e.value.toFormat(e.format);(t=e.onValueChange)==null||t.call(e,{value:r,valueAsString:e.valueAsString}),Et(i.getHiddenInputEl(e),{value:e.valueAsString})},formatChange(e){var r;(r=e.onFormatChange)==null||r.call(e,{format:e.format})}},R={value(e,r){!r||e.value.isEqual(r)||(e.value=r,le.change(e))},format(e,r){e.format!==r&&(e.format=r,le.formatChange(e))}};const ar=e=>{const{getRootNode:r}=vt(),{dir:t}=yt(),n=It(),a={id:E.useId(),ids:{label:n==null?void 0:n.ids.label,input:n==null?void 0:n.ids.control},dir:t,disabled:n==null?void 0:n.disabled,readOnly:n==null?void 0:n.readOnly,required:n==null?void 0:n.required,getRootNode:r,open:e.defaultOpen,"open.controlled":e.open!==void 0,...e,value:e.value?H(e.value):e.defaultValue?H(e.defaultValue):void 0},o={...a,value:e.value?H(e.value):void 0,onValueChange:ye(e.onValueChange,{sync:!0}),onValueChangeEnd:ye(e.onValueChangeEnd)},[s,c]=ot(nr(a),{context:o});return Qt(s,c,st)},Me=E.forwardRef((e,r)=>{const[t,n]=gt(e),[a,o]=V()(n,["closeOnSelect","defaultOpen","defaultValue","disabled","format","id","ids","initialFocusEl","name","name","onFocusOutside","onFormatChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","onValueChangeEnd","open","positioning","readOnly","required","value"]),s=ar(a),c=pt(v({present:s.open},t)),p=v(s.getRootProps(),o);return u.jsx(Nt,{value:s,children:u.jsx(mt,{value:c,children:u.jsx(I.div,{...p,ref:r})})})});Me.displayName="ColorPickerRoot";const[or,Or]=G({name:"ColorPickerSwatchContext",hookName:"useColorPickerSwatchContext",providerName:"<ColorPickerSwatchProvider />"}),ie=E.forwardRef((e,r)=>{const[t,n]=V()(e,["respectAlpha","value"]),a=A(),o=v(a.getSwatchProps(t),n);return u.jsx(or,{value:t,children:u.jsx(I.div,{...o,ref:r})})});ie.displayName="ColorPickerSwatch";const We=E.forwardRef((e,r)=>{const t=A(),n=v(t.getSwatchGroupProps(),e);return u.jsx(I.div,{...n,ref:r})});We.displayName="ColorPickerSwatchGroup";const qe=E.forwardRef((e,r)=>{const[t,n]=V()(e,["value","disabled"]),a=A(),o=v(a.getSwatchTriggerProps(t),n);return u.jsx(I.button,{...o,ref:r})});qe.displayName="ColorPickerSwatchTrigger";const Ke=E.forwardRef((e,r)=>{const[t,n]=V()(e,["size"]),a=A(),o=v(a.getTransparencyGridProps(t),n);return u.jsx(I.div,{...o,ref:r})});Ke.displayName="ColorPickerTransparencyGrid";const Xe=E.forwardRef((e,r)=>{const t=A(),n=v(t.getTriggerProps(),e);return u.jsx(I.button,{...n,ref:r})});Xe.displayName="ColorPickerTrigger";const sr=Ye({className:"colorPicker",slots:wt.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5"},control:{display:"flex",flexDirection:"row",gap:2},content:{background:"white",borderRadius:"lg",boxShadow:"lg",display:"flex",flexDirection:"column",maxWidth:"sm",p:"4",zIndex:"dropdown",_open:{animation:"fade-in 0.25s ease-out"},_closed:{animation:"fade-out 0.2s ease-out"}},area:{height:36,borderRadius:"lg",overflow:"hidden"},areaThumb:{borderRadius:"full",height:2.5,width:2.5,boxShadow:"white 0px 0px 0px 2px, black 0px 0px 2px 1px",outline:"none"},areaBackground:{height:"full"},channelSlider:{borderRadius:"lg"},channelSliderTrack:{height:"3",borderRadius:"lg"},swatchGroup:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:2,background:"white"},swatch:{height:7,width:7,borderRadius:"lg",boxShadow:"white 0px 0px 0px 3px",cursor:"pointer"},channelSliderThumb:{borderRadius:"full",height:"2.5",width:"2.5",boxShadow:"white 0px 0px 0px 2px, black 0px 0px 2px 1px",transform:"translate(-50%, -50%)",outline:"none"},transparencyGrid:{borderRadius:"lg"}}}),lr=E.forwardRef(({children:e,className:r,...t},n)=>{const a=sr();return u.jsx(Me,{className:W(a.root,r),ref:n,...t,children:u.jsx(Ot,{children:o=>u.jsxs(u.Fragment,{children:[u.jsxs(_e,{className:a.control,children:[u.jsx(J,{channel:"hex",asChild:!0,children:u.jsx(te,{className:q({flex:1})})}),u.jsx(Xe,{asChild:!0,children:u.jsx(me,{variant:"outline",className:q({flex:"none"}),children:u.jsx(ie,{value:o.value,className:a.swatch})})})]}),u.jsx(Ge,{className:a.positioner,children:u.jsx(De,{className:a.content,children:u.jsxs("div",{className:_({gap:3,direction:"column"}),children:[u.jsxs(xe,{className:a.area,children:[u.jsx(Fe,{className:a.areaBackground}),u.jsx(Ve,{className:a.areaThumb})]}),u.jsxs("div",{className:_({direction:"row",gap:3}),children:[u.jsx(He,{asChild:!0,children:u.jsx(me,{variant:"outline",size:"sm","aria-label":"Pick a color",children:u.jsx(At,{size:20})})}),u.jsxs("div",{className:W(_({gap:2,direction:"column"}),q({flex:"1"})),children:[u.jsxs(ne,{channel:"hue",className:a.channelSlider,children:[u.jsx(oe,{className:a.channelSliderTrack}),u.jsx(ae,{className:a.channelSliderThumb})]}),u.jsxs(ne,{channel:"alpha",className:a.channelSlider,children:[u.jsx(Ke,{size:"8px",className:a.transparencyGrid}),u.jsx(oe,{className:a.channelSliderTrack}),u.jsx(ae,{className:a.channelSliderThumb})]})]})]}),u.jsxs("div",{className:W(_({gap:2}),q({flex:"1"})),children:[u.jsx(J,{channel:"hex",asChild:!0,children:u.jsx(te,{})}),u.jsx(J,{channel:"alpha",asChild:!0,children:u.jsx(te,{})})]}),u.jsx("div",{className:W(_({gap:1.5,direction:"column"})),children:u.jsx(We,{className:a.swatchGroup,children:ir.map((s,c)=>u.jsx(qe,{value:s,className:a.swatchTrigger,children:u.jsx(ie,{value:s,className:a.swatch})},c))})})]})})})]})})})}),ir=["hsl(10, 81%, 59%)","hsl(60, 81%, 59%)","hsl(100, 81%, 59%)","hsl(175, 81%, 59%)","hsl(190, 81%, 59%)","hsl(205, 81%, 59%)","hsl(220, 81%, 59%)","hsl(250, 81%, 59%)","hsl(280, 81%, 59%)","hsl(350, 81%, 59%)"];lr.__docgenInfo={description:"",methods:[],displayName:"Root"};export{lr as R};
