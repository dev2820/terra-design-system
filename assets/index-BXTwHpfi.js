import{i as T,n as F,r as N,g as R,a as $,b as U,c as j,d as q}from"./use-locale-context-Cpyu8C1_.js";var h="default",K="",k=new WeakMap;function W(e={}){const{target:t,doc:o}=e,r=o??document,n=r.documentElement;return T()?(h==="default"&&(K=n.style.webkitUserSelect,n.style.webkitUserSelect="none"),h="disabled"):t&&(k.set(t,t.style.userSelect),t.style.userSelect="none"),()=>X({target:t,doc:r})}function X(e={}){const{target:t,doc:o}=e,n=(o??document).documentElement;if(T()){if(h!=="disabled")return;h="restoring",setTimeout(()=>{F(()=>{h==="restoring"&&(n.style.webkitUserSelect==="none"&&(n.style.webkitUserSelect=K||""),K="",h="default")})},300)}else if(t&&k.has(t)){const i=k.get(t);t.style.userSelect==="none"&&(t.style.userSelect=i??""),t.getAttribute("style")===""&&t.removeAttribute("style"),k.delete(t)}}function O(e={}){const{defer:t,target:o,...r}=e,n=t?N:s=>s(),i=[];return i.push(n(()=>{const s=typeof o=="function"?o():o;i.push(W({...r,target:s}))})),()=>{i.forEach(s=>s==null?void 0:s())}}var a=(e,t,o,r)=>{const n=typeof e=="function"?e():e;return n==null||n.addEventListener(t,o,r),()=>{n==null||n.removeEventListener(t,o,r)}},ce=e=>e.button===0,ae=e=>e.button===2||U()&&e.ctrlKey&&e.button===0,ue=e=>e.ctrlKey||e.altKey||e.metaKey;function le(e,t,o){if(!e)return;const r=e.ownerDocument.defaultView||window,n=new r.CustomEvent(t,o);return e.dispatchEvent(n)}var _={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},A={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function fe(e,t={}){const{dir:o="ltr",orientation:r="horizontal"}=t;let{key:n}=e;return n=_[n]??n,o==="rtl"&&r==="horizontal"&&n in A&&(n=A[n]),n}function G(e,t="client"){const o=e.touches[0]||e.changedTouches[0];return{x:o[`${t}X`],y:o[`${t}Y`]}}function H(e,t="client"){return{x:e[`${t}X`],y:e[`${t}Y`]}}var J=e=>"touches"in e&&e.touches.length>0;function C(e,t="client"){return J(e)?G(e,t):H(e,t)}var Q=new Set(["PageUp","PageDown"]),Z=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function ye(e){return e.ctrlKey||e.metaKey?.1:Q.has(e.key)||e.shiftKey&&Z.has(e.key)?10:1}function M(e){return Math.max(0,Math.min(1,e))}function pe(e,t){const{left:o,top:r,width:n,height:i}=t.getBoundingClientRect(),s={x:e.x-o,y:e.y-r},c={x:M(s.x/n),y:M(s.y/i)};function l(y={}){const{dir:u="ltr",orientation:v="horizontal",inverted:p}=y,d=typeof p=="object"?p.x:p,w=typeof p=="object"?p.y:p;return v==="horizontal"?u==="rtl"||d?1-c.x:c.x:w?1-c.y:c.y}return{offset:s,percent:c,getPercentValue:l}}function me(e,t){const o=e.body,r="pointerLockElement"in e||"mozPointerLockElement"in e,n=()=>!!e.pointerLockElement;function i(){}function s(l){n(),console.error("PointerLock error occured:",l),e.exitPointerLock()}if(!r)return;try{o.requestPointerLock()}catch{}const c=[a(e,"pointerlockchange",i,!1),a(e,"pointerlockerror",s,!1)];return()=>{c.forEach(l=>l()),e.exitPointerLock()}}var P=(...e)=>t=>e.reduce((o,r)=>r(o),t),g=()=>{},ee=e=>!(e.metaKey||!U()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta");function he(e,t){if(!e)return;const{onFocus:o,onBlur:r}=t,n=R(e);let i=!1;const s=y=>{let u=!1;try{u=e.matches(":focus-visible")}catch{u=!0}u&&(i=!0,o==null||o(y))},c=y=>{i&&(i=!1,r==null||r(y))},l=y=>{if(!e.matches(":focus")||!ee(y))return;i=!0;const u=new n.FocusEvent("focus");o==null||o(u)};return P(a(e,"focusin",s),a(e,"focusout",c),a(e,"keydown",l,!0))}function ve(e,t){const{onPointerMove:o,onPointerUp:r}=t,n=[],s=[a(e,"pointermove",c=>{const l=C(c);n.push({...l,timestamp:performance.now()});const y=Math.sqrt(l.x**2+l.y**2),u=c.pointerType==="touch"?10:5;if(!(y<u)){if(c.pointerType==="mouse"&&c.button===0){r();return}o({point:l,event:c,velocity:re(n,.1)})}},!1),a(e,"pointerup",r,!1),a(e,"pointercancel",r,!1),a(e,"contextmenu",r,!1),O({doc:e})];return()=>{s.forEach(c=>c()),n.length=0}}function te(e){return e[e.length-1]}function ne(e){return e*1e3}function oe(e){return e/1e3}function re(e,t){if(e.length<2)return{x:0,y:0};let o=e.length-1,r=null;const n=te(e);for(;o>=0&&(r=e[o],!(n.timestamp-r.timestamp>ne(t)));)o--;if(!r)return{x:0,y:0};const i=oe(n.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(n.x-r.x)/i,y:(n.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),{x:Math.abs(s.x),y:Math.abs(s.y)}}function de(e){const{pointerNode:t,keyboardNode:o=t,onPress:r,onPressStart:n,onPressEnd:i,isValidKey:s=f=>f.key==="Enter"}=e;if(!t)return g;const c=R(t),l=$(t);let y=g,u=g,v=g;const p=f=>({point:C(f),event:f});function d(f){n==null||n(p(f))}function w(f){i==null||i(p(f))}const D=a(t,"pointerdown",f=>{u();const b=a(c,"pointerup",m=>{const E=j(m);q(t,E)?r==null||r(p(m)):i==null||i(p(m))},{passive:!r}),x=a(c,"pointercancel",w,{passive:!i});u=P(b,x),l.activeElement===o&&f.pointerType==="mouse"&&f.preventDefault(),d(f)},{passive:!n}),V=a(o,"focus",z);y=P(D,V);function z(){const f=m=>{if(!s(m))return;const E=Y=>{if(!s(Y))return;const B=new c.PointerEvent("pointerup"),S=p(B);r==null||r(S),i==null||i(S)};u(),u=a(o,"keyup",E);const I=new c.PointerEvent("pointerdown");d(I)},L=()=>{const m=new c.PointerEvent("pointercancel");w(m)},b=a(o,"keydown",f),x=a(o,"blur",L);v=P(b,x)}return function(){y(),u(),v()}}export{he as a,a as b,ye as c,ce as d,C as e,le as f,fe as g,pe as h,ae as i,ue as j,ve as k,O as l,me as r,de as t};
