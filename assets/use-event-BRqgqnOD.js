import{r as w,R as Qt}from"./index-CDs2tPxN.js";import"./index-B-yFm4aN.js";import"./jsx-runtime-qGIIFXMu.js";var U=(t,e=[])=>({parts:(...n)=>{if(te(e))return U(t,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>U(t,[...e,...n]),rename:n=>U(n,e),keys:()=>e,build:()=>[...new Set(e)].reduce((n,s)=>Object.assign(n,{[s]:{selector:[`&[data-scope="${N(t)}"][data-part="${N(s)}"]`,`& [data-scope="${N(t)}"][data-part="${N(s)}"]`].join(", "),attrs:{"data-scope":N(t),"data-part":N(s)}}}),{})}),N=t=>t.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),te=t=>t.length===0,ee=t=>t.nodeType===Node.DOCUMENT_NODE,ne=t=>t!=null&&t===t.window;function se(t){return ee(t)?t:ne(t)?t.document:(t==null?void 0:t.ownerDocument)??document}var Rt=t=>t.id;function re(t,e,n=Rt){return t.find(s=>n(s)===e)}function bt(t,e,n=Rt){const s=re(t,e,n);return s?t.indexOf(s):-1}function En(t,e,n=!0){let s=bt(t,e);return s=n?(s+1)%t.length:Math.min(s+1,t.length-1),t[s]}function wn(t,e,n=!0){let s=bt(t,e);return s===-1?n?t[t.length-1]:null:(s=n?(s-1+t.length)%t.length:Math.max(0,s-1),t[s])}function Sn(t,e){return Array.from((t==null?void 0:t.querySelectorAll(e))??[])}function An(t){const e={getRootNode:n=>{var s;return((s=n.getRootNode)==null?void 0:s.call(n))??document},getDoc:n=>se(e.getRootNode(n)),getWin:n=>e.getDoc(n).defaultView??window,getActiveElement:n=>e.getDoc(n).activeElement,isActiveElement:(n,s)=>s===e.getActiveElement(n),getById:(n,s)=>e.getRootNode(n).getElementById(s),setValue:(n,s)=>{if(n==null||s==null)return;const o=s.toString();n.value!==o&&(n.value=s.toString())}};return{...e,...t}}const ie=Symbol(),ct=Symbol(),k="a",Mt="f",pt="p",Ct="c",Tt="t",Z="n",H="g",_t="h",z="w",Nt="o",Dt="k";let oe=(t,e)=>new Proxy(t,e);const st=Object.getPrototypeOf,rt=new WeakMap,$t=t=>t&&(rt.has(t)?rt.get(t):st(t)===Object.prototype||st(t)===Array.prototype),gt=t=>typeof t=="object"&&t!==null,ce=t=>Object.values(Object.getOwnPropertyDescriptors(t)).some(e=>!e.configurable&&!e.writable),ae=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(n=>{n.configurable=!0}),Object.create(st(t),e)},ue=(t,e)=>{const n={[Mt]:e};let s=!1;const o=(r,c)=>{if(!s){let i=n[k].get(t);if(i||(i={},n[k].set(t,i)),r===z)i[z]=!0;else{let u=i[r];u||(u=new Set,i[r]=u),u.add(c)}}},a=()=>{s=!0,n[k].delete(t)},f={get(r,c){return c===ct?t:(o(Dt,c),Lt(Reflect.get(r,c),n[k],n[Ct],n[Tt]))},has(r,c){return c===ie?(a(),!0):(o(_t,c),Reflect.has(r,c))},getOwnPropertyDescriptor(r,c){return o(Nt,c),Reflect.getOwnPropertyDescriptor(r,c)},ownKeys(r){return o(z),Reflect.ownKeys(r)}};return e&&(f.set=f.deleteProperty=()=>!1),[f,n]},jt=t=>t[ct]||t,Lt=(t,e,n,s)=>{if(!$t(t))return t;let o=s&&s.get(t);if(!o){const c=jt(t);ce(c)?o=[c,ae(c)]:o=[c],s==null||s.set(t,o)}const[a,f]=o;let r=n&&n.get(a);return(!r||r[1][Mt]!==!!f)&&(r=ue(a,!!f),r[1][pt]=oe(f||a,r[0]),n&&n.set(a,r)),r[1][k]=e,r[1][Ct]=n,r[1][Tt]=s,r[1][pt]},fe=(t,e)=>{const n=Reflect.ownKeys(t),s=Reflect.ownKeys(e);return n.length!==s.length||n.some((o,a)=>o!==s[a])},kt=(t,e,n,s,o=Object.is)=>{if(o(t,e))return!1;if(!gt(t)||!gt(e))return!0;const a=n.get(jt(t));if(!a)return!0;if(s){const r=s.get(t);if(r&&r[Z]===e)return r[H];s.set(t,{[Z]:e,[H]:!1})}let f=null;try{for(const r of a[_t]||[])if(f=Reflect.has(t,r)!==Reflect.has(e,r),f)return f;if(a[z]===!0){if(f=fe(t,e),f)return f}else for(const r of a[Nt]||[]){const c=!!Reflect.getOwnPropertyDescriptor(t,r),i=!!Reflect.getOwnPropertyDescriptor(e,r);if(f=c!==i,f)return f}for(const r of a[Dt]||[])if(f=kt(t[r],e[r],n,s,o),f)return f;return f===null&&(f=!0),f}finally{s&&s.set(t,{[Z]:e,[H]:f})}},he=t=>$t(t)&&t[ct]||null,yt=(t,e=!0)=>{rt.set(t,e)};function mt(t,e,n){typeof n.value=="object"&&(n.value=$(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function $(t){if(typeof t!="object")return t;var e=0,n,s,o,a=Object.prototype.toString.call(t);if(a==="[object Object]"?o=Object.create(t.__proto__||null):a==="[object Array]"?o=Array(t.length):a==="[object Set]"?(o=new Set,t.forEach(function(f){o.add($(f))})):a==="[object Map]"?(o=new Map,t.forEach(function(f,r){o.set($(r),$(f))})):a==="[object Date]"?o=new Date(+t):a==="[object RegExp]"?o=new RegExp(t.source,t.flags):a==="[object DataView]"?o=new t.constructor($(t.buffer)):a==="[object ArrayBuffer]"?o=t.slice(0):a.slice(-6)==="Array]"&&(o=new t.constructor(t)),o){for(s=Object.getOwnPropertySymbols(t);e<s.length;e++)mt(o,s[e],Object.getOwnPropertyDescriptor(t,s[e]));for(e=0,s=Object.getOwnPropertyNames(t);e<s.length;e++)Object.hasOwnProperty.call(o,n=s[e])&&o[n]===t[n]||mt(o,n,Object.getOwnPropertyDescriptor(t,n))}return o||t}var On=()=>t=>Array.from(new Set(t));function le(t,e){return`${t} returned \`undefined\`. Seems you forgot to wrap component within ${e}`}function It(t={}){const{name:e,strict:n=!0,hookName:s="useContext",providerName:o="Provider",errorMessage:a,defaultValue:f}=t,r=w.createContext(f);r.displayName=e;function c(){var u;const i=w.useContext(r);if(!i&&n){const h=new Error(a??le(s,o));throw h.name="ContextError",(u=Error.captureStackTrace)==null||u.call(Error,h,c),h}return i}return[r.Provider,c,r]}var X=(t,e=[])=>({parts:(...n)=>{if(de(e))return X(t,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>X(t,[...e,...n]),rename:n=>X(n,e),keys:()=>e,build:()=>[...new Set(e)].reduce((n,s)=>Object.assign(n,{[s]:{selector:[`&[data-scope="${D(t)}"][data-part="${D(s)}"]`,`& [data-scope="${D(t)}"][data-part="${D(s)}"]`].join(", "),attrs:{"data-scope":D(t),"data-part":D(s)}}}),{})}),D=t=>t.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),de=t=>t.length===0,Pn=t=>t?"":void 0,it=t=>typeof t=="object"&&(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE&&typeof(t==null?void 0:t.nodeName)=="string",Wt=t=>t.nodeType===Node.DOCUMENT_NODE,pe=t=>t!=null&&t===t.window,ge=t=>t.nodeType!==void 0,ye=t=>t&&ge(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t;function xn(t,e){return!t||!e||!it(t)||!it(e)?!1:t===e||t.contains(e)}function me(t){return Wt(t)?t:pe(t)?t.document:(t==null?void 0:t.ownerDocument)??document}function Kt(t){var e;return ye(t)?Kt(t.host):Wt(t)?t.defaultView??window:it(t)?((e=t.ownerDocument)==null?void 0:e.defaultView)??window:window}var qt=()=>typeof document<"u";function ve(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}var zt=t=>qt()&&t.test(ve()),Ee=t=>qt()&&t.test(navigator.vendor),Rn=()=>zt(/^Mac/),bn=()=>we()&&Ee(/apple/i),we=()=>zt(/mac|iphone|ipad|ipod/i);function Se(t){var e,n,s;return((e=t.composedPath)==null?void 0:e.call(t))??((s=(n=t.nativeEvent)==null?void 0:n.composedPath)==null?void 0:s.call(n))}function Mn(t){const e=Se(t);return(e==null?void 0:e[0])??t.target}var Vt=t=>t.id;function Ae(t,e,n=Vt){return t.find(s=>n(s)===e)}function Bt(t,e,n=Vt){const s=Ae(t,e,n);return s?t.indexOf(s):-1}function Cn(t,e,n=!0){let s=Bt(t,e);return s=n?(s+1)%t.length:Math.min(s+1,t.length-1),t[s]}function Tn(t,e,n=!0){let s=Bt(t,e);return s===-1?n?t[t.length-1]:null:(s=n?(s-1+t.length)%t.length:Math.max(0,s-1),t[s])}var J=new WeakMap;function _n(t){return J.has(t)||J.set(t,Kt(t).getComputedStyle(t)),J.get(t)}function Yt(t){const e=globalThis.requestAnimationFrame(t);return()=>{globalThis.cancelAnimationFrame(e)}}function Oe(t,e){if(!t)return;const{attributes:n,callback:s}=e,o=t.ownerDocument.defaultView||window,a=new o.MutationObserver(f=>{for(const r of f)r.type==="attributes"&&r.attributeName&&n.includes(r.attributeName)&&s(r)});return a.observe(t,{attributes:!0,attributeFilter:n}),()=>a.disconnect()}function Nn(t,e){const{defer:n}=e,s=n?Yt:a=>a(),o=[];return o.push(s(()=>{const a=typeof t=="function"?t():t;o.push(Oe(a,e))})),()=>{o.forEach(a=>a==null?void 0:a())}}function Pe(t,e){const{callback:n}=e;if(!t)return;const s=t.ownerDocument.defaultView||window,o=new s.MutationObserver(n);return o.observe(t,{childList:!0,subtree:!0}),()=>o.disconnect()}function Dn(t,e){const{defer:n}=e,s=n?Yt:a=>a(),o=[];return o.push(s(()=>{const a=typeof t=="function"?t():t;o.push(Pe(a,e))})),()=>{o.forEach(a=>a==null?void 0:a())}}function $n(t,e){return Array.from((t==null?void 0:t.querySelectorAll(e))??[])}function jn(t){const e={getRootNode:n=>{var s;return((s=n.getRootNode)==null?void 0:s.call(n))??document},getDoc:n=>me(e.getRootNode(n)),getWin:n=>e.getDoc(n).defaultView??window,getActiveElement:n=>e.getDoc(n).activeElement,isActiveElement:(n,s)=>s===e.getActiveElement(n),getById:(n,s)=>e.getRootNode(n).getElementById(s),setValue:(n,s)=>{if(n==null||s==null)return;const o=s.toString();n.value!==o&&(n.value=s.toString())}};return{...e,...t}}var Ln={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"},kn=t=>t[0],In=t=>t[t.length-1],Wn=(t,...e)=>t.concat(e),Kn=(t,e)=>t.filter(n=>n!==e);function xe(t,e,n={}){const{step:s=1,loop:o=!0}=n,a=e+s,f=t.length,r=f-1;return e===-1?s>0?0:r:a<0?o?r:0:a>=f?o?0:e>f?f:e:a}function qn(t,e,n={}){const{step:s=1,loop:o=!0}=n;return xe(t,e,{step:-s,loop:o})}var vt=t=>(t==null?void 0:t.constructor.name)==="Array",Re=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof(t==null?void 0:t.isEqual)=="function"&&typeof(e==null?void 0:e.isEqual)=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(vt(t)&&vt(e))return Array.from(t).toString()===Array.from(e).toString();if(typeof t!="object"||typeof e!="object")return!1;const n=Object.keys(e??Object.create(null)),s=n.length;for(let o=0;o<s;o++)if(!Reflect.has(t,n[o]))return!1;for(let o=0;o<s;o++){const a=n[o];if(!Re(t[a],e[a]))return!1}return!0},zn=t=>typeof t=="number"&&!Number.isNaN(t);function be(t){if(!Me(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(s=>typeof s=="string"),n={};for(const s of e){const o=t[s];o!==void 0&&(n[s]=be(o))}return n}var Me=t=>t&&typeof t=="object"&&t.constructor===Object;function Ce(t,e){const n={},s={},o=new Set(e);for(const a in t)o.has(a)?s[a]=t[a]:n[a]=t[a];return[s,n]}var Vn=t=>function(n){return Ce(n,t)};function Bn(...t){const e=t.length===1?t[0]:t[1],n=t.length===2?t[0]:!0}function Te(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function at(t,e){const n=Te();return n?(n[t]||(n[t]=e()),n[t]):e()}var Q=t=>typeof t=="object"&&t!==null,T=at("__zag__proxyStateMap",()=>new WeakMap),I=at("__zag__refSet",()=>new WeakSet),_e=(t=Object.is,e=(i,u)=>new Proxy(i,u),n=i=>Q(i)&&!I.has(i)&&(Array.isArray(i)||!(Symbol.iterator in i))&&!(i instanceof WeakMap)&&!(i instanceof WeakSet)&&!(i instanceof Error)&&!(i instanceof Number)&&!(i instanceof Date)&&!(i instanceof String)&&!(i instanceof RegExp)&&!(i instanceof ArrayBuffer),s=i=>{switch(i.status){case"fulfilled":return i.value;case"rejected":throw i.reason;default:throw i}},o=new WeakMap,a=(i,u,h=s)=>{const d=o.get(i);if((d==null?void 0:d[0])===u)return d[1];const p=Array.isArray(i)?[]:Object.create(Object.getPrototypeOf(i));return yt(p,!0),o.set(i,[u,p]),Reflect.ownKeys(i).forEach(v=>{const E=Reflect.get(i,v);I.has(E)?(yt(E,!1),p[v]=E):E instanceof Promise?Object.defineProperty(p,v,{get(){return h(E)}}):T.has(E)?p[v]=C(E,h):p[v]=E}),Object.freeze(p)},f=new WeakMap,r=[1,1],c=i=>{if(!Q(i))throw new Error("object required");const u=f.get(i);if(u)return u;let h=r[0];const d=new Set,p=(m,g=++r[0])=>{h!==g&&(h=g,d.forEach(y=>y(m,g)))};let v=r[1];const E=(m=++r[1])=>(v!==m&&!d.size&&(v=m,x.forEach(([g])=>{const y=g[1](m);y>h&&(h=y)})),h),P=m=>(g,y)=>{const S=[...g];S[1]=[m,...S[1]],p(S,y)},x=new Map,ht=(m,g)=>{if(d.size){const y=g[3](P(m));x.set(m,[g,y])}else x.set(m,[g])},lt=m=>{var y;const g=x.get(m);g&&(x.delete(m),(y=g[1])==null||y.call(g))},Xt=m=>(d.add(m),d.size===1&&x.forEach(([y,S],_)=>{const j=y[3](P(_));x.set(_,[y,j])}),()=>{d.delete(m),d.size===0&&x.forEach(([y,S],_)=>{S&&(S(),x.set(_,[y]))})}),G=Array.isArray(i)?[]:Object.create(Object.getPrototypeOf(i)),K=e(G,{deleteProperty(m,g){const y=Reflect.get(m,g);lt(g);const S=Reflect.deleteProperty(m,g);return S&&p(["delete",[g],y]),S},set(m,g,y,S){var dt;const _=Reflect.has(m,g),j=Reflect.get(m,g,S);if(_&&(t(j,y)||f.has(y)&&t(j,f.get(y))))return!0;lt(g),Q(y)&&(y=he(y)||y);let q=y;if(!((dt=Object.getOwnPropertyDescriptor(m,g))!=null&&dt.set))if(y instanceof Promise)y.then(b=>{Object.assign(y,{status:"fulfilled",value:b}),p(["resolve",[g],b])}).catch(b=>{Object.assign(y,{status:"rejected",reason:b}),p(["reject",[g],b])});else{!T.has(y)&&n(y)&&(q=ut(y));const b=!I.has(q)&&T.get(q);b&&ht(g,b)}return Reflect.set(m,g,q,S),p(["set",[g],y,j]),!0}});f.set(i,K);const Jt=[G,E,a,Xt];return T.set(K,Jt),Reflect.ownKeys(i).forEach(m=>{const g=Object.getOwnPropertyDescriptor(i,m);g.get||g.set?Object.defineProperty(G,m,g):K[m]=i[m]}),K})=>[c,T,I,t,e,n,s,o,a,f,r],[Ne]=_e();function ut(t={}){return Ne(t)}function ot(t,e,n){const s=T.get(t);let o;const a=[],f=s[3];let r=!1;const i=f(u=>{if(a.push(u),n){e(a.splice(0));return}o||(o=Promise.resolve().then(()=>{o=void 0,r&&e(a.splice(0))}))});return r=!0,()=>{r=!1,i()}}function C(t,e){const n=T.get(t),[s,o,a]=n;return a(s,o(),e)}function Et(t){return I.add(t),t}function De(t,e){Object.keys(e).forEach(o=>{if(Object.getOwnPropertyDescriptor(t,o))throw new Error("object property already defined");const a=e[o],{get:f,set:r}=typeof a=="function"?{get:a}:a,c={};c.get=()=>f(C(s)),r&&(c.set=i=>r(s,i)),Object.defineProperty(t,o,c)});const s=ut(t);return s}var $e=Object.defineProperty,je=(t,e,n)=>e in t?$e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,l=(t,e,n)=>(je(t,typeof e!="symbol"?e+"":e,n),n);function Le(t){for(;t.length>0;)t.pop();return t}var wt=(t,...e)=>(typeof t=="function"?t(...e):t)??void 0,R=t=>t,ke=()=>{},Ie=(...t)=>(...e)=>{t.forEach(function(n){n==null||n(...e)})},St=(()=>{let t=0;return()=>(t++,t.toString(36))})(),B=t=>Array.isArray(t),W=t=>!(t==null||typeof t!="object"||B(t)),We=t=>typeof t=="number"&&!Number.isNaN(t),A=t=>typeof t=="string",Y=t=>typeof t=="function",Ke=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);function F(t){if(!qe(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(s=>typeof s=="string"),n={};for(const s of e){const o=t[s];o!==void 0&&(n[s]=F(o))}return n}var qe=t=>t&&typeof t=="object"&&t.constructor===Object;function tt(...t){const e=t.length===1?t[0]:t[1],n=t.length===2?t[0]:!0}function V(...t){const e=t.length===1?t[0]:t[1],n=t.length===2?t[0]:!0}function Ft(t,...e){for(const n of e){const s=F(n);for(const o in s)W(n[o])?(t[o]||(t[o]={}),Ft(t[o],n[o])):t[o]=n[o]}return t}function At(t){return $(t)}function O(t){return A(t)?{type:t}:t}function M(t){return t?B(t)?t.slice():[t]:[]}function Gt(t){return W(t)&&t.predicate!=null}var ze=()=>!0;function ft(t,e,n,s){return o=>{var a;return A(o)?!!((a=t[o])!=null&&a.call(t,e,n,s)):Y(o)?o(e,n,s):o.predicate(t)(e,n,s)}}function Ve(...t){return{predicate:e=>(n,s,o)=>t.map(ft(e,n,s,o)).some(Boolean)}}function Be(...t){return{predicate:e=>(n,s,o)=>t.map(ft(e,n,s,o)).every(Boolean)}}function Ye(t){return{predicate:e=>(n,s,o)=>!ft(e,n,s,o)(t)}}function Fe(...t){return(e,n,s)=>s.state.matches(...t)}var Yn={or:Ve,and:Be,not:Ye,stateIn:Fe};function Ut(t,e){return t=t??ze,(n,s,o)=>{if(A(t)){const a=e[t];return Y(a)?a(n,s,o):a}return Gt(t)?t.predicate(e)(n,s,o):t==null?void 0:t(n,s,o)}}function et(t,e){return(n,s,o)=>Gt(t)?t.predicate(e)(n,s,o):t}function Ge(t){var a,f;const e=t.computed??R({}),n=t.context??R({}),s=t.initial?(f=(a=t.states)==null?void 0:a[t.initial])==null?void 0:f.tags:[],o=ut({value:t.initial??"",previousValue:"",event:R({}),previousEvent:R({}),context:De(n,e),done:!1,tags:s??[],hasTag(r){return this.tags.includes(r)},matches(...r){return r.includes(this.value)},can(r){return R(this).nextEvents.includes(r)},get nextEvents(){var i,u;const r=((u=(i=t.states)==null?void 0:i[this.value])==null?void 0:u.on)??{},c=(t==null?void 0:t.on)??{};return Object.keys({...r,...c})},get changed(){return this.event.value==="machine.init"||!this.previousValue?!1:this.value!==this.previousValue}});return R(o)}function L(t,e){return(n,s)=>{if(We(t))return t;if(Y(t))return t(n,s);if(A(t)){const o=Number.parseFloat(t);if(!Number.isNaN(o))return o;if(e){const a=e==null?void 0:e[t];return V(a==null,`[@zag-js/core > determine-delay] Cannot determine delay for \`${t}\`. It doesn't exist in \`options.delays\``),Y(a)?a(n,s):a}}}}function Ue(t){return A(t)?{target:t}:t}function Ze(t,e){return(n,s,o)=>M(t).map(Ue).find(a=>Ut(a.guard,e)(n,s,o)??a.target??a.actions)}var He=class{constructor(t,e){var n,s,o,a,f;l(this,"status","Not Started"),l(this,"state"),l(this,"initialState"),l(this,"initialContext"),l(this,"id"),l(this,"type","machine"),l(this,"activityEvents",new Map),l(this,"delayedEvents",new Map),l(this,"stateListeners",new Set),l(this,"doneListeners",new Set),l(this,"contextWatchers",new Set),l(this,"removeStateListener",ke),l(this,"parent"),l(this,"children",new Map),l(this,"guardMap"),l(this,"actionMap"),l(this,"delayMap"),l(this,"activityMap"),l(this,"sync"),l(this,"options"),l(this,"config"),l(this,"_created",()=>{var c;const r=O("machine.created");this.executeActions((c=this.config)==null?void 0:c.created,r)}),l(this,"start",r=>{if(this.state.value="",this.state.tags=[],this.status==="Running")return this;this.status="Running",this.removeStateListener=ot(this.state,()=>{this.stateListeners.forEach(p=>{p(this.stateSnapshot)})},this.sync),this.setupContextWatchers(),this.executeActivities(O("machine.start"),M(this.config.activities),"machine.start"),this.executeActions(this.config.entry,O("machine.start"));const c=O("machine.init"),i=W(r)?r.value:r,u=W(r)?r.context:void 0;u&&this.setContext(u);const h={target:i??this.config.initial},d=this.getNextStateInfo(h,c);return this.initialState=d,this.performStateChangeEffects(this.state.value,d,c),this}),l(this,"setupContextWatchers",()=>{const{watch:r}=this.config;if(!r)return;let c=C(this.state.context);const i=ot(this.state.context,()=>{var h;const u=C(this.state.context);for(const[d,p]of Object.entries(r))(((h=this.options.compareFns)==null?void 0:h[d])??Object.is)(c[d],u[d])||this.executeActions(p,this.state.event);c=u});this.contextWatchers.add(i)}),l(this,"stop",()=>{if(this.status!=="Stopped")return this.performExitEffects(this.state.value,O("machine.stop")),this.executeActions(this.config.exit,O("machine.stop")),this.setState(""),this.setEvent("machine.stop"),this.stopStateListeners(),this.stopChildren(),this.stopActivities(),this.stopDelayedEvents(),this.stopContextWatchers(),this.status="Stopped",this}),l(this,"stopStateListeners",()=>{this.removeStateListener(),this.stateListeners.clear()}),l(this,"stopContextWatchers",()=>{this.contextWatchers.forEach(r=>r()),this.contextWatchers.clear()}),l(this,"stopDelayedEvents",()=>{this.delayedEvents.forEach(r=>{r.forEach(c=>c())}),this.delayedEvents.clear()}),l(this,"stopActivities",r=>{var c,i;r?((c=this.activityEvents.get(r))==null||c.forEach(u=>u()),(i=this.activityEvents.get(r))==null||i.clear(),this.activityEvents.delete(r)):(this.activityEvents.forEach(u=>{u.forEach(h=>h()),u.clear()}),this.activityEvents.clear())}),l(this,"sendChild",(r,c)=>{const i=O(r),u=wt(c,this.contextSnapshot),h=this.children.get(u);h||V(`[@zag-js/core] Cannot send '${i.type}' event to unknown child`),h.send(i)}),l(this,"stopChild",r=>{this.children.has(r)||V(`[@zag-js/core > stop-child] Cannot stop unknown child ${r}`),this.children.get(r).stop(),this.children.delete(r)}),l(this,"removeChild",r=>{this.children.delete(r)}),l(this,"stopChildren",()=>{this.children.forEach(r=>r.stop()),this.children.clear()}),l(this,"setParent",r=>{this.parent=r}),l(this,"spawn",(r,c)=>{const i=wt(r);return c&&(i.id=c),i.type="machine.actor",i.setParent(this),this.children.set(i.id,R(i)),i.onDone(()=>{this.removeChild(i.id)}).start(),R(Et(i))}),l(this,"stopActivity",r=>{var i;if(!this.state.value)return;const c=this.activityEvents.get(this.state.value);(i=c==null?void 0:c.get(r))==null||i(),c==null||c.delete(r)}),l(this,"addActivityCleanup",(r,c,i)=>{var u;r&&(this.activityEvents.has(r)?(u=this.activityEvents.get(r))==null||u.set(c,i):this.activityEvents.set(r,new Map([[c,i]])))}),l(this,"setState",r=>{this.state.previousValue=this.state.value,this.state.value=r;const c=this.getStateNode(r);r==null?Le(this.state.tags):this.state.tags=M(c==null?void 0:c.tags)}),l(this,"setContext",r=>{r&&Ft(this.state.context,F(r))}),l(this,"setOptions",r=>{const c=F(r);this.actionMap={...this.actionMap,...c.actions},this.delayMap={...this.delayMap,...c.delays},this.activityMap={...this.activityMap,...c.activities},this.guardMap={...this.guardMap,...c.guards}}),l(this,"getStateNode",r=>{var c;if(r)return(c=this.config.states)==null?void 0:c[r]}),l(this,"getNextStateInfo",(r,c)=>{const i=this.determineTransition(r,c),u=!(i!=null&&i.target),h=(i==null?void 0:i.target)??this.state.value,d=this.state.value!==h,p=this.getStateNode(h),E={reenter:!u&&!d&&!(i!=null&&i.internal),transition:i,stateNode:p,target:h,changed:d};return this.log("NextState:",`[${c.type}]`,this.state.value,"---->",E.target),E}),l(this,"getAfterActions",(r,c)=>{let i;return{entry:()=>{i=globalThis.setTimeout(()=>{const u=this.getNextStateInfo(r,this.state.event);this.performStateChangeEffects(this.state.value,u,this.state.event)},c)},exit:()=>{globalThis.clearTimeout(i)}}}),l(this,"getDelayedEventActions",r=>{const c=this.getStateNode(r),i=this.state.event;if(!c||!c.after)return;const u=[],h=[];if(B(c.after)){const d=this.determineTransition(c.after,i);if(!d)return;if(!Ke(d,"delay"))throw new Error(`[@zag-js/core > after] Delay is required for after transition: ${JSON.stringify(d)}`);const v=L(d.delay,this.delayMap)(this.contextSnapshot,i),E=this.getAfterActions(d,v);return u.push(E.entry),h.push(E.exit),{entries:u,exits:h}}if(W(c.after))for(const d in c.after){const p=c.after[d],E=L(d,this.delayMap)(this.contextSnapshot,i),P=this.getAfterActions(p,E);u.push(P.entry),h.push(P.exit)}return{entries:u,exits:h}}),l(this,"executeActions",(r,c)=>{var u;const i=et(r,this.guardMap)(this.contextSnapshot,c,this.guardMeta);for(const h of M(i)){const d=A(h)?(u=this.actionMap)==null?void 0:u[h]:h;tt(A(h)&&!d,`[@zag-js/core > execute-actions] No implementation found for action: \`${h}\``),d==null||d(this.state.context,c,this.meta)}}),l(this,"executeActivities",(r,c,i)=>{var u;for(const h of c){const d=A(h)?(u=this.activityMap)==null?void 0:u[h]:h;if(!d){tt(`[@zag-js/core > execute-activity] No implementation found for activity: \`${h}\``);continue}const p=d(this.state.context,r,this.meta);if(p){const v=A(h)?h:h.name||St();this.addActivityCleanup(i??this.state.value,v,p)}}}),l(this,"createEveryActivities",(r,c)=>{if(r)if(B(r)){const i=M(r).find(p=>{const v=p.delay,P=L(v,this.delayMap)(this.contextSnapshot,this.state.event);return Ut(p.guard,this.guardMap)(this.contextSnapshot,this.state.event,this.guardMeta)??P!=null});if(!i)return;const h=L(i.delay,this.delayMap)(this.contextSnapshot,this.state.event);c(()=>{const p=globalThis.setInterval(()=>{this.executeActions(i.actions,this.state.event)},h);return()=>{globalThis.clearInterval(p)}})}else for(const i in r){const u=r==null?void 0:r[i],d=L(i,this.delayMap)(this.contextSnapshot,this.state.event);c(()=>{const v=globalThis.setInterval(()=>{this.executeActions(u,this.state.event)},d);return()=>{globalThis.clearInterval(v)}})}}),l(this,"setEvent",r=>{this.state.previousEvent=this.state.event,this.state.event=Et(O(r))}),l(this,"performExitEffects",(r,c)=>{const i=this.state.value;if(i==="")return;const u=r?this.getStateNode(r):void 0;this.stopActivities(i);const h=et(u==null?void 0:u.exit,this.guardMap)(this.contextSnapshot,c,this.guardMeta),d=M(h),p=this.delayedEvents.get(i);p&&d.push(...p),this.executeActions(d,c)}),l(this,"performEntryEffects",(r,c)=>{const i=this.getStateNode(r),u=M(i==null?void 0:i.activities);this.createEveryActivities(i==null?void 0:i.every,v=>{u.unshift(v)}),u.length>0&&this.executeActivities(c,u);const h=et(i==null?void 0:i.entry,this.guardMap)(this.contextSnapshot,c,this.guardMeta),d=M(h),p=this.getDelayedEventActions(r);i!=null&&i.after&&p&&(this.delayedEvents.set(r,p==null?void 0:p.exits),d.push(...p.entries)),this.executeActions(d,c),(i==null?void 0:i.type)==="final"&&(this.state.done=!0,this.doneListeners.forEach(v=>{v(this.stateSnapshot)}),this.stop())}),l(this,"performTransitionEffects",(r,c)=>{const i=this.determineTransition(r,c);this.executeActions(i==null?void 0:i.actions,c)}),l(this,"performStateChangeEffects",(r,c,i)=>{this.setEvent(i);const u=c.changed||c.reenter;u&&this.performExitEffects(r,i),this.performTransitionEffects(c.transition,i),this.setState(c.target),u&&this.performEntryEffects(c.target,i)}),l(this,"determineTransition",(r,c)=>{const i=Ze(r,this.guardMap);return i==null?void 0:i(this.contextSnapshot,c,this.guardMeta)}),l(this,"sendParent",r=>{var i;this.parent||V("[@zag-js/core > send-parent] Cannot send event to an unknown parent");const c=O(r);(i=this.parent)==null||i.send(c)}),l(this,"log",(...r)=>{}),l(this,"send",r=>{const c=O(r);this.transition(this.state.value,c)}),l(this,"transition",(r,c)=>{var p,v;const i=A(r)?this.getStateNode(r):r==null?void 0:r.stateNode,u=O(c);if(!i&&!this.config.on){const E=this.status==="Stopped"?"[@zag-js/core > transition] Cannot transition a stopped machine":`[@zag-js/core > transition] State does not have a definition for \`state\`: ${r}, \`event\`: ${u.type}`;tt(E);return}const h=((p=i==null?void 0:i.on)==null?void 0:p[u.type])??((v=this.config.on)==null?void 0:v[u.type]),d=this.getNextStateInfo(h,u);return this.performStateChangeEffects(this.state.value,d,u),d.stateNode}),l(this,"subscribe",r=>(this.stateListeners.add(r),this.status==="Running"&&r(this.stateSnapshot),()=>{this.stateListeners.delete(r)})),l(this,"onDone",r=>(this.doneListeners.add(r),this)),l(this,"onTransition",r=>(this.stateListeners.add(r),this.status==="Running"&&r(this.stateSnapshot),this)),this.config=At(t),this.options=At(e??{}),this.id=this.config.id??`machine-${St()}`,this.guardMap=((n=this.options)==null?void 0:n.guards)??{},this.actionMap=((s=this.options)==null?void 0:s.actions)??{},this.delayMap=((o=this.options)==null?void 0:o.delays)??{},this.activityMap=((a=this.options)==null?void 0:a.activities)??{},this.sync=((f=this.options)==null?void 0:f.sync)??!1,this.state=Ge(this.config),this.initialContext=C(this.state.context)}get stateSnapshot(){return R(C(this.state))}getState(){return this.stateSnapshot}get contextSnapshot(){return this.stateSnapshot.context}get self(){const t=this;return{id:this.id,send:this.send.bind(this),sendParent:this.sendParent.bind(this),sendChild:this.sendChild.bind(this),stop:this.stop.bind(this),stopChild:this.stopChild.bind(this),spawn:this.spawn.bind(this),stopActivity:this.stopActivity.bind(this),get state(){return t.stateSnapshot},get initialContext(){return t.initialContext},get initialState(){var e;return((e=t.initialState)==null?void 0:e.target)??""}}}get meta(){var t;return{state:this.stateSnapshot,guards:this.guardMap,send:this.send.bind(this),self:this.self,initialContext:this.initialContext,initialState:((t=this.initialState)==null?void 0:t.target)??"",getState:()=>this.stateSnapshot,getAction:e=>this.actionMap[e],getGuard:e=>this.guardMap[e]}}get guardMeta(){return{state:this.stateSnapshot}}get[Symbol.toStringTag](){return"Machine"}},Fn=(t,e)=>new He(t,e),Xe=(...t)=>t.map(e=>{var n;return(n=e==null?void 0:e.trim)==null?void 0:n.call(e)}).filter(Boolean).join(" "),Je=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,Ot=t=>{const e={};let n;for(;n=Je.exec(t);)e[n[1]]=n[2];return e},Qe=(t,e)=>{if(A(t)){if(A(e))return`${t};${e}`;t=Ot(t)}else A(e)&&(e=Ot(e));return Object.assign({},t??{},e??{})};function tn(...t){let e={};for(let n of t){for(let s in e){if(s.startsWith("on")&&typeof e[s]=="function"&&typeof n[s]=="function"){e[s]=Ie(n[s],e[s]);continue}if(s==="className"||s==="class"){e[s]=Xe(e[s],n[s]);continue}if(s==="style"){e[s]=Qe(e[s],n[s]);continue}e[s]=n[s]!==void 0?n[s]:e[s]}for(let s in n)e[s]===void 0&&(e[s]=n[s])}return e}function en(t){return new Proxy({},{get(){return t}})}var Gn=()=>t=>Array.from(new Set(t)),Un=en(t=>t),Pt=t=>(t==null?void 0:t.constructor.name)==="Array",Zt=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof(t==null?void 0:t.isEqual)=="function"&&typeof(e==null?void 0:e.isEqual)=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(Pt(t)&&Pt(e))return Array.from(t).toString()===Array.from(e).toString();if(typeof t!="object"||typeof e!="object")return!1;const n=Object.keys(e??Object.create(null)),s=n.length;for(let o=0;o<s;o++)if(!Reflect.has(t,n[o]))return!1;for(let o=0;o<s;o++){const a=n[o];if(!Zt(t[a],e[a]))return!1}return!0};function Ht(t){if(!nn(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(s=>typeof s=="string"),n={};for(const s of e){const o=t[s];o!==void 0&&(n[s]=Ht(o))}return n}var nn=t=>t&&typeof t=="object"&&t.constructor===Object;function sn(t,e){const n=w.useRef(!1),s=w.useRef(!1);w.useEffect(()=>{if(n.current&&s.current)return t();s.current=!0},e),w.useEffect(()=>(n.current=!0,()=>{n.current=!1}),[])}var{use:xt}=Qt,rn=at("__zag__targetCache",()=>new WeakMap);function on(t,e){const{actions:n,context:s,sync:o}=e??{},a=w.useRef(),f=w.useRef(),r=w.useSyncExternalStore(w.useCallback(h=>ot(t.state,h,o),[o]),()=>{const h=C(t.state,xt);try{if(a.current&&f.current&&!kt(a.current,h,f.current,new WeakMap))return a.current}catch{}return h},()=>C(t.state,xt));t.setOptions({actions:n});const c=w.useMemo(()=>Ht(s??{}),[s]);sn(()=>{const h=Object.entries(c),d=t.contextSnapshot??{};h.map(([E,P])=>({key:E,curr:P,prev:d[E],equal:Zt(d[E],P)})).every(({equal:E})=>E)||t.setContext(c)},[c]);const i=new WeakMap;w.useEffect(()=>{a.current=r,f.current=i});const u=w.useMemo(()=>new WeakMap,[]);return Lt(r,i,u,rn)}function cn(t){const e=w.useRef();return e.current||(e.current={v:t()}),e.current.v}var an=typeof document<"u"?w.useLayoutEffect:w.useEffect;function un(t,e){const{state:n,context:s}=e??{},o=cn(()=>{const a=typeof t=="function"?t():t;return s&&a.setContext(s),a._created(),a});return an(()=>(o.start(n),()=>{o.stop()}),[]),o}function Zn(t,e){const n=un(t,e);return[on(n,e),n.send,n]}function fn(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function hn(...t){return e=>{for(const n of t)fn(n,e)}}function ln(t){return"ref"in t.props?t.props.ref:"ref"in t?t.ref:null}const nt=t=>{const e=w.memo(w.forwardRef((n,s)=>{const{asChild:o,children:a,...f}=n;if(!o)return w.createElement(t,{...f,ref:s},a);const r=w.Children.only(a);if(!w.isValidElement(r))return null;const c=ln(r);return w.cloneElement(r,{...tn(f,r.props),ref:s?hn(s,c):c})}));return e.displayName=t.displayName||t.name,e},dn=()=>{const t=new Map;return new Proxy(nt,{apply(e,n,s){return nt(s[0])},get(e,n){const s=n;return t.has(s)||t.set(s,nt(s)),t.get(s)}})},Hn=dn(),Xn=()=>(t,e)=>e.reduce((n,s)=>{const[o,a]=n,f=s;return a[f]!==void 0&&(o[f]=a[f]),delete a[f],[o,a]},[{},{...t}]),[Jn,Qn]=It({name:"EnvironmentContext",hookName:"useEnvironmentContext",providerName:"<EnvironmentProvider />",strict:!1,defaultValue:{getRootNode:()=>document,getDocument:()=>document,getWindow:()=>window}}),[ts,es]=It({name:"LocaleContext",hookName:"useLocaleContext",providerName:"<LocaleProvider />",strict:!1,defaultValue:{dir:"ltr",locale:"en-US"}});function ns(t,e={}){const{sync:n=!1}=e,s=pn(t);return w.useCallback((...o)=>{var a;return n?queueMicrotask(()=>{var f;return(f=s.current)==null?void 0:f.call(s,...o)}):(a=s.current)==null?void 0:a.call(s,...o)},[n,s])}function pn(t){const e=w.useRef(t);return e.current=t,e}export{Nn as A,Dn as B,Ln as C,Yn as D,Re as E,Sn as F,En as G,wn as H,Vn as I,$n as J,kn as K,In as L,Cn as M,Tn as N,bn as O,Kn as P,Wn as Q,Bn as R,qt as S,xe as T,qn as U,zn as V,me as a,Mn as b,xn as c,U as d,An as e,On as f,Kt as g,Hn as h,Rn as i,Xn as j,X as k,jn as l,tn as m,Pn as n,be as o,Fn as p,Gn as q,Yt as r,_n as s,Et as t,es as u,Qn as v,ns as w,Zn as x,Un as y,It as z};
