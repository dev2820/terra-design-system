import{g as E,a as $,i as x,b as C,c as U}from"./use-event-CuWQ5sab.js";var a=(e,t,n,o)=>{const r=typeof e=="function"?e():e;return r==null||r.addEventListener(t,n,o),()=>{r==null||r.removeEventListener(t,n,o)}},z={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},b={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function j(e,t={}){const{dir:n="ltr",orientation:o="horizontal"}=t;let{key:r}=e;return r=z[r]??r,n==="rtl"&&o==="horizontal"&&r in b&&(r=b[r]),r}function B(e,t="client"){const n=e.touches[0]||e.changedTouches[0];return{x:n[`${t}X`],y:n[`${t}Y`]}}function S(e,t="client"){return{x:e[`${t}X`],y:e[`${t}Y`]}}var X=e=>"touches"in e&&e.touches.length>0;function Y(e,t="client"){return X(e)?B(e,t):S(e,t)}var y=(...e)=>t=>e.reduce((n,o)=>o(n),t),w=()=>{},I=e=>!(e.metaKey||!x()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta");function q(e,t){if(!e)return;const{onFocus:n,onBlur:o}=t,r=E(e);let i=!1;const p=u=>{let c=!1;try{c=e.matches(":focus-visible")}catch{c=!0}c&&(i=!0,n==null||n(u))},l=u=>{i&&(i=!1,o==null||o(u))},h=u=>{if(!e.matches(":focus")||!I(u))return;i=!0;const c=new r.FocusEvent("focus");n==null||n(c)};return y(a(e,"focusin",p),a(e,"focusout",l),a(e,"keydown",h,!0))}function G(e){const{pointerNode:t,keyboardNode:n=t,onPress:o,onPressStart:r,onPressEnd:i,isValidKey:p=s=>s.key==="Enter"}=e;if(!t)return w;const l=E(t),h=$(t);let u=w,c=w,g=w;const v=s=>({point:Y(s),event:s});function k(s){r==null||r(v(s))}function K(s){i==null||i(v(s))}const R=a(t,"pointerdown",s=>{c();const m=a(l,"pointerup",f=>{const L=C(f);U(t,L)?o==null||o(v(f)):i==null||i(v(f))},{passive:!o}),d=a(l,"pointercancel",K,{passive:!i});c=y(m,d),h.activeElement===n&&s.pointerType==="mouse"&&s.preventDefault(),k(s)},{passive:!r}),D=a(n,"focus",M);u=y(R,D);function M(){const s=f=>{if(!p(f))return;const L=V=>{if(!p(V))return;const F=new l.PointerEvent("pointerup"),P=v(F);o==null||o(P),i==null||i(P)};c(),c=a(n,"keyup",L);const T=new l.PointerEvent("pointerdown");k(T)},A=()=>{const f=new l.PointerEvent("pointercancel");K(f)},m=a(n,"keydown",s),d=a(n,"blur",A);g=y(m,d)}return function(){u(),c(),g()}}export{q as a,j as g,G as t};
