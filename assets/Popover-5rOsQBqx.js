import{j as a}from"./jsx-runtime-qGIIFXMu.js";import{r as d}from"./index-CDs2tPxN.js";import{c as f}from"./cva-C095pwBQ.js";import{s as A}from"./sva-CxSEfBjn.js";import{c as j}from"./create-react-context-Dw26gLIP.js";import{j as S,c as $,y as m,z as v,k as L,l as B,R as _,m as G,o as W,Z as K,n as V,r as I,p as x,S as C,B as M,F as H}from"./factory-BCwUXDVF.js";import{c as U,y as Z,b as q}from"./index-Dquv0SIZ.js";import{c as J}from"./index-DJ3ti8gJ.js";import{P as Q}from"./portal-DVHZYSwj.js";import{a as T,u as X,P as Y}from"./use-presence-zw3amx30.js";import{s as z}from"./split-presence-props-DcTE3k_W.js";import{g as ee,a as O}from"./index-DDey0k43.js";import{a as oe}from"./index-B-4z8KQ4.js";import{a as te}from"./index-Bi-kwPO5.js";import{p as re,c as ne}from"./index-CgflYHCK.js";import{u as se,a as ie}from"./use-locale-context-0tfyuFre.js";import{u as ae}from"./use-event-eGuf5zsd.js";var h=S("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger");h.build();var p=U({getAnchorId:e=>{var t;return((t=e.ids)==null?void 0:t.anchor)??`popover:${e.id}:anchor`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`popover:${e.id}:trigger`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`popover:${e.id}:content`},getPositionerId:e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`popover:${e.id}:popper`},getArrowId:e=>{var t;return((t=e.ids)==null?void 0:t.arrow)??`popover:${e.id}:arrow`},getTitleId:e=>{var t;return((t=e.ids)==null?void 0:t.title)??`popover:${e.id}:title`},getDescriptionId:e=>{var t;return((t=e.ids)==null?void 0:t.description)??`popover:${e.id}:desc`},getCloseTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.closeTrigger)??`popover:${e.id}:close`},getAnchorEl:e=>p.getById(e,p.getAnchorId(e)),getTriggerEl:e=>p.getById(e,p.getTriggerId(e)),getContentEl:e=>p.getById(e,p.getContentId(e)),getPositionerEl:e=>p.getById(e,p.getPositionerId(e)),getTitleEl:e=>p.getById(e,p.getTitleId(e)),getDescriptionEl:e=>p.getById(e,p.getDescriptionId(e)),getFocusableEls:e=>Z(p.getContentEl(e)),getFirstFocusableEl:e=>p.getFocusableEls(e)[0]});J()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","portalled","positioning"]);const[le,P]=$({name:"PopoverContext",hookName:"usePopoverContext",providerName:"<PopoverProvider />"}),y=d.forwardRef((e,t)=>{const o=P(),r=m(o.getArrowProps(),e);return a.jsx(v.div,{...r,ref:t})});y.displayName="PopoverArrow";const w=d.forwardRef((e,t)=>{const o=P(),r=m(o.getArrowTipProps(),e);return a.jsx(v.div,{...r,ref:t})});w.displayName="PopoverArrowTip";const F=d.forwardRef((e,t)=>{const o=P(),r=m(o.getCloseTriggerProps(),e);return a.jsx(v.button,{...r,ref:t})});F.displayName="PopoverCloseTrigger";const N=d.forwardRef((e,t)=>{const o=P(),r=T(),s=m(o.getContentProps(),r.getPresenceProps(t),e);return r.unmounted?null:a.jsx(v.div,{...s})});N.displayName="PopoverContent";const b=d.forwardRef((e,t)=>{const o=P(),r=m(o.getDescriptionProps(),e);return a.jsx(v.div,{...r,ref:t})});b.displayName="PopoverDescription";const D=d.forwardRef((e,t)=>{const o=P(),r=T(),s=m(o.getPositionerProps(),e);return r.unmounted?null:a.jsx(v.div,{...s,ref:t})});D.displayName="PopoverPositioner";var de=L("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger"),u=de.build(),n=B({getAnchorId:e=>{var t;return((t=e.ids)==null?void 0:t.anchor)??`popover:${e.id}:anchor`},getTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.trigger)??`popover:${e.id}:trigger`},getContentId:e=>{var t;return((t=e.ids)==null?void 0:t.content)??`popover:${e.id}:content`},getPositionerId:e=>{var t;return((t=e.ids)==null?void 0:t.positioner)??`popover:${e.id}:popper`},getArrowId:e=>{var t;return((t=e.ids)==null?void 0:t.arrow)??`popover:${e.id}:arrow`},getTitleId:e=>{var t;return((t=e.ids)==null?void 0:t.title)??`popover:${e.id}:title`},getDescriptionId:e=>{var t;return((t=e.ids)==null?void 0:t.description)??`popover:${e.id}:desc`},getCloseTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.closeTrigger)??`popover:${e.id}:close`},getAnchorEl:e=>n.getById(e,n.getAnchorId(e)),getTriggerEl:e=>n.getById(e,n.getTriggerId(e)),getContentEl:e=>n.getById(e,n.getContentId(e)),getPositionerEl:e=>n.getById(e,n.getPositionerId(e)),getTitleEl:e=>n.getById(e,n.getTitleId(e)),getDescriptionEl:e=>n.getById(e,n.getDescriptionId(e)),getFocusableEls:e=>_(n.getContentEl(e)),getFirstFocusableEl:e=>n.getFocusableEls(e)[0]});function ce(e,t,o){const r=e.matches("open"),s=e.context.currentPlacement,i=e.context.currentPortalled,g=e.context.renderedElements,c=ee({...e.context.positioning,placement:s});return{portalled:i,open:r,setOpen(l){l!==r&&t(l?"OPEN":"CLOSE")},reposition(l={}){t({type:"POSITIONING.SET",options:l})},getArrowProps(){return o.element({id:n.getArrowId(e.context),...u.arrow.attrs,dir:e.context.dir,style:c.arrow})},getArrowTipProps(){return o.element({...u.arrowTip.attrs,dir:e.context.dir,style:c.arrowTip})},getAnchorProps(){return o.element({...u.anchor.attrs,dir:e.context.dir,id:n.getAnchorId(e.context)})},getTriggerProps(){return o.button({...u.trigger.attrs,dir:e.context.dir,type:"button","data-placement":s,id:n.getTriggerId(e.context),"aria-haspopup":"dialog","aria-expanded":r,"data-state":r?"open":"closed","aria-controls":n.getContentId(e.context),onClick(l){l.defaultPrevented||t("TOGGLE")},onBlur(l){t({type:"TRIGGER_BLUR",target:l.relatedTarget})}})},getIndicatorProps(){return o.element({...u.indicator.attrs,dir:e.context.dir,"data-state":r?"open":"closed"})},getPositionerProps(){return o.element({id:n.getPositionerId(e.context),...u.positioner.attrs,dir:e.context.dir,style:c.floating})},getContentProps(){return o.element({...u.content.attrs,dir:e.context.dir,id:n.getContentId(e.context),tabIndex:-1,role:"dialog",hidden:!r,"data-state":r?"open":"closed","data-expanded":G(r),"aria-labelledby":g.title?n.getTitleId(e.context):void 0,"aria-describedby":g.description?n.getDescriptionId(e.context):void 0,"data-placement":s})},getTitleProps(){return o.element({...u.title.attrs,id:n.getTitleId(e.context),dir:e.context.dir})},getDescriptionProps(){return o.element({...u.description.attrs,id:n.getDescriptionId(e.context),dir:e.context.dir})},getCloseTriggerProps(){return o.button({...u.closeTrigger.attrs,dir:e.context.dir,id:n.getCloseTriggerId(e.context),type:"button","aria-label":"close",onClick(l){l.defaultPrevented||t("CLOSE")}})}}}function pe(e){const t=q(e);return W({id:"popover",initial:t.open?"open":"closed",context:{closeOnInteractOutside:!0,closeOnEscape:!0,autoFocus:!0,modal:!1,portalled:!0,positioning:{placement:"bottom",...t.positioning},currentPlacement:void 0,...t,renderedElements:{title:!0,description:!0}},computed:{currentPortalled:o=>!!o.modal||!!o.portalled},watch:{open:["toggleVisibility"]},entry:["checkRenderedElements"],states:{closed:{on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}]}},open:{activities:["trapFocus","preventScroll","hideContentBelow","trackPositioning","trackDismissableElement","proxyTabFocus"],on:{"CONTROLLED.CLOSE":{target:"closed",actions:["setFinalFocus"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","setFinalFocus"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"POSITIONING.SET":{actions:"reposition"}}}}},{guards:{isOpenControlled:o=>!!o["open.controlled"]},activities:{trackPositioning(o){o.currentPlacement=o.positioning.placement;const r=n.getAnchorEl(o)??n.getTriggerEl(o);return O(r,()=>n.getPositionerEl(o),{...o.positioning,defer:!0,onComplete(i){o.currentPlacement=i.placement}})},trackDismissableElement(o,r,{send:s}){const i=()=>n.getContentEl(o);let g=!0;return te(i,{pointerBlocking:o.modal,exclude:n.getTriggerEl(o),defer:!0,onEscapeKeyDown(c){var l;(l=o.onEscapeKeyDown)==null||l.call(o,c),!o.closeOnEscape&&c.preventDefault()},onInteractOutside(c){var l;(l=o.onInteractOutside)==null||l.call(o,c),!c.defaultPrevented&&(g=!(c.detail.focusable||c.detail.contextmenu),o.closeOnInteractOutside||c.preventDefault())},onPointerDownOutside:o.onPointerDownOutside,onFocusOutside:o.onFocusOutside,persistentElements:o.persistentElements,onDismiss(){s({type:"CLOSE",src:"interact-outside",restoreFocus:g})}})},proxyTabFocus(o){return o.modal||!o.portalled?void 0:K(()=>n.getContentEl(o),{triggerElement:n.getTriggerEl(o),defer:!0,onFocus(s){s.focus({preventScroll:!0})}})},hideContentBelow(o){return o.modal?oe(()=>[n.getContentEl(o),n.getTriggerEl(o)],{defer:!0}):void 0},preventScroll(o){if(o.modal)return re(n.getDoc(o))},trapFocus(o){if(!o.modal)return;let r;return V(()=>{const s=n.getContentEl(o);if(s){r=ne(s,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,document:n.getDoc(o),fallbackFocus:s,initialFocus:C({root:n.getContentEl(o),getInitialEl:o.initialFocusEl,enabled:o.autoFocus})});try{r.activate()}catch{}}}),()=>r==null?void 0:r.deactivate()}},actions:{reposition(o,r){const s=n.getAnchorEl(o)??n.getTriggerEl(o);O(s,()=>n.getPositionerEl(o),{...o.positioning,...r.options,defer:!0,listeners:!1,onComplete(g){o.currentPlacement=g.placement}})},checkRenderedElements(o){I(()=>{Object.assign(o.renderedElements,{title:!!n.getTitleEl(o),description:!!n.getDescriptionEl(o)})})},setInitialFocus(o){o.modal||I(()=>{const r=C({root:n.getContentEl(o),getInitialEl:o.initialFocusEl,enabled:o.autoFocus});r==null||r.focus({preventScroll:!0})})},setFinalFocus(o,r){r.restoreFocus&&I(()=>{const s=n.getTriggerEl(o);s==null||s.focus({preventScroll:!0})})},invokeOnOpen(o){var r;(r=o.onOpenChange)==null||r.call(o,{open:!0})},invokeOnClose(o){var r;(r=o.onOpenChange)==null||r.call(o,{open:!1})},toggleVisibility(o,r,{send:s}){s({type:o.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:r})}}})}x()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","portalled","positioning"]);const ge=(e={})=>{const{getRootNode:t}=se(),{dir:o}=ie(),r={id:d.useId(),dir:o,getRootNode:t,open:e.defaultOpen,"open.controlled":e.open!==void 0,...e},s={...r,open:e.open,onOpenChange:ae(e.onOpenChange,{sync:!0})},[i,g]=M(pe(r),{context:s});return ce(i,g,H)},ue=e=>{const[t,{children:o,...r}]=z(e),s=ge(r),i=X(m({present:s.open},t));return a.jsx(le,{value:s,children:a.jsx(Y,{value:i,children:o})})},R=d.forwardRef((e,t)=>{const o=P(),r=m(o.getTitleProps(),e);return a.jsx(v.div,{...r,ref:t})});R.displayName="PopoverTitle";const k=d.forwardRef((e,t)=>{const o=P(),r=T(),s=m({...o.getTriggerProps(),"aria-controls":r.unmounted?void 0:o.getTriggerProps()["aria-controls"]},e);return a.jsx(v.button,{...s,ref:t})});k.displayName="PopoverTrigger";const me=A({className:"popover",slots:h.keys(),base:{positioner:{position:"relative"},content:{background:"white",borderRadius:"lg",boxShadow:"lg",display:"flex",flexDirection:"column",maxWidth:"sm",zIndex:"popover",p:"4",_open:{animation:"fade-in 0.25s ease-out"},_closed:{animation:"fade-out 0.2s ease-out"},"&[aria-hidden]":{display:"none"}},title:{fontWeight:"medium",textStyle:"sm"},description:{color:"neutral.400",textStyle:"sm"},closeTrigger:{color:"neutral.400"},arrow:{"--arrow-size":"var(--sizes-3)","--arrow-background":"var(--colors-white)"},arrowTip:{borderColor:"neutral.100",borderTopWidth:"1px",borderLeftWidth:"1px"}}}),[ve,E]=j({name:"popover",hookName:"usePopoverContext",providerName:"PopoverProvider",defaultValue:{classes:{},portalled:!1}});function Pe(e){const{portalled:t,children:o,...r}=e,i={classes:me(),portalled:t};return a.jsx(ve,{value:i,children:a.jsx(ue,{portalled:t,...r,children:o})})}const fe=d.forwardRef(function(e,t){const{classes:o}=E(),{children:r,className:s,...i}=e;return a.jsx(k,{className:f(o.trigger,s),ref:t,...i,children:r})}),Ee=d.forwardRef(function(e,t){const{classes:o,portalled:r}=E(),{children:s,className:i,...g}=e,c=r?Q:d.Fragment;return a.jsx(c,{children:a.jsx(D,{children:a.jsx(N,{className:f(o.content,i),ref:t,...g,children:s})})})}),Ie=d.forwardRef(function(e,t){const{classes:o}=E(),{children:r,className:s,...i}=e;return a.jsx(y,{className:f(o.arrow,s),...i,ref:t,children:a.jsx(w,{className:o.arrowTip})})}),Te=d.forwardRef(function(e,t){const{classes:o}=E(),{children:r,className:s,...i}=e;return a.jsx(R,{className:f(o.title,s),...i,ref:t,children:r})}),Ce=d.forwardRef(function(e,t){const{classes:o}=E(),{children:r,className:s,...i}=e;return a.jsx(b,{className:f(o.description,s),...i,ref:t,children:r})}),Oe=d.forwardRef(function(e,t){const{classes:o}=E(),{children:r,className:s,...i}=e;return a.jsx(F,{className:f(o.closeTrigger,s),ref:t,...i,children:r})});Pe.__docgenInfo={description:"",methods:[],displayName:"Root"};fe.__docgenInfo={description:"",methods:[],displayName:"Trigger"};Ee.__docgenInfo={description:"",methods:[],displayName:"Content"};Oe.__docgenInfo={description:"",methods:[],displayName:"CloseTrigger"};Te.__docgenInfo={description:"",methods:[],displayName:"Title"};Ce.__docgenInfo={description:"",methods:[],displayName:"Description"};Ie.__docgenInfo={description:"",methods:[],displayName:"Arrow"};export{Ie as A,Ee as C,Ce as D,Pe as R,fe as T,Te as a,Oe as b};
