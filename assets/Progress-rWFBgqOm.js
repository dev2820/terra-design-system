import{j as s}from"./jsx-runtime-qGIIFXMu.js";import{r as c}from"./index-CDs2tPxN.js";import{c as L}from"./cva-C095pwBQ.js";import{s as M}from"./sva-CxSEfBjn.js";import{k as A,c as z,m as g,l as u,p as D,q as U,t as H,u as W,x as _,y as q,a as F}from"./create-split-props-BDI0pziA.js";import{c as O,d as B,j as T,u as G,e as J}from"./use-locale-context-kz_CgJym.js";import{c as K}from"./index-DJ3ti8gJ.js";var b=A("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange");b.build();O({getRootId:e=>{var r;return((r=e.ids)==null?void 0:r.root)??`progress-${e.id}`},getTrackId:e=>{var r;return((r=e.ids)==null?void 0:r.track)??`progress-${e.id}-track`},getLabelId:e=>{var r;return((r=e.ids)==null?void 0:r.label)??`progress-${e.id}-label`},getCircleId:e=>{var r;return((r=e.ids)==null?void 0:r.circle)??`progress-${e.id}-circle`}});K()(["dir","getRootNode","id","ids","max","min","orientation","translations","value"]);const[Q,m]=z({name:"ProgressContext",hookName:"useProgressContext",providerName:"<ProgressProvider />"}),C=c.forwardRef((e,r)=>{const t=m(),a=g(t.getCircleProps(),e);return s.jsx(u.svg,{ref:r,...a})});C.displayName="ProgressCircle";const N=c.forwardRef((e,r)=>{const t=m(),a=g(t.getCircleRangeProps(),e);return s.jsx(u.circle,{ref:r,...a})});N.displayName="ProgressCircleRange";const w=c.forwardRef((e,r)=>{const t=m(),a=g(t.getCircleTrackProps(),e);return s.jsx(u.circle,{ref:r,...a})});w.displayName="ProgressCircleTrack";const $=c.forwardRef((e,r)=>{const t=m(),a=g(t.getLabelProps(),e);return s.jsx(u.label,{...a,ref:r})});$.displayName="ProgressLabel";const j=c.forwardRef((e,r)=>{const t=m(),a=g(t.getRangeProps(),e);return s.jsx(u.div,{...a,ref:r})});j.displayName="ProgressRange";var X=D("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange"),i=X.build(),P=U({getRootId:e=>{var r;return((r=e.ids)==null?void 0:r.root)??`progress-${e.id}`},getTrackId:e=>{var r;return((r=e.ids)==null?void 0:r.track)??`progress-${e.id}-track`},getLabelId:e=>{var r;return((r=e.ids)==null?void 0:r.label)??`progress-${e.id}-label`},getCircleId:e=>{var r;return((r=e.ids)==null?void 0:r.circle)??`progress-${e.id}-circle`}});function Y(e,r,t){const a=e.context.percent,l=e.context.isIndeterminate?"":`${a}%`,o=e.context.max,d=e.context.min,n=e.context.orientation,S=e.context.translations,f=e.context.isIndeterminate,p=e.context.value,R=S.value({value:p,max:o,percent:a,min:d}),v=Z(p,o),y={role:"progressbar","aria-label":R,"data-max":o,"aria-valuemin":d,"aria-valuemax":o,"aria-valuenow":p??void 0,"data-orientation":n,"data-state":v},h=ee(e.context);return{value:p,valueAsString:R,min:d,max:o,percent:a,percentAsString:l,indeterminate:f,setValue(x){r({type:"VALUE.SET",value:x})},setToMax(){r({type:"VALUE.SET",value:o})},setToMin(){r({type:"VALUE.SET",value:d})},getRootProps(){return t.element({dir:e.context.dir,...i.root.attrs,id:P.getRootId(e.context),"data-max":o,"data-value":p??void 0,"data-state":v,"data-orientation":n,style:{"--percent":f?void 0:a}})},getLabelProps(){return t.element({dir:e.context.dir,id:P.getLabelId(e.context),...i.label.attrs,"data-orientation":n})},getValueTextProps(){return t.element({dir:e.context.dir,"aria-live":"polite",...i.valueText.attrs})},getTrackProps(){return t.element({dir:e.context.dir,id:P.getTrackId(e.context),...i.track.attrs,...y})},getRangeProps(){return t.element({dir:e.context.dir,...i.range.attrs,"data-orientation":n,"data-state":v,style:{[e.context.isHorizontal?"width":"height"]:f?void 0:`${a}%`}})},getCircleProps(){return t.element({dir:e.context.dir,id:P.getCircleId(e.context),...i.circle.attrs,...y,...h.root})},getCircleTrackProps(){return t.element({dir:e.context.dir,"data-orientation":n,...i.circleTrack.attrs,...h.track})},getCircleRangeProps(){return t.element({dir:e.context.dir,...i.circleRange.attrs,...h.range,"data-state":v})},getViewProps(x){return t.element({dir:e.context.dir,...i.view.attrs,"data-state":x.state,hidden:x.state!==v})}}}function Z(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function ee(e){const r={style:{"--radius":"calc(var(--size) / 2 - var(--thickness) / 2)",cx:"calc(var(--size) / 2)",cy:"calc(var(--size) / 2)",r:"var(--radius)",fill:"transparent",strokeWidth:"var(--thickness)"}};return{root:{style:{width:"var(--size)",height:"var(--size)"}},track:r,range:{opacity:e.value===0?0:void 0,style:{...r.style,"--percent":e.percent,"--circumference":"calc(2 * 3.14159 * var(--radius))","--offset":"calc(var(--circumference) * (100 - var(--percent)) / 100)",strokeDashoffset:"calc(var(--circumference) * ((100 - var(--percent)) / 100))",strokeDasharray:e.isIndeterminate?void 0:"var(--circumference)",transformOrigin:"center",transform:"rotate(-90deg)"}}}}function re(e,r){return e+(r-e)/2}function te(e){const r=B(e);return H({id:"progress",initial:"idle",context:{max:r.max??100,min:r.min??0,value:re(r.min??0,r.max??100),orientation:"horizontal",translations:{value:({percent:t})=>t===-1?"loading...":`${t} percent`,...r.translations},...r},created:["validateContext"],computed:{isIndeterminate:t=>t.value===null,percent(t){return T(t.value)?Math.round((t.value-t.min)/(t.max-t.min)*100):-1},isAtMax:t=>t.value===t.max,isHorizontal:t=>t.orientation==="horizontal",isRtl:t=>t.dir==="rtl"},states:{idle:{on:{"VALUE.SET":{actions:["setValue"]}}}}},{actions:{setValue:(t,a)=>{t.value=a.value===null?null:Math.max(0,Math.min(a.value,t.max))},validateContext:t=>{if(t.value!=null){if(!k(t.max))throw new Error(`[progress] The max value passed \`${t.max}\` is not a valid number`);if(!ae(t.value,t.max))throw new Error(`[progress] The value passed \`${t.value}\` exceeds the max value \`${t.max}\``);if(!se(t.value,t.min))throw new Error(`[progress] The value passed \`${t.value}\` exceeds the min value \`${t.min}\``)}}}})}function k(e){return T(e)&&!isNaN(e)}function ae(e,r){return k(e)&&e<=r}function se(e,r){return k(e)&&e>=r}W()(["dir","getRootNode","id","ids","max","min","orientation","translations","value"]);const oe=e=>{const{getRootNode:r}=G(),{dir:t}=J(),a={id:c.useId(),dir:t,getRootNode:r,...e},l={...a,value:e.value},[o,d]=_(te(a),{context:l});return Y(o,d,q)},I=c.forwardRef((e,r)=>{const[t,a]=F()(e,["id","ids","max","min","orientation","translations","value"]),l=oe(t),o=g(l.getRootProps(),a);return s.jsx(Q,{value:l,children:s.jsx(u.div,{...o,ref:r})})});I.displayName="ProgressRoot";const V=c.forwardRef((e,r)=>{const t=m(),a=g(t.getTrackProps(),e);return s.jsx(u.div,{...a,ref:r})});V.displayName="ProgressTrack";const ne=M({className:"progress",slots:b.keys(),base:{root:{alignItems:"center",display:"flex",flexDirection:"column",gap:"1.5",width:"full"},label:{fontWeight:"medium",textStyle:"sm"},track:{backgroundColor:"neutral.300",borderRadius:"full",overflow:"hidden",width:"full"},range:{backgroundColor:"primary",height:"full",transition:"width 0.2s ease-in-out","--translate-x":"-100%"},circleTrack:{stroke:"neutral.300"},circleRange:{stroke:"primary",transitionProperty:"stroke-dasharray, stroke",transitionDuration:"0.6s"},valueText:{textStyle:"sm"}},variants:{size:{sm:{track:{height:"1.5"},circle:{"--size":"36px","--thickness":"4px"}},md:{track:{height:"2"},circle:{"--size":"40px","--thickness":"4px"}},lg:{track:{height:"2.5"},circle:{"--size":"44px","--thickness":"4px"}}}},defaultVariants:{size:"md"}}),E=c.forwardRef(function(e,r){const{size:t,children:a,className:l,variant:o="linear",...d}=e,n=ne({size:t});return s.jsxs(I,{ref:r,className:L(n.root,l),...d,children:[a&&s.jsx($,{className:n.label,children:a}),o==="linear"&&s.jsx(s.Fragment,{children:s.jsx(V,{className:n.track,children:s.jsx(j,{className:n.range})})}),o==="circular"&&s.jsxs(C,{className:n.circle,children:[s.jsx(w,{className:n.circleTrack}),s.jsx(N,{className:n.circleRange})]})]})});E.displayName="Progress";E.__docgenInfo={description:"",methods:[],displayName:"Progress"};export{E as R};
