import{k as Fe,c as De,m as D,l as j,i as ke,p as Se,q as Re,t as Be,n as Le,r as de,u as Ae,N as je,x as Ke,y as $e}from"./create-split-props-BDI0pziA.js";import{c as Me,d as xe,u as Ge,e as qe}from"./use-locale-context-kz_CgJym.js";import{c as Ue}from"./index-DJ3ti8gJ.js";import{j as I}from"./jsx-runtime-qGIIFXMu.js";import{r as k}from"./index-CDs2tPxN.js";import{u as Ve,s as We,R as Xe}from"./render-strategy-BwQTuKgd.js";import{u as ye,a as oe,t as Ye,s as Ze,P as He}from"./index-UPTylEcv.js";import{a as Je}from"./index-BuBoKRCg.js";import{u as ee}from"./use-event-eGuf5zsd.js";/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Ee=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],Y=Ee.join(","),Te=typeof Element>"u",A=Te?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,Z=!Te&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},H=function t(e,r){var n;r===void 0&&(r=!0);var i=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),l=i===""||i==="true",o=l||r&&e&&t(e.parentNode);return o},Qe=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},we=function(e,r,n){if(H(e))return[];var i=Array.prototype.slice.apply(e.querySelectorAll(Y));return r&&A.call(e,Y)&&i.unshift(e),i=i.filter(n),i},Pe=function t(e,r,n){for(var i=[],l=Array.from(e);l.length;){var o=l.shift();if(!H(o,!1))if(o.tagName==="SLOT"){var d=o.assignedElements(),f=d.length?d:o.children,h=t(f,!0,n);n.flatten?i.push.apply(i,h):i.push({scopeParent:o,candidates:h})}else{var C=A.call(o,Y);C&&n.filter(o)&&(r||!e.includes(o))&&i.push(o);var y=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),w=!H(y,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(o));if(y&&w){var S=t(y===!0?o.children:y.children,!0,n);n.flatten?i.push.apply(i,S):i.push({scopeParent:o,candidates:S})}else l.unshift.apply(l,o.children)}}return i},Oe=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},L=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Qe(e))&&!Oe(e)?0:e.tabIndex},ze=function(e,r){var n=L(e);return n<0&&r&&!Oe(e)?0:n},_e=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},Ce=function(e){return e.tagName==="INPUT"},et=function(e){return Ce(e)&&e.type==="hidden"},tt=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},rt=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},nt=function(e){if(!e.name)return!0;var r=e.form||Z(e),n=function(d){return r.querySelectorAll('input[type="radio"][name="'+d+'"]')},i;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")i=n(window.CSS.escape(e.name));else try{i=n(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var l=rt(i,e.form);return!l||l===e},ot=function(e){return Ce(e)&&e.type==="radio"},it=function(e){return ot(e)&&!nt(e)},at=function(e){var r,n=e&&Z(e),i=(r=n)===null||r===void 0?void 0:r.host,l=!1;if(n&&n!==e){var o,d,f;for(l=!!((o=i)!==null&&o!==void 0&&(d=o.ownerDocument)!==null&&d!==void 0&&d.contains(i)||e!=null&&(f=e.ownerDocument)!==null&&f!==void 0&&f.contains(e));!l&&i;){var h,C,y;n=Z(i),i=(h=n)===null||h===void 0?void 0:h.host,l=!!((C=i)!==null&&C!==void 0&&(y=C.ownerDocument)!==null&&y!==void 0&&y.contains(i))}}return l},fe=function(e){var r=e.getBoundingClientRect(),n=r.width,i=r.height;return n===0&&i===0},st=function(e,r){var n=r.displayCheck,i=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var l=A.call(e,"details>summary:first-of-type"),o=l?e.parentElement:e;if(A.call(o,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof i=="function"){for(var d=e;e;){var f=e.parentElement,h=Z(e);if(f&&!f.shadowRoot&&i(f)===!0)return fe(e);e.assignedSlot?e=e.assignedSlot:!f&&h!==e.ownerDocument?e=h.host:e=f}e=d}if(at(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return fe(e);return!1},lt=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var i=r.children.item(n);if(i.tagName==="LEGEND")return A.call(r,"fieldset[disabled] *")?!0:!i.contains(e)}return!0}r=r.parentElement}return!1},J=function(e,r){return!(r.disabled||H(r)||et(r)||st(r,e)||tt(r)||lt(r))},ne=function(e,r){return!(it(r)||L(r)<0||!J(e,r))},ct=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},ut=function t(e){var r=[],n=[];return e.forEach(function(i,l){var o=!!i.scopeParent,d=o?i.scopeParent:i,f=ze(d,o),h=o?t(i.candidates):d;f===0?o?r.push.apply(r,h):r.push(d):n.push({documentOrder:l,tabIndex:f,item:i,isScope:o,content:h})}),n.sort(_e).reduce(function(i,l){return l.isScope?i.push.apply(i,l.content):i.push(l.content),i},[]).concat(r)},dt=function(e,r){r=r||{};var n;return r.getShadowRoot?n=Pe([e],r.includeContainer,{filter:ne.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:ct}):n=we(e,r.includeContainer,ne.bind(null,r)),ut(n)},ft=function(e,r){r=r||{};var n;return r.getShadowRoot?n=Pe([e],r.includeContainer,{filter:J.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=we(e,r.includeContainer,J.bind(null,r)),n},$=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return A.call(e,Y)===!1?!1:ne(r,e)},gt=Ee.concat("iframe").join(","),te=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return A.call(e,gt)===!1?!1:J(r,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ge(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ve(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ge(Object(r),!0).forEach(function(n){vt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vt(t,e,r){return e=bt(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pt(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bt(t){var e=pt(t,"string");return typeof e=="symbol"?e:String(e)}var pe={activateTrap:function(e,r){if(e.length>0){var n=e[e.length-1];n!==r&&n.pause()}var i=e.indexOf(r);i===-1||e.splice(i,1),e.push(r)},deactivateTrap:function(e,r){var n=e.indexOf(r);n!==-1&&e.splice(n,1),e.length>0&&e[e.length-1].unpause()}},ht=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},mt=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},U=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},yt=function(e){return U(e)&&!e.shiftKey},Et=function(e){return U(e)&&e.shiftKey},be=function(e){return setTimeout(e,0)},he=function(e,r){var n=-1;return e.every(function(i,l){return r(i)?(n=l,!1):!0}),n},q=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return typeof e=="function"?e.apply(void 0,n):e},X=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Tt=[],wt=function(e,r){var n=(r==null?void 0:r.document)||document,i=(r==null?void 0:r.trapStack)||Tt,l=ve({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:yt,isKeyBackward:Et},r),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},d,f=function(s,a,c){return s&&s[a]!==void 0?s[a]:l[c||a]},h=function(s,a){var c=typeof(a==null?void 0:a.composedPath)=="function"?a.composedPath():void 0;return o.containerGroups.findIndex(function(g){var v=g.container,b=g.tabbableNodes;return v.contains(s)||(c==null?void 0:c.includes(v))||b.find(function(m){return m===s})})},C=function(s){var a=l[s];if(typeof a=="function"){for(var c=arguments.length,g=new Array(c>1?c-1:0),v=1;v<c;v++)g[v-1]=arguments[v];a=a.apply(void 0,g)}if(a===!0&&(a=void 0),!a){if(a===void 0||a===!1)return a;throw new Error("`".concat(s,"` was specified but was not a node, or did not return a node"))}var b=a;if(typeof a=="string"&&(b=n.querySelector(a),!b))throw new Error("`".concat(s,"` as selector refers to no known node"));return b},y=function(){var s=C("initialFocus");if(s===!1)return!1;if(s===void 0||!te(s,l.tabbableOptions))if(h(n.activeElement)>=0)s=n.activeElement;else{var a=o.tabbableGroups[0],c=a&&a.firstTabbableNode;s=c||C("fallbackFocus")}if(!s)throw new Error("Your focus-trap needs to have at least one focusable element");return s},w=function(){if(o.containerGroups=o.containers.map(function(s){var a=dt(s,l.tabbableOptions),c=ft(s,l.tabbableOptions),g=a.length>0?a[0]:void 0,v=a.length>0?a[a.length-1]:void 0,b=c.find(function(E){return $(E)}),m=c.slice().reverse().find(function(E){return $(E)}),T=!!a.find(function(E){return L(E)>0});return{container:s,tabbableNodes:a,focusableNodes:c,posTabIndexesFound:T,firstTabbableNode:g,lastTabbableNode:v,firstDomTabbableNode:b,lastDomTabbableNode:m,nextTabbableNode:function(R){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,F=a.indexOf(R);return F<0?x?c.slice(c.indexOf(R)+1).find(function(G){return $(G)}):c.slice(0,c.indexOf(R)).reverse().find(function(G){return $(G)}):a[F+(x?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(s){return s.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!C("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(s){return s.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},S=function p(s){var a=s.activeElement;if(a)return a.shadowRoot&&a.shadowRoot.activeElement!==null?p(a.shadowRoot):a},P=function p(s){if(s!==!1&&s!==S(document)){if(!s||!s.focus){p(y());return}s.focus({preventScroll:!!l.preventScroll}),o.mostRecentlyFocusedNode=s,ht(s)&&s.select()}},V=function(s){var a=C("setReturnFocus",s);return a||(a===!1?!1:s)},W=function(s){var a=s.target,c=s.event,g=s.isBackward,v=g===void 0?!1:g;a=a||X(c),w();var b=null;if(o.tabbableGroups.length>0){var m=h(a,c),T=m>=0?o.containerGroups[m]:void 0;if(m<0)v?b=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:b=o.tabbableGroups[0].firstTabbableNode;else if(v){var E=he(o.tabbableGroups,function(z){var _=z.firstTabbableNode;return a===_});if(E<0&&(T.container===a||te(a,l.tabbableOptions)&&!$(a,l.tabbableOptions)&&!T.nextTabbableNode(a,!1))&&(E=m),E>=0){var R=E===0?o.tabbableGroups.length-1:E-1,x=o.tabbableGroups[R];b=L(a)>=0?x.lastTabbableNode:x.lastDomTabbableNode}else U(c)||(b=T.nextTabbableNode(a,!1))}else{var F=he(o.tabbableGroups,function(z){var _=z.lastTabbableNode;return a===_});if(F<0&&(T.container===a||te(a,l.tabbableOptions)&&!$(a,l.tabbableOptions)&&!T.nextTabbableNode(a))&&(F=m),F>=0){var G=F===o.tabbableGroups.length-1?0:F+1,ue=o.tabbableGroups[G];b=L(a)>=0?ue.firstTabbableNode:ue.firstDomTabbableNode}else U(c)||(b=T.nextTabbableNode(a))}}else b=C("fallbackFocus");return b},N=function(s){var a=X(s);if(!(h(a,s)>=0)){if(q(l.clickOutsideDeactivates,s)){d.deactivate({returnFocus:l.returnFocusOnDeactivate});return}q(l.allowOutsideClick,s)||s.preventDefault()}},ie=function(s){var a=X(s),c=h(a,s)>=0;if(c||a instanceof Document)c&&(o.mostRecentlyFocusedNode=a);else{s.stopImmediatePropagation();var g,v=!0;if(o.mostRecentlyFocusedNode)if(L(o.mostRecentlyFocusedNode)>0){var b=h(o.mostRecentlyFocusedNode),m=o.containerGroups[b].tabbableNodes;if(m.length>0){var T=m.findIndex(function(E){return E===o.mostRecentlyFocusedNode});T>=0&&(l.isKeyForward(o.recentNavEvent)?T+1<m.length&&(g=m[T+1],v=!1):T-1>=0&&(g=m[T-1],v=!1))}}else o.containerGroups.some(function(E){return E.tabbableNodes.some(function(R){return L(R)>0})})||(v=!1);else v=!1;v&&(g=W({target:o.mostRecentlyFocusedNode,isBackward:l.isKeyBackward(o.recentNavEvent)})),P(g||o.mostRecentlyFocusedNode||y())}o.recentNavEvent=void 0},Ie=function(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=s;var c=W({event:s,isBackward:a});c&&(U(s)&&s.preventDefault(),P(c))},ae=function(s){if(mt(s)&&q(l.escapeDeactivates,s)!==!1){s.preventDefault(),d.deactivate();return}(l.isKeyForward(s)||l.isKeyBackward(s))&&Ie(s,l.isKeyBackward(s))},se=function(s){var a=X(s);h(a,s)>=0||q(l.clickOutsideDeactivates,s)||q(l.allowOutsideClick,s)||(s.preventDefault(),s.stopImmediatePropagation())},le=function(){if(o.active)return pe.activateTrap(i,d),o.delayInitialFocusTimer=l.delayInitialFocus?be(function(){P(y())}):P(y()),n.addEventListener("focusin",ie,!0),n.addEventListener("mousedown",N,{capture:!0,passive:!1}),n.addEventListener("touchstart",N,{capture:!0,passive:!1}),n.addEventListener("click",se,{capture:!0,passive:!1}),n.addEventListener("keydown",ae,{capture:!0,passive:!1}),d},ce=function(){if(o.active)return n.removeEventListener("focusin",ie,!0),n.removeEventListener("mousedown",N,!0),n.removeEventListener("touchstart",N,!0),n.removeEventListener("click",se,!0),n.removeEventListener("keydown",ae,!0),d},Ne=function(s){var a=s.some(function(c){var g=Array.from(c.removedNodes);return g.some(function(v){return v===o.mostRecentlyFocusedNode})});a&&P(y())},Q=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(Ne):void 0,M=function(){Q&&(Q.disconnect(),o.active&&!o.paused&&o.containers.map(function(s){Q.observe(s,{subtree:!0,childList:!0})}))};return d={get active(){return o.active},get paused(){return o.paused},activate:function(s){if(o.active)return this;var a=f(s,"onActivate"),c=f(s,"onPostActivate"),g=f(s,"checkCanFocusTrap");g||w(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=n.activeElement,a==null||a();var v=function(){g&&w(),le(),M(),c==null||c()};return g?(g(o.containers.concat()).then(v,v),this):(v(),this)},deactivate:function(s){if(!o.active)return this;var a=ve({onDeactivate:l.onDeactivate,onPostDeactivate:l.onPostDeactivate,checkCanReturnFocus:l.checkCanReturnFocus},s);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,ce(),o.active=!1,o.paused=!1,M(),pe.deactivateTrap(i,d);var c=f(a,"onDeactivate"),g=f(a,"onPostDeactivate"),v=f(a,"checkCanReturnFocus"),b=f(a,"returnFocus","returnFocusOnDeactivate");c==null||c();var m=function(){be(function(){b&&P(V(o.nodeFocusedBeforeActivation)),g==null||g()})};return b&&v?(v(V(o.nodeFocusedBeforeActivation)).then(m,m),this):(m(),this)},pause:function(s){if(o.paused||!o.active)return this;var a=f(s,"onPause"),c=f(s,"onPostPause");return o.paused=!0,a==null||a(),ce(),M(),c==null||c(),this},unpause:function(s){if(!o.paused||!o.active)return this;var a=f(s,"onUnpause"),c=f(s,"onPostUnpause");return o.paused=!1,a==null||a(),w(),le(),M(),c==null||c(),this},updateContainerElements:function(s){var a=[].concat(s).filter(Boolean);return o.containers=a.map(function(c){return typeof c=="string"?n.querySelector(c):c}),o.active&&w(),M(),this}},d.updateContainerElements(e),d},Pt=Fe("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger");Pt.build();var O=Me({getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`dialog:${t.id}:positioner`},getBackdropId:t=>{var e;return((e=t.ids)==null?void 0:e.backdrop)??`dialog:${t.id}:backdrop`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`dialog:${t.id}:content`},getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`dialog:${t.id}:trigger`},getTitleId:t=>{var e;return((e=t.ids)==null?void 0:e.title)??`dialog:${t.id}:title`},getDescriptionId:t=>{var e;return((e=t.ids)==null?void 0:e.description)??`dialog:${t.id}:description`},getCloseTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.closeTrigger)??`dialog:${t.id}:close`},getContentEl:t=>O.getById(t,O.getContentId(t)),getPositionerEl:t=>O.getById(t,O.getPositionerId(t)),getBackdropEl:t=>O.getById(t,O.getBackdropId(t)),getTriggerEl:t=>O.getById(t,O.getTriggerId(t)),getTitleEl:t=>O.getById(t,O.getTitleId(t)),getDescriptionEl:t=>O.getById(t,O.getDescriptionId(t)),getCloseTriggerEl:t=>O.getById(t,O.getCloseTriggerId(t))});Ue()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]);const[Ot,K]=De({name:"DialogContext",hookName:"useDialogContext",providerName:"<DialogProvider />"}),Ct=k.forwardRef((t,e)=>{const r=K(),n=Ve(),i=ye({...n,present:r.open}),l=D(r.getBackdropProps(),i.getPresenceProps(e),t);return i.unmounted?null:I.jsx(j.div,{...l})});Ct.displayName="DialogBackdrop";const It=k.forwardRef((t,e)=>{const r=K(),n=D(r.getCloseTriggerProps(),t);return I.jsx(j.button,{...n,ref:e})});It.displayName="DialogCloseTrigger";const Nt=k.forwardRef((t,e)=>{const r=K(),n=oe(),i=D(r.getContentProps(),n.getPresenceProps(e),t);return n.unmounted?null:I.jsx(j.div,{...i})});Nt.displayName="DialogContent";const Ft=k.forwardRef((t,e)=>{const r=K(),n=D(r.getDescriptionProps(),t);return I.jsx(j.div,{...n,ref:e})});Ft.displayName="DialogDescription";const Dt=k.forwardRef((t,e)=>{const r=K(),n=D(r.getPositionerProps(),t);return oe().unmounted?null:I.jsx(j.div,{...n,ref:e})});Dt.displayName="DialogPositioner";var re="data-zag-scroll-lock";function me(t,e){if(!t)return;const r=t.style.cssText;return Object.assign(t.style,e),()=>{t.style.cssText=r}}function kt(t,e,r){if(!t)return;const n=t.style.getPropertyValue(e);return t.style.setProperty(e,r),()=>{n?t.style.setProperty(e,n):t.style.removeProperty(e)}}function St(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Rt(t){const e=t??document,r=e.defaultView??window,{documentElement:n,body:i}=e;if(i.hasAttribute(re))return;i.setAttribute(re,"");const o=r.innerWidth-n.clientWidth,d=()=>kt(n,"--scrollbar-width",`${o}px`),f=St(n),h=()=>me(i,{overflow:"hidden",[f]:`${o}px`}),C=()=>{const{scrollX:w,scrollY:S,visualViewport:P}=r,V=(P==null?void 0:P.offsetLeft)??0,W=(P==null?void 0:P.offsetTop)??0,N=me(i,{position:"fixed",overflow:"hidden",top:`${-(S-Math.floor(W))}px`,left:`${-(w-Math.floor(V))}px`,right:"0",[f]:`${o}px`});return()=>{N==null||N(),r.scrollTo({left:w,top:S,behavior:"instant"})}},y=[d(),ke()?C():h()];return()=>{y.forEach(w=>w==null?void 0:w()),i.removeAttribute(re)}}var Bt=Se("dialog").parts("trigger","backdrop","positioner","content","title","description","closeTrigger"),B=Bt.build(),u=Re({getPositionerId:t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`dialog:${t.id}:positioner`},getBackdropId:t=>{var e;return((e=t.ids)==null?void 0:e.backdrop)??`dialog:${t.id}:backdrop`},getContentId:t=>{var e;return((e=t.ids)==null?void 0:e.content)??`dialog:${t.id}:content`},getTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`dialog:${t.id}:trigger`},getTitleId:t=>{var e;return((e=t.ids)==null?void 0:e.title)??`dialog:${t.id}:title`},getDescriptionId:t=>{var e;return((e=t.ids)==null?void 0:e.description)??`dialog:${t.id}:description`},getCloseTriggerId:t=>{var e;return((e=t.ids)==null?void 0:e.closeTrigger)??`dialog:${t.id}:close`},getContentEl:t=>u.getById(t,u.getContentId(t)),getPositionerEl:t=>u.getById(t,u.getPositionerId(t)),getBackdropEl:t=>u.getById(t,u.getBackdropId(t)),getTriggerEl:t=>u.getById(t,u.getTriggerId(t)),getTitleEl:t=>u.getById(t,u.getTitleId(t)),getDescriptionEl:t=>u.getById(t,u.getDescriptionId(t)),getCloseTriggerEl:t=>u.getById(t,u.getCloseTriggerId(t))});function Lt(t,e,r){const n=t.context["aria-label"],i=t.matches("open"),l=t.context.renderedElements;return{open:i,setOpen(o){o!==i&&e(o?"OPEN":"CLOSE")},getTriggerProps(){return r.button({...B.trigger.attrs,dir:t.context.dir,id:u.getTriggerId(t.context),"aria-haspopup":"dialog",type:"button","aria-expanded":i,"data-state":i?"open":"closed","aria-controls":u.getContentId(t.context),onClick(o){o.defaultPrevented||e("TOGGLE")}})},getBackdropProps(){return r.element({...B.backdrop.attrs,dir:t.context.dir,hidden:!i,id:u.getBackdropId(t.context),"data-state":i?"open":"closed"})},getPositionerProps(){return r.element({...B.positioner.attrs,dir:t.context.dir,id:u.getPositionerId(t.context),style:{pointerEvents:i?void 0:"none"}})},getContentProps(){return r.element({...B.content.attrs,dir:t.context.dir,role:t.context.role,hidden:!i,id:u.getContentId(t.context),tabIndex:-1,"data-state":i?"open":"closed","aria-modal":!0,"aria-label":n||void 0,"aria-labelledby":n||!l.title?void 0:u.getTitleId(t.context),"aria-describedby":l.description?u.getDescriptionId(t.context):void 0})},getTitleProps(){return r.element({...B.title.attrs,dir:t.context.dir,id:u.getTitleId(t.context)})},getDescriptionProps(){return r.element({...B.description.attrs,dir:t.context.dir,id:u.getDescriptionId(t.context)})},getCloseTriggerProps(){return r.button({...B.closeTrigger.attrs,dir:t.context.dir,id:u.getCloseTriggerId(t.context),type:"button",onClick(o){o.defaultPrevented||(o.stopPropagation(),e("CLOSE"))}})}}}function At(t){const e=xe(t);return Be({id:"dialog",initial:e.open?"open":"closed",context:{role:"dialog",renderedElements:{title:!0,description:!0},modal:!0,trapFocus:!0,preventScroll:!0,closeOnInteractOutside:!0,closeOnEscape:!0,restoreFocus:!0,...e},created:["checkInitialFocusEl"],watch:{open:["toggleVisibility"]},states:{open:{entry:["checkRenderedElements","syncZIndex"],activities:["trackDismissableElement","trapFocus","preventScroll","hideContentBelow"],on:{"CONTROLLED.CLOSE":{target:"closed",actions:["setFinalFocus"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","setFinalFocus"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","setFinalFocus"]}]}},closed:{on:{"CONTROLLED.OPEN":{target:"open"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}}}},{guards:{isOpenControlled:r=>!!r["open.controlled"]},activities:{trackDismissableElement(r,n,{send:i}){return Ye(()=>u.getContentEl(r),{defer:!0,pointerBlocking:r.modal,exclude:[u.getTriggerEl(r)],onInteractOutside(o){var d;(d=r.onInteractOutside)==null||d.call(r,o),(!r.closeOnInteractOutside||r.role==="alertdialog")&&o.preventDefault()},persistentElements:r.persistentElements,onFocusOutside:r.onFocusOutside,onPointerDownOutside:r.onPointerDownOutside,onEscapeKeyDown(o){var d;(d=r.onEscapeKeyDown)==null||d.call(r,o),r.closeOnEscape?i({type:"CLOSE",src:"escape-key"}):o.preventDefault()},onDismiss(){i({type:"CLOSE",src:"interact-outside"})}})},preventScroll(r){if(r.preventScroll)return Rt(u.getDoc(r))},trapFocus(r){if(!r.trapFocus||!r.modal)return;let n;const i=Le(()=>{const l=u.getContentEl(r);if(l){n=wt(l,{document:u.getDoc(r),escapeDeactivates:!1,preventScroll:!0,returnFocusOnDeactivate:!1,fallbackFocus:l,allowOutsideClick:!0,initialFocus:je({root:l,getInitialEl:r.initialFocusEl})});try{n.activate()}catch{}}});return()=>{n==null||n.deactivate(),i()}},hideContentBelow(r){return r.modal?Je(()=>[u.getContentEl(r)],{defer:!0}):void 0}},actions:{checkInitialFocusEl(r){!r.initialFocusEl&&r.role==="alertdialog"&&(r.initialFocusEl=()=>u.getCloseTriggerEl(r))},checkRenderedElements(r){de(()=>{r.renderedElements.title=!!u.getTitleEl(r),r.renderedElements.description=!!u.getDescriptionEl(r)})},syncZIndex(r){de(()=>{const n=u.getContentEl(r);if(!n)return;const l=u.getWin(r).getComputedStyle(n);[u.getPositionerEl(r),u.getBackdropEl(r)].forEach(d=>{d==null||d.style.setProperty("--z-index",l.zIndex)})})},invokeOnClose(r){var n;(n=r.onOpenChange)==null||n.call(r,{open:!1})},invokeOnOpen(r){var n;(n=r.onOpenChange)==null||n.call(r,{open:!0})},toggleVisibility(r,n,{send:i}){i({type:r.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})},setFinalFocus(r){r.restoreFocus&&queueMicrotask(()=>{var i;const n=((i=r.finalFocusEl)==null?void 0:i.call(r))??u.getTriggerEl(r);n==null||n.focus({preventScroll:!0})})}}})}Ae()(["aria-label","closeOnEscape","closeOnInteractOutside","dir","finalFocusEl","getRootNode","getRootNode","id","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","open.controlled","open","persistentElements","preventScroll","restoreFocus","role","trapFocus"]);const jt=(t={})=>{const{getRootNode:e}=Ge(),{dir:r}=qe(),n={id:k.useId(),getRootNode:e,dir:r,open:t.defaultOpen,"open.controlled":t.open!==void 0,...t},i={...n,open:t.open,onOpenChange:ee(t.onOpenChange,{sync:!0}),onEscapeKeyDown:ee(t.onEscapeKeyDown),onInteractOutside:ee(t.onInteractOutside)},[l,o]=Ke(At(n),{context:i});return Lt(l,o,$e)},Zt=t=>{const[e,{children:r,...n}]=Ze(t),[i]=We(e),l=jt(n),o=ye(D({present:l.open},e));return I.jsx(Ot,{value:l,children:I.jsx(Xe,{value:i,children:I.jsx(He,{value:o,children:r})})})},Kt=k.forwardRef((t,e)=>{const r=K(),n=D(r.getTitleProps(),t);return I.jsx(j.h2,{...n,ref:e})});Kt.displayName="DialogTitle";const $t=k.forwardRef((t,e)=>{const r=K(),n=oe(),i=D({...r.getTriggerProps(),"aria-controls":n.unmounted?void 0:r.getTriggerProps()["aria-controls"]},t);return I.jsx(j.button,{...i,ref:e})});$t.displayName="DialogTrigger";export{$t as D,Pt as a,Ct as b,Dt as c,Nt as d,Kt as e,Ft as f,It as g,Zt as h};
