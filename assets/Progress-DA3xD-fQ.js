import{j as s}from"./jsx-runtime-qGIIFXMu.js";import{r as u}from"./index-CDs2tPxN.js";import{c as z}from"./cva-C095pwBQ.js";import{s as L}from"./sva-CxSEfBjn.js";import{f as S,h as M,A,m as d,j as g,l as D,o as U,q as H,s as W,R as b,t as _,u as q,x as B,y as F,z as O,k as G}from"./use-locale-context-DWoAJph3.js";import{c as J}from"./index-DJ3ti8gJ.js";var T=S("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange");T.build();M({getRootId:e=>{var r;return((r=e.ids)==null?void 0:r.root)??`progress-${e.id}`},getTrackId:e=>{var r;return((r=e.ids)==null?void 0:r.track)??`progress-${e.id}-track`},getLabelId:e=>{var r;return((r=e.ids)==null?void 0:r.label)??`progress-${e.id}-label`},getCircleId:e=>{var r;return((r=e.ids)==null?void 0:r.circle)??`progress-${e.id}-circle`}});J()(["dir","getRootNode","id","ids","max","min","orientation","translations","value"]);const[K,m]=A({name:"ProgressContext",hookName:"useProgressContext",providerName:"<ProgressProvider />"}),C=e=>{const r=m(),t=d(r.getCircleProps(),e);return s.jsx(g.svg,{...t})};C.displayName="ProgressCircle";const N=e=>{const r=m(),t=d(r.getCircleRangeProps(),e);return s.jsx(g.circle,{...t})};N.displayName="ProgressCircleRange";const w=e=>{const r=m(),t=d(r.getCircleTrackProps(),e);return s.jsx(g.circle,{...t})};w.displayName="ProgressCircleTrack";const j=u.forwardRef((e,r)=>{const t=m(),a=d(t.getLabelProps(),e);return s.jsx(g.label,{...a,ref:r})});j.displayName="ProgressLabel";const $=u.forwardRef((e,r)=>{const t=m(),a=d(t.getRangeProps(),e);return s.jsx(g.div,{...a,ref:r})});$.displayName="ProgressRange";var Q=D("progress").parts("root","label","track","range","valueText","view","circle","circleTrack","circleRange"),l=Q.build(),P=U({getRootId:e=>{var r;return((r=e.ids)==null?void 0:r.root)??`progress-${e.id}`},getTrackId:e=>{var r;return((r=e.ids)==null?void 0:r.track)??`progress-${e.id}-track`},getLabelId:e=>{var r;return((r=e.ids)==null?void 0:r.label)??`progress-${e.id}-label`},getCircleId:e=>{var r;return((r=e.ids)==null?void 0:r.circle)??`progress-${e.id}-circle`}});function X(e,r,t){const a=e.context.percent,o=e.context.max,i=e.context.min,n=e.context.orientation,c=e.context.translations,k=e.context.isIndeterminate,p=e.context.value,R=c.value({value:p,max:o,percent:a,min:i}),v=Y(p,o),y={role:"progressbar","aria-label":R,"data-max":o,"aria-valuemin":i,"aria-valuemax":o,"aria-valuenow":p??void 0,"data-orientation":n,"data-state":v},h=Z(e.context);return{value:p,valueAsString:R,setValue(x){r({type:"VALUE.SET",value:x})},setToMax(){r({type:"VALUE.SET",value:o})},getRootProps(){return t.element({dir:e.context.dir,...l.root.attrs,id:P.getRootId(e.context),"data-max":o,"data-value":p??void 0,"data-state":v,"data-orientation":n,style:{"--percent":k?void 0:a}})},getLabelProps(){return t.element({dir:e.context.dir,id:P.getLabelId(e.context),...l.label.attrs,"data-orientation":n})},getValueTextProps(){return t.element({dir:e.context.dir,"aria-live":"polite",...l.valueText.attrs})},getTrackProps(){return t.element({dir:e.context.dir,id:P.getTrackId(e.context),...l.track.attrs,...y})},getRangeProps(){return t.element({dir:e.context.dir,...l.range.attrs,"data-orientation":n,"data-state":v,style:{[e.context.isHorizontal?"width":"height"]:k?void 0:`${a}%`}})},getCircleProps(){return t.element({dir:e.context.dir,id:P.getCircleId(e.context),...l.circle.attrs,...y,...h.root})},getCircleTrackProps(){return t.element({dir:e.context.dir,"data-orientation":n,...l.circleTrack.attrs,...h.track})},getCircleRangeProps(){return t.element({dir:e.context.dir,...l.circleRange.attrs,...h.range,"data-state":v})},getViewProps(x){return t.element({dir:e.context.dir,...l.view.attrs,"data-state":x.state,hidden:x.state!==v})}}}function Y(e,r){return e==null?"indeterminate":e===r?"complete":"loading"}function Z(e){const r={style:{"--radius":"calc(var(--size) / 2 - var(--thickness) / 2)",cx:"calc(var(--size) / 2)",cy:"calc(var(--size) / 2)",r:"var(--radius)",fill:"transparent",strokeWidth:"var(--thickness)"}};return{root:{viewBox:"0 0 var(--size) var(--size)",style:{width:"var(--size)",height:"var(--size)"}},track:r,range:{opacity:e.value===0?0:void 0,style:{...r.style,"--percent":e.percent,"--circumference":"calc(2 * 3.14159 * var(--radius))","--offset":"calc(var(--circumference) * (100 - var(--percent)) / 100}))",strokeDashoffset:"calc(var(--circumference) * ((100 - var(--percent)) / 100))",strokeDasharray:e.isIndeterminate?void 0:"var(--circumference)",transformOrigin:"center",transform:"rotate(-90deg)"}}}}function ee(e,r){return e+(r-e)/2}function re(e){const r=H(e);return W({id:"progress",initial:"idle",context:{max:r.max??100,min:r.min??0,value:ee(r.min??0,r.max??100),orientation:"horizontal",translations:{value:({percent:t})=>t===-1?"loading...":`${t} percent`,...r.translations},...r},created:["validateContext"],computed:{isIndeterminate:t=>t.value===null,percent(t){return b(t.value)?Math.round((t.value-t.min)/(t.max-t.min)*100):-1},isAtMax:t=>t.value===t.max,isHorizontal:t=>t.orientation==="horizontal",isRtl:t=>t.dir==="rtl"},states:{idle:{on:{"VALUE.SET":{actions:["setValue"]}}}}},{actions:{setValue:(t,a)=>{t.value=a.value===null?null:Math.max(0,Math.min(a.value,t.max))},validateContext:t=>{if(t.value!=null){if(!f(t.max))throw new Error(`[progress] The max value passed \`${t.max}\` is not a valid number`);if(!te(t.value,t.max))throw new Error(`[progress] The value passed \`${t.value}\` exceeds the max value \`${t.max}\``);if(!ae(t.value,t.min))throw new Error(`[progress] The value passed \`${t.value}\` exceeds the min value \`${t.min}\``)}}}})}function f(e){return b(e)&&!isNaN(e)}function te(e,r){return f(e)&&e<=r}function ae(e,r){return f(e)&&e>=r}_()(["dir","getRootNode","id","ids","max","min","orientation","translations","value"]);const se=e=>{const{getRootNode:r}=q(),{dir:t}=B(),a={id:u.useId(),dir:t,getRootNode:r,...e},o={...a,value:e.value},[i,n]=F(re(a),{context:o});return X(i,n,O)},I=u.forwardRef((e,r)=>{const[t,a]=G()(e,["id","ids","max","min","orientation","translations","value"]),o=se(t),i=d(o.getRootProps(),a);return s.jsx(K,{value:o,children:s.jsx(g.div,{...i,ref:r})})});I.displayName="ProgressRoot";const V=u.forwardRef((e,r)=>{const t=m(),a=d(t.getTrackProps(),e);return s.jsx(g.div,{...a,ref:r})});V.displayName="ProgressTrack";const oe=L({className:"progress",slots:T.keys(),base:{root:{alignItems:"center",display:"flex",flexDirection:"column",gap:"1.5",width:"full"},label:{fontWeight:"medium",textStyle:"sm"},track:{backgroundColor:"neutral.300",borderRadius:"full",overflow:"hidden",width:"full"},range:{backgroundColor:"primary",height:"full",transition:"width 0.2s ease-in-out","--translate-x":"-100%"},circleTrack:{stroke:"neutral.300"},circleRange:{stroke:"primary",transitionProperty:"stroke-dasharray, stroke",transitionDuration:"0.6s"},valueText:{textStyle:"sm"}},variants:{size:{sm:{track:{height:"1.5"},circle:{"--size":"36px","--thickness":"4px"}},md:{track:{height:"2"},circle:{"--size":"40px","--thickness":"4px"}},lg:{track:{height:"2.5"},circle:{"--size":"44px","--thickness":"4px"}}}},defaultVariants:{size:"md"}}),E=u.forwardRef(function(e,r){const{size:t,children:a,className:o,variant:i="linear",...n}=e,c=oe({size:t});return s.jsxs(I,{ref:r,className:z(c.root,o),...n,children:[a&&s.jsx(j,{className:c.label,children:a}),i==="linear"&&s.jsx(s.Fragment,{children:s.jsx(V,{className:c.track,children:s.jsx($,{className:c.range})})}),i==="circular"&&s.jsxs(C,{className:c.circle,children:[s.jsx(w,{className:c.circleTrack}),s.jsx(N,{className:c.circleRange})]})]})});E.displayName="Progress";E.__docgenInfo={description:"",methods:[],displayName:"Progress"};export{E as R};
