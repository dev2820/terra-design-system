import{j as s}from"./jsx-runtime-qGIIFXMu.js";import{t as X,I as D,c as Z}from"./tv-CIwtzMts.js";import{r as g}from"./index-CDs2tPxN.js";import{c as q}from"./create-react-context-Dw26gLIP.js";import{c as B,p as T,s as N,a as H,b as J,d as S,e as K,f as y,z as Q,D as W}from"./factory-Bfpif5Qa.js";import{c as R}from"./create-split-props-u5h9OPvL.js";import{c as Y,a as z}from"./index-DE2wJq7j.js";import{a as ee,u as te}from"./use-locale-context-hL6yk3cA.js";import{u as ae}from"./use-event-eGuf5zsd.js";const[ne,x]=B({name:"PaginationContext",hookName:"usePaginationContext",providerName:"<PaginationProvider />"}),oe=e=>e.children(x()),A=g.forwardRef((e,a)=>{const[t,n]=R()(e,["index"]),o=x(),i=T(o.getEllipsisProps(t),n);return s.jsx(N.div,{...i,ref:a})});A.displayName="PaginationEllipsis";const L=g.forwardRef((e,a)=>{const[t,n]=R()(e,["value","type"]),o=x(),i=T(o.getItemProps(t),n);return s.jsx(N.button,{...i,ref:a})});L.displayName="PaginationItem";const G=g.forwardRef((e,a)=>{const t=x(),n=T(t.getNextTriggerProps(),e);return s.jsx(N.button,{...n,ref:a})});G.displayName="PaginationNextTrigger";const j=g.forwardRef((e,a)=>{const t=x(),n=T(t.getPrevTriggerProps(),e);return s.jsx(N.button,{...n,ref:a})});j.displayName="PaginationPrevTrigger";var ie=H("pagination").parts("root","item","ellipsis","prevTrigger","nextTrigger"),m=ie.build(),f=J({getRootId:e=>{var a;return((a=e.ids)==null?void 0:a.root)??`pagination:${e.id}`},getPrevTriggerId:e=>{var a;return((a=e.ids)==null?void 0:a.prevTrigger)??`pagination:${e.id}:prev`},getNextTriggerId:e=>{var a;return((a=e.ids)==null?void 0:a.nextTrigger)??`pagination:${e.id}:next`},getEllipsisId:(e,a)=>{var t,n;return((n=(t=e.ids)==null?void 0:t.ellipsis)==null?void 0:n.call(t,a))??`pagination:${e.id}:ellipsis:${a}`},getItemId:(e,a)=>{var t,n;return((n=(t=e.ids)==null?void 0:t.item)==null?void 0:n.call(t,a))??`pagination:${e.id}:item:${a}`}}),v=(e,a)=>{let t=a-e+1;return Array.from({length:t},(n,o)=>o+e)},se=e=>e.map(a=>typeof a=="number"?{type:"page",value:a}:{type:"ellipsis"}),E="ellipsis",re=e=>{const a=Math.min(2*e.siblingCount+5,e.totalPages),t=1,n=e.totalPages,o=Math.max(e.page-e.siblingCount,t),i=Math.min(e.page+e.siblingCount,n),p=o>t+1,c=i<n-1,d=a-2;if(!p&&c)return[...v(1,d),E,n];if(p&&!c){const l=v(n-d+1,n);return[t,E,...l]}if(p&&c){const l=v(o,i);return[t,E,...l,E,n]}return v(t,n)},ge=e=>se(re(e));function pe(e,a,t){const n=e.context.totalPages,o=e.context.page,i=e.context.translations,p=e.context.previousPage,c=e.context.nextPage,d=e.context.pageRange,l=e.context.type==="button",C=o===1,b=o===n,U=ge(e.context);return{page:o,pageSize:e.context.pageSize,totalPages:n,pages:U,previousPage:p,nextPage:c,pageRange:d,slice(r){return r.slice(d.start,d.end)},setCount(r){a({type:"SET_COUNT",count:r})},setPageSize(r){a({type:"SET_PAGE_SIZE",size:r})},setPage(r){a({type:"SET_PAGE",page:r})},goToNextPage(){a({type:"NEXT_PAGE"})},goToPrevPage(){a({type:"PREVIOUS_PAGE"})},goToFirstPage(){a({type:"FIRST_PAGE"})},goToLastPage(){a({type:"LAST_PAGE"})},getRootProps(){return t.element({id:f.getRootId(e.context),...m.root.attrs,dir:e.context.dir,"aria-label":i.rootLabel})},getEllipsisProps(r){return t.element({id:f.getEllipsisId(e.context,r.index),...m.ellipsis.attrs,dir:e.context.dir})},getItemProps(r){var _;const u=r.value,h=u===e.context.page;return t.element({id:f.getItemId(e.context,u),...m.item.attrs,dir:e.context.dir,"data-index":u,"data-selected":S(h),"aria-current":h?"page":void 0,"aria-label":(_=i.itemLabel)==null?void 0:_.call(i,{page:u,totalPages:n}),onClick(){a({type:"SET_PAGE",page:u})},...l&&{type:"button"}})},getPrevTriggerProps(){return t.element({id:f.getPrevTriggerId(e.context),...m.prevTrigger.attrs,dir:e.context.dir,"data-disabled":S(C),"aria-label":i.prevTriggerLabel,onClick(){a({type:"PREVIOUS_PAGE"})},...l&&{disabled:C,type:"button"}})},getNextTriggerProps(){return t.element({id:f.getNextTriggerId(e.context),...m.nextTrigger.attrs,dir:e.context.dir,"data-disabled":S(b),"aria-label":i.nextTriggerLabel,onClick(){a({type:"NEXT_PAGE"})},...l&&{disabled:b,type:"button"}})}}}var le={rootLabel:"pagination",prevTriggerLabel:"previous page",nextTriggerLabel:"next page",itemLabel({page:e,totalPages:a}){return`${a>1&&e===a?"last page, ":""}page ${e}`}};function Pe(e){const a=Y(e);return K({id:"pagination",initial:"idle",context:{pageSize:10,siblingCount:1,page:1,type:"button",translations:{...le,...a.translations},...a},watch:{pageSize:["setPageIfNeeded"]},computed:{totalPages:t=>Math.ceil(t.count/t.pageSize),previousPage:t=>t.page===1?null:t.page-1,nextPage:t=>t.page===t.totalPages?null:t.page+1,pageRange:t=>{const n=(t.page-1)*t.pageSize,o=n+t.pageSize;return{start:n,end:o}},isValidPage:t=>t.page>=1&&t.page<=t.totalPages},on:{SET_COUNT:[{guard:"isValidCount",actions:["setCount","goToFirstPage"]},{actions:"setCount"}],SET_PAGE:{guard:"isValidPage",actions:"setPage"},SET_PAGE_SIZE:{actions:"setPageSize"},FIRST_PAGE:{actions:"goToFirstPage"},LAST_PAGE:{actions:"goToLastPage"},PREVIOUS_PAGE:{guard:"canGoToPrevPage",actions:"goToPrevPage"},NEXT_PAGE:{guard:"canGoToNextPage",actions:"goToNextPage"}},states:{idle:{}}},{guards:{isValidPage:(t,n)=>n.page>=1&&n.page<=t.totalPages,isValidCount:(t,n)=>t.page>n.count,canGoToNextPage:t=>t.page<t.totalPages,canGoToPrevPage:t=>t.page>1},actions:{setCount(t,n){t.count=n.count},setPage(t,n){P.page(t,n.page)},setPageSize(t,n){P.pageSize(t,n.size)},goToFirstPage(t){P.page(t,1)},goToLastPage(t){P.page(t,t.totalPages)},goToPrevPage(t){P.page(t,t.page-1)},goToNextPage(t){P.page(t,t.page+1)},setPageIfNeeded(t,n){t.isValidPage||P.page(t,1)}}})}var de=(e,a)=>Math.min(Math.max(e,1),a),P={pageSize:(e,a)=>{var t;z(e.pageSize,a)||(e.pageSize=a,(t=e.onPageSizeChange)==null||t.call(e,{pageSize:e.pageSize}))},page:(e,a)=>{var t;z(e.page,a)||(e.page=de(a,e.totalPages),(t=e.onPageChange)==null||t.call(e,{page:e.page,pageSize:e.pageSize}))}};y()(["count","dir","getRootNode","id","ids","onPageChange","onPageSizeChange","page","pageSize","siblingCount","translations","type"]);y()(["value","type"]);y()(["index"]);const ce=e=>{const{getRootNode:a}=ee(),{dir:t}=te(),n={id:g.useId(),dir:t,getRootNode:a,page:e.defaultPage,...e},o={...n,page:e.page,onPageChange:ae(e.onPageChange,{sync:!0})},[i,p]=Q(Pe(n),{context:o});return pe(i,p,W)},w=g.forwardRef((e,a)=>{const[t,n]=R()(e,["count","defaultPage","id","ids","onPageChange","onPageSizeChange","page","pageSize","siblingCount","translations","type"]),o=ce(t),i=T(o.getRootProps(),n);return s.jsx(ne,{value:o,children:s.jsx(N.nav,{...i,ref:a})})});w.displayName="PaginationRoot";const ue=X({base:`${D.scope} pagination`,slots:{root:"trds-flex trds-gap-1",item:"trds-font-tabular-nums",prevTrigger:"",nextTrigger:"",ellipsis:"trds-inline-flex trds-items-center trds-text-neutral-900 trds-font-semibold trds-px-2"}}),[me,I]=q({name:"pagination",hookName:"usePaginationContext",providerName:"PaginationProvider",defaultValue:{classes:{}}}),$=g.forwardRef(function(e,a){const{children:t,className:n,...o}=e,i=ue(),p={classes:i};return s.jsx(me,{value:p,children:s.jsx(w,{ref:a,className:Z(i.root(),n),...o,children:t})})});$.displayName="Pagination.Root";const V=g.forwardRef(function(e,a){const{className:t,...n}=e,{classes:o}=I();return s.jsx(j,{className:o.prevTrigger(),ref:a,...n})});V.displayName="Pagination.PrevTrigger";const F=g.forwardRef(function(e,a){const{className:t,...n}=e,{classes:o}=I();return s.jsx(G,{className:o.nextTrigger(),ref:a,...n})});F.displayName="Pagination.NextTrigger";const Re=oe,M=g.forwardRef(function(e,a){const{className:t,...n}=e,{classes:o}=I();return s.jsx(L,{className:o.item(),ref:a,...n})});M.displayName="Pagination.Item";const k=g.forwardRef(function(e,a){const{className:t,...n}=e,{classes:o}=I();return s.jsx(A,{className:o.ellipsis(),ref:a,...n})});k.displayName="Pagination.Ellipsis";$.__docgenInfo={description:"",methods:[],displayName:"Pagination.Root"};V.__docgenInfo={description:"",methods:[],displayName:"Pagination.PrevTrigger"};F.__docgenInfo={description:"",methods:[],displayName:"Pagination.NextTrigger"};M.__docgenInfo={description:"",methods:[],displayName:"Pagination.Item"};k.__docgenInfo={description:"",methods:[],displayName:"Pagination.Ellipsis"};export{Re as C,k as E,M as I,F as N,V as P,$ as R};
