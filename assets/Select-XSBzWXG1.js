import{j as d}from"./jsx-runtime-qGIIFXMu.js";import{t as pe,I as Ie,c as N}from"./tv-CIwtzMts.js";import{r as m}from"./index-CDs2tPxN.js";import{c as fe}from"./create-react-context-Dw26gLIP.js";import{C as ve}from"./chevron-down-Du6SRUSG.js";import{P as Ee}from"./portal-DrO_qajF.js";import{C as Te}from"./check-DUDaO23Y.js";import{c as D,m as v,h as E,a as Ce,z as J,b as Oe,d as g,_ as W,U as ye,v as be,N as Se,a0 as Pe,$ as Re,e as Ne,r as w,H as Ve,f as H,g as Ge,Y as xe,a1 as we,A as Le,E as Ae}from"./factory-CWkxw2Z4.js";import{c as F}from"./create-split-props-u5h9OPvL.js";import{g as ke,a as q,s as De}from"./index-CTARPo-3.js";import{a as Q,u as He,P as Fe}from"./use-presence-8bHCsiKP.js";import{a as L,o as j,q as M,c as _e,s as je}from"./index-DE2wJq7j.js";import{d as Me,g as Y}from"./index-1fMUQAsE.js";import{a as Ue}from"./index-DANWLHS3.js";import{t as We}from"./index-DBzJ7FiP.js";import{u as Be,a as Ke}from"./use-locale-context-D5jQfAP4.js";import{u as U}from"./use-event-eGuf5zsd.js";import{u as X}from"./use-field-context-OrFpox1S.js";var $e=Object.defineProperty,qe=(e,i,t)=>i in e?$e(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,Ye=(e,i,t)=>qe(e,i+"",t),A={itemToValue(e){return typeof e=="string"?e:j(e)&&M(e,"value")?e.value:""},itemToString(e){return typeof e=="string"?e:j(e)&&M(e,"label")?e.label:A.itemToValue(e)},isItemDisabled(e){return j(e)&&M(e,"disabled")?!!e.disabled:!1}},Z=class{constructor(e){this.options=e,Ye(this,"items"),this.items=[...e.items]}isEqual(e){return L(this.items,e.items)}setItems(e){this.items=Array.from(e)}getValues(e=this.items){return Array.from(e).map(i=>this.getItemValue(i)).filter(Boolean)}find(e){if(e==null)return null;const i=this.items.findIndex(t=>this.getItemValue(t)===e);return i!=null?this.items[i]:null}findMany(e){return Array.from(e).map(i=>this.find(i)).filter(Boolean)}at(e){return this.items[e]??null}sortFn(e,i){const t=this.indexOf(e),r=this.indexOf(i);return(t??0)-(r??0)}sort(e){return[...e].sort(this.sortFn.bind(this))}getItemValue(e){var i,t;return e==null?null:((t=(i=this.options).itemToValue)==null?void 0:t.call(i,e))??A.itemToValue(e)}getItemDisabled(e){var i,t;return e==null?!1:((t=(i=this.options).isItemDisabled)==null?void 0:t.call(i,e))??A.isItemDisabled(e)}stringifyItem(e){var i,t;return e==null?null:((t=(i=this.options).itemToString)==null?void 0:t.call(i,e))??A.itemToString(e)}stringify(e){return e==null?null:this.stringifyItem(this.find(e))}stringifyItems(e,i=", "){return Array.from(e).map(t=>this.stringifyItem(t)).filter(Boolean).join(i)}stringifyMany(e,i){return this.stringifyItems(this.findMany(e),i)}has(e){return this.indexOf(e)!==-1}hasItem(e){return e==null?!1:this.has(this.getItemValue(e))}get size(){return this.items.length}get firstValue(){let e=0;for(;this.getItemDisabled(this.at(e));)e++;return this.getItemValue(this.at(e))}get lastValue(){let e=this.size-1;for(;this.getItemDisabled(this.at(e));)e--;return this.getItemValue(this.at(e))}getNextValue(e){let i=this.indexOf(e);if(i===-1)return null;for(i++;i<=this.size&&this.getItemDisabled(this.at(i));)i++;return this.getItemValue(this.at(i))}getPreviousValue(e){let i=this.indexOf(e);if(i===-1)return null;for(i--;i>=0&&this.getItemDisabled(this.at(i));)i--;return this.getItemValue(this.at(i))}indexOf(e){return e==null?-1:this.items.findIndex(i=>this.getItemValue(i)===e)}getByText(e,i){let t=i!=null?Qe(this.items,this.indexOf(i)):this.items;return e.length===1&&(t=t.filter(o=>this.getItemValue(o)!==i)),t.find(o=>Je(this.stringifyItem(o),e))}search(e,i){const{state:t,currentValue:r,timeout:o=350}=i,a=t.keysSoFar+e,u=a.length>1&&Array.from(a).every(P=>P===a[0])?a[0]:a,p=this.getByText(u,r),O=this.getItemValue(p);function C(){clearTimeout(t.timer),t.timer=-1}function S(P){t.keysSoFar=P,C(),P!==""&&(t.timer=+setTimeout(()=>{S(""),C()},o))}return S(a),O}*[Symbol.iterator](){yield*this.items}insertBefore(e,i){const t=this.indexOf(e);t!==-1&&this.items.splice(t,0,i)}insertAfter(e,i){const t=this.indexOf(e);t!==-1&&this.items.splice(t+1,0,i)}reorder(e,i){if(e===-1||i===-1||e===i)return;const[t]=this.items.splice(e,1);this.items.splice(i,0,t)}toJSON(){return{size:this.size,first:this.firstValue,last:this.lastValue}}},Je=(e,i)=>!!(e!=null&&e.toLowerCase().startsWith(i.toLowerCase())),Qe=(e,i)=>e.map((t,r)=>e[(Math.max(i,0)+r)%e.length]);const[Xe,T]=D({name:"SelectContext",hookName:"useSelectContext",providerName:"<SelectProvider />"}),z=m.forwardRef((e,i)=>{const t=T(),r=Q(),o=v(t.getContentProps(),r.getPresenceProps(i),e);return r.unmounted?null:d.jsx(E.div,{...o})});z.displayName="SelectContent";const ee=m.forwardRef((e,i)=>{const t=T(),r=v(t.getControlProps(),e);return d.jsx(E.div,{...r,ref:i})});ee.displayName="SelectControl";const te=m.forwardRef((e,i)=>{const t=T(),r=v(t.getHiddenSelectProps(),e),o=t.value.length===0,a=X();return d.jsxs(E.select,{"aria-describedby":a==null?void 0:a.ariaDescribedby,...r,ref:i,children:[o&&d.jsx("option",{value:""}),t.collection.items.map((s,u)=>d.jsx("option",{value:t.collection.getItemValue(s)??"",disabled:t.collection.getItemDisabled(s)},u))]})});te.displayName="SelectHiddenSelect";const ie=m.forwardRef((e,i)=>{const t=T(),r=v(t.getIndicatorProps(),e);return d.jsx(E.div,{...r,ref:i})});ie.displayName="SelectIndicator";const[Ze,Lt]=D({name:"SelectItemContext",hookName:"useSelectItemContext",providerName:"<SelectItemProvider />"}),[ze,re]=D({name:"SelectItemPropsContext",hookName:"useSelectItemPropsContext",providerName:"<SelectItemPropsProvider />"}),oe=m.forwardRef((e,i)=>{const[t,r]=F()(e,["item","persistFocus"]),o=T(),a=v(o.getItemProps(t),r),s=o.getItemState(t);return d.jsx(ze,{value:t,children:d.jsx(Ze,{value:s,children:d.jsx(E.div,{...a,ref:i})})})});oe.displayName="SelectItem";const[et,tt]=D({name:"SelectItemGroupPropsContext",hookName:"useSelectItemGroupPropsContext",providerName:"<SelectItemGroupPropsProvider />"}),le=m.forwardRef((e,i)=>{const t=m.useId(),[r,o]=F()(e,["id"]),a={id:t,...r},s=T(),u=v(s.getItemGroupProps(a),o);return d.jsx(et,{value:a,children:d.jsx(E.div,{...u,ref:i})})});le.displayName="SelectItemGroup";const ne=m.forwardRef((e,i)=>{const t=T(),r=tt(),o=v(t.getItemGroupLabelProps({htmlFor:r.id}),e);return d.jsx(E.div,{...o,ref:i})});ne.displayName="SelectItemGroupLabel";const se=m.forwardRef((e,i)=>{const t=T(),r=re(),o=v(t.getItemIndicatorProps(r),e);return d.jsx(E.div,{...o,ref:i})});se.displayName="SelectItemIndicator";const ae=m.forwardRef((e,i)=>{const t=T(),r=re(),o=v(t.getItemTextProps(r),e);return d.jsx(E.span,{...o,ref:i})});ae.displayName="SelectItemText";const de=m.forwardRef((e,i)=>{const t=T(),r=v(t.getPositionerProps(),e);return Q().unmounted?null:d.jsx(E.div,{...r,ref:i})});de.displayName="SelectPositioner";var it=Ce("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText"),f=it.build(),B=e=>J(new Z(e));B.empty=()=>J(new Z({items:[]}));var n=Oe({getRootId:e=>{var i;return((i=e.ids)==null?void 0:i.root)??`select:${e.id}`},getContentId:e=>{var i;return((i=e.ids)==null?void 0:i.content)??`select:${e.id}:content`},getTriggerId:e=>{var i;return((i=e.ids)==null?void 0:i.trigger)??`select:${e.id}:trigger`},getClearTriggerId:e=>{var i;return((i=e.ids)==null?void 0:i.clearTrigger)??`select:${e.id}:clear-trigger`},getLabelId:e=>{var i;return((i=e.ids)==null?void 0:i.label)??`select:${e.id}:label`},getControlId:e=>{var i;return((i=e.ids)==null?void 0:i.control)??`select:${e.id}:control`},getItemId:(e,i)=>{var t,r;return((r=(t=e.ids)==null?void 0:t.item)==null?void 0:r.call(t,i))??`select:${e.id}:option:${i}`},getHiddenSelectId:e=>{var i;return((i=e.ids)==null?void 0:i.hiddenSelect)??`select:${e.id}:select`},getPositionerId:e=>{var i;return((i=e.ids)==null?void 0:i.positioner)??`select:${e.id}:positioner`},getItemGroupId:(e,i)=>{var t,r;return((r=(t=e.ids)==null?void 0:t.itemGroup)==null?void 0:r.call(t,i))??`select:${e.id}:optgroup:${i}`},getItemGroupLabelId:(e,i)=>{var t,r;return((r=(t=e.ids)==null?void 0:t.itemGroupLabel)==null?void 0:r.call(t,i))??`select:${e.id}:optgroup-label:${i}`},getHiddenSelectEl:e=>n.getById(e,n.getHiddenSelectId(e)),getContentEl:e=>n.getById(e,n.getContentId(e)),getControlEl:e=>n.getById(e,n.getControlId(e)),getTriggerEl:e=>n.getById(e,n.getTriggerId(e)),getClearTriggerEl:e=>n.getById(e,n.getClearTriggerId(e)),getPositionerEl:e=>n.getById(e,n.getPositionerId(e)),getHighlightedOptionEl(e){return e.highlightedValue?n.getById(e,n.getItemId(e,e.highlightedValue)):null}});function rt(e,i,t){const r=e.context.isDisabled,o=e.context.invalid,a=e.context.readOnly,s=e.context.isInteractive,u=e.context.composite,p=e.hasTag("open"),O=e.matches("focused"),C=e.context.highlightedValue,S=e.context.highlightedItem,P=e.context.selectedItems,K=e.context.isTypingAhead,V=e.context.collection,_=C?n.getItemId(e.context,C):void 0;function G(l){const c=V.getItemDisabled(l.item),I=V.getItemValue(l.item);return{value:I,disabled:!!(r||c),highlighted:C===I,selected:e.context.value.includes(I)}}const me=ke({...e.context.positioning,placement:e.context.currentPlacement});return{open:p,focused:O,empty:e.context.value.length===0,highlightedItem:S,highlightedValue:C,selectedItems:P,hasSelectedItems:e.context.hasSelectedItems,value:e.context.value,valueAsString:e.context.valueAsString,collection:V,setCollection(l){i({type:"COLLECTION.SET",value:l})},reposition(l={}){i({type:"POSITIONING.SET",options:l})},focus(){var l;(l=n.getTriggerEl(e.context))==null||l.focus({preventScroll:!0})},setOpen(l){l!==p&&i(l?"OPEN":"CLOSE")},selectValue(l){i({type:"ITEM.SELECT",value:l})},setValue(l){i({type:"VALUE.SET",value:l})},selectAll(){i({type:"VALUE.SET",value:V.getValues()})},highlightValue(l){i({type:"HIGHLIGHTED_VALUE.SET",value:l})},clearValue(l){i(l?{type:"ITEM.CLEAR",value:l}:{type:"VALUE.CLEAR"})},getItemState:G,getRootProps(){return t.element({...f.root.attrs,dir:e.context.dir,id:n.getRootId(e.context),"data-invalid":g(o),"data-readonly":g(a)})},getLabelProps(){return t.label({dir:e.context.dir,id:n.getLabelId(e.context),...f.label.attrs,"data-disabled":g(r),"data-invalid":g(o),"data-readonly":g(a),htmlFor:n.getHiddenSelectId(e.context),onClick(l){var c;l.defaultPrevented||r||(c=n.getTriggerEl(e.context))==null||c.focus({preventScroll:!0})}})},getControlProps(){return t.element({...f.control.attrs,dir:e.context.dir,id:n.getControlId(e.context),"data-state":p?"open":"closed","data-focus":g(O),"data-disabled":g(r),"data-invalid":g(o)})},getValueTextProps(){return t.element({...f.valueText.attrs,dir:e.context.dir,"data-disabled":g(r),"data-invalid":g(o),"data-focus":g(O)})},getTriggerProps(){return t.button({id:n.getTriggerId(e.context),disabled:r,dir:e.context.dir,type:"button",role:"combobox","aria-controls":n.getContentId(e.context),"aria-expanded":p,"aria-haspopup":"listbox","data-state":p?"open":"closed","aria-invalid":o,"aria-labelledby":n.getLabelId(e.context),...f.trigger.attrs,"data-disabled":g(r),"data-invalid":g(o),"data-readonly":g(a),"data-placement":e.context.currentPlacement,"data-placeholder-shown":g(!e.context.hasSelectedItems),onPointerDown(l){Me(l)&&s&&(l.currentTarget.dataset.pointerType=l.pointerType,!(r||l.pointerType==="touch")&&i({type:"TRIGGER.CLICK"}))},onClick(l){!s||l.button||l.currentTarget.dataset.pointerType==="touch"&&i({type:"TRIGGER.CLICK"})},onFocus(){i("TRIGGER.FOCUS")},onBlur(){i("TRIGGER.BLUR")},onKeyDown(l){if(l.defaultPrevented||!s)return;const I={ArrowUp(){i({type:"TRIGGER.ARROW_UP"})},ArrowDown(y){i({type:y.altKey?"OPEN":"TRIGGER.ARROW_DOWN"})},ArrowLeft(){i({type:"TRIGGER.ARROW_LEFT"})},ArrowRight(){i({type:"TRIGGER.ARROW_RIGHT"})},Home(){i({type:"TRIGGER.HOME"})},End(){i({type:"TRIGGER.END"})},Enter(){i({type:"TRIGGER.ENTER"})},Space(y){i(K?{type:"TRIGGER.TYPEAHEAD",key:y.key}:{type:"TRIGGER.ENTER"})}}[Y(l,e.context)];if(I){I(l),l.preventDefault();return}W.isValidEvent(l)&&(i({type:"TRIGGER.TYPEAHEAD",key:l.key}),l.preventDefault())}})},getIndicatorProps(){return t.element({...f.indicator.attrs,dir:e.context.dir,"aria-hidden":!0,"data-state":p?"open":"closed","data-disabled":g(r),"data-invalid":g(o),"data-readonly":g(a)})},getItemProps(l){const c=G(l);return t.element({id:n.getItemId(e.context,c.value),role:"option",...f.item.attrs,dir:e.context.dir,"data-value":c.value,"aria-selected":c.selected,"data-state":c.selected?"checked":"unchecked","data-highlighted":g(c.highlighted),"data-disabled":g(c.disabled),"aria-disabled":ye(c.disabled),onPointerMove(I){c.disabled||I.pointerType!=="mouse"||c.value!==e.context.highlightedValue&&i({type:"ITEM.POINTER_MOVE",value:c.value})},onPointerUp(){c.disabled||i({type:"ITEM.CLICK",src:"pointerup",value:c.value})},onPointerLeave(I){c.disabled||l.persistFocus||I.pointerType!=="mouse"||["CONTENT.ARROW_UP","CONTENT.ARROW_DOWN"].includes(e.event.type)||i({type:"ITEM.POINTER_LEAVE"})},onTouchEnd(I){I.preventDefault(),I.stopPropagation()}})},getItemTextProps(l){const c=G(l);return t.element({...f.itemText.attrs,"data-state":c.selected?"checked":"unchecked","data-disabled":g(c.disabled),"data-highlighted":g(c.highlighted)})},getItemIndicatorProps(l){const c=G(l);return t.element({"aria-hidden":!0,...f.itemIndicator.attrs,"data-state":c.selected?"checked":"unchecked",hidden:!c.selected})},getItemGroupLabelProps(l){const{htmlFor:c}=l;return t.element({...f.itemGroupLabel.attrs,id:n.getItemGroupLabelId(e.context,c),role:"group",dir:e.context.dir})},getItemGroupProps(l){const{id:c}=l;return t.element({...f.itemGroup.attrs,"data-disabled":g(r),id:n.getItemGroupId(e.context,c),"aria-labelledby":n.getItemGroupLabelId(e.context,c),dir:e.context.dir})},getClearTriggerProps(){return t.button({...f.clearTrigger.attrs,id:n.getClearTriggerId(e.context),type:"button","aria-label":"Clear value","data-invalid":g(o),disabled:r,hidden:!e.context.hasSelectedItems,dir:e.context.dir,onClick(l){l.defaultPrevented||i("CLEAR.CLICK")}})},getHiddenSelectProps(){return t.select({name:e.context.name,form:e.context.form,disabled:r,multiple:e.context.multiple,required:e.context.required,"aria-hidden":!0,id:n.getHiddenSelectId(e.context),defaultValue:e.context.multiple?e.context.value:e.context.value[0],style:be,tabIndex:-1,onFocus(){var l;(l=n.getTriggerEl(e.context))==null||l.focus({preventScroll:!0})},"aria-labelledby":n.getLabelId(e.context)})},getPositionerProps(){return t.element({...f.positioner.attrs,dir:e.context.dir,id:n.getPositionerId(e.context),style:me.floating})},getContentProps(){return t.element({hidden:!p,dir:e.context.dir,id:n.getContentId(e.context),role:u?"listbox":"dialog",...f.content.attrs,"data-state":p?"open":"closed","data-placement":e.context.currentPlacement,"data-activedescendant":_,"aria-activedescendant":u?_:void 0,"aria-multiselectable":e.context.multiple&&u?!0:void 0,"aria-labelledby":n.getLabelId(e.context),tabIndex:0,onKeyDown(l){if(!s||!Se(l))return;if(l.key==="Tab"&&!Pe(l)){l.preventDefault();return}const c={ArrowUp(){i({type:"CONTENT.ARROW_UP"})},ArrowDown(){i({type:"CONTENT.ARROW_DOWN"})},Home(){i({type:"CONTENT.HOME"})},End(){i({type:"CONTENT.END"})},Enter(){i({type:"ITEM.CLICK",src:"keydown.enter"})},Space(y){var $;K?i({type:"CONTENT.TYPEAHEAD",key:y.key}):($=c.Enter)==null||$.call(c,y)}},I=c[Y(l)];if(I){I(l),l.preventDefault();return}Re(l.target)||W.isValidEvent(l)&&(i({type:"CONTENT.TYPEAHEAD",key:l.key}),l.preventDefault())}})},getListProps(){return t.element({...f.list.attrs,tabIndex:0,role:u?void 0:"listbox","aria-labelledby":n.getTriggerId(e.context),"aria-activedescendant":u?void 0:_,"aria-multiselectable":!u&&e.context.multiple?!0:void 0})}}}var{and:R,not:b,or:ot}=Ge;function lt(e){const i=_e(e);return Ne({id:"select",context:{value:[],highlightedValue:null,loopFocus:!1,closeOnSelect:!i.multiple,disabled:!1,readOnly:!1,composite:!0,...i,highlightedItem:null,selectedItems:[],valueAsString:"",collection:i.collection??B.empty(),typeahead:W.defaultOptions,fieldsetDisabled:!1,restoreFocus:!0,positioning:{placement:"bottom-start",gutter:8,...i.positioning}},computed:{hasSelectedItems:t=>t.value.length>0,isTypingAhead:t=>t.typeahead.keysSoFar!=="",isDisabled:t=>!!t.disabled||t.fieldsetDisabled,isInteractive:t=>!(t.isDisabled||t.readOnly)},initial:i.open?"open":"idle",created:["syncCollection"],entry:["syncSelectElement"],watch:{open:["toggleVisibility"],value:["syncSelectedItems","syncSelectElement"],highlightedValue:["syncHighlightedItem"],collection:["syncCollection"]},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]},"CLEAR.CLICK":{actions:["clearSelectedItems","focusTriggerEl"]},"COLLECTION.SET":{actions:["setCollection"]}},activities:["trackFormControlState"],states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["highlightFirstSelectedItem"]},{target:"open"}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},focused:{tags:["closed"],entry:["focusTriggerEl"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["highlightFirstSelectedItem"]},{guard:"isTriggerArrowUpEvent",target:"open",actions:["highlightComputedLastItem"]},{guard:ot("isTriggerArrowDownEvent","isTriggerEnterEvent"),target:"open",actions:["highlightComputedFirstItem"]},{target:"open"}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"TRIGGER.BLUR":{target:"idle"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.ENTER":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_UP":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","highlightComputedLastItem"]}],"TRIGGER.ARROW_DOWN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_LEFT":[{guard:R(b("multiple"),"hasSelectedItems"),actions:["selectPreviousItem"]},{guard:b("multiple"),actions:["selectLastItem"]}],"TRIGGER.ARROW_RIGHT":[{guard:R(b("multiple"),"hasSelectedItems"),actions:["selectNextItem"]},{guard:b("multiple"),actions:["selectFirstItem"]}],"TRIGGER.HOME":{guard:b("multiple"),actions:["selectFirstItem"]},"TRIGGER.END":{guard:b("multiple"),actions:["selectLastItem"]},"TRIGGER.TYPEAHEAD":{guard:b("multiple"),actions:["selectMatchingItem"]}}},open:{tags:["open"],entry:["setInitialFocus"],exit:["scrollContentToTop"],activities:["trackDismissableElement","computePlacement","scrollToHighlightedItem"],on:{"CONTROLLED.CLOSE":[{guard:"shouldRestoreFocus",target:"focused",actions:["clearHighlightedItem"]},{target:"idle",actions:["clearHighlightedItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"ITEM.CLICK":[{guard:R("closeOnSelect","isOpenControlled"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","clearHighlightedItem"]},{actions:["selectHighlightedItem"]}],"CONTENT.INTERACT_OUTSIDE":[{guard:R("shouldRestoreFocus","isOpenControlled"),actions:["invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["invokeOnClose","clearHighlightedItem"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose","clearHighlightedItem"]}],"CONTENT.HOME":{actions:["highlightFirstItem"]},"CONTENT.END":{actions:["highlightLastItem"]},"CONTENT.ARROW_DOWN":[{guard:R("hasHighlightedItem","loop","isLastItemHighlighted"),actions:["highlightFirstItem"]},{guard:"hasHighlightedItem",actions:["highlightNextItem"]},{actions:["highlightFirstItem"]}],"CONTENT.ARROW_UP":[{guard:R("hasHighlightedItem","loop","isFirstItemHighlighted"),actions:["highlightLastItem"]},{guard:"hasHighlightedItem",actions:["highlightPreviousItem"]},{actions:["highlightLastItem"]}],"CONTENT.TYPEAHEAD":{actions:["highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"POSITIONING.SET":{actions:["reposition"]}}}}},{guards:{loop:t=>!!t.loopFocus,multiple:t=>!!t.multiple,hasSelectedItems:t=>!!t.hasSelectedItems,hasHighlightedItem:t=>t.highlightedValue!=null,isFirstItemHighlighted:t=>t.highlightedValue===t.collection.firstValue,isLastItemHighlighted:t=>t.highlightedValue===t.collection.lastValue,closeOnSelect:(t,r)=>!!(r.closeOnSelect??t.closeOnSelect),shouldRestoreFocus:t=>!!t.restoreFocus,isOpenControlled:t=>!!t["open.controlled"],isTriggerClickEvent:(t,r)=>{var o;return((o=r.previousEvent)==null?void 0:o.type)==="TRIGGER.CLICK"},isTriggerEnterEvent:(t,r)=>{var o;return((o=r.previousEvent)==null?void 0:o.type)==="TRIGGER.ENTER"},isTriggerArrowUpEvent:(t,r)=>{var o;return((o=r.previousEvent)==null?void 0:o.type)==="TRIGGER.ARROW_UP"},isTriggerArrowDownEvent:(t,r)=>{var o;return((o=r.previousEvent)==null?void 0:o.type)==="TRIGGER.ARROW_DOWN"}},activities:{trackFormControlState(t,r,{initialContext:o}){return We(n.getHiddenSelectEl(t),{onFieldsetDisabledChange(a){t.fieldsetDisabled=a},onFormReset(){h.selectedItems(t,o.value)}})},trackDismissableElement(t,r,{send:o}){return Ue(()=>n.getContentEl(t),{defer:!0,exclude:[n.getTriggerEl(t),n.getClearTriggerEl(t)],onFocusOutside:t.onFocusOutside,onPointerDownOutside:t.onPointerDownOutside,onInteractOutside(s){var u;(u=t.onInteractOutside)==null||u.call(t,s),t.restoreFocus=!s.detail.focusable},onDismiss(){o({type:"CONTENT.INTERACT_OUTSIDE"})}})},computePlacement(t){return t.currentPlacement=t.positioning.placement,q(()=>n.getTriggerEl(t),()=>n.getPositionerEl(t),{defer:!0,...t.positioning,onComplete(a){t.currentPlacement=a.placement}})},scrollToHighlightedItem(t,r,{getState:o}){const a=u=>{if(t.highlightedValue==null||o().event.type.includes("POINTER"))return;const O=n.getHighlightedOptionEl(t),C=n.getContentEl(t);if(t.scrollToIndexFn){const S=t.collection.indexOf(t.highlightedValue);t.scrollToIndexFn({index:S,immediate:u});return}we(O,{rootEl:C,block:"nearest"})};return w(()=>a(!0)),Ve(()=>n.getContentEl(t),{defer:!0,attributes:["data-activedescendant"],callback(){a(!1)}})}},actions:{reposition(t,r){const o=()=>n.getPositionerEl(t);q(n.getTriggerEl(t),o,{...t.positioning,...r.options,defer:!0,listeners:!1,onComplete(a){t.currentPlacement=a.placement}})},toggleVisibility(t,r,{send:o}){o({type:t.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:r})},highlightPreviousItem(t){if(t.highlightedValue==null)return;const r=t.collection.getPreviousValue(t.highlightedValue);h.highlightedItem(t,r)},highlightNextItem(t){if(t.highlightedValue==null)return;const r=t.collection.getNextValue(t.highlightedValue);h.highlightedItem(t,r)},highlightFirstItem(t){const r=t.collection.firstValue;h.highlightedItem(t,r)},highlightLastItem(t){const r=t.collection.lastValue;h.highlightedItem(t,r)},setInitialFocus(t){w(()=>{const r=xe({root:n.getContentEl(t)});r==null||r.focus({preventScroll:!0})})},focusTriggerEl(t){w(()=>{var r;(r=n.getTriggerEl(t))==null||r.focus({preventScroll:!0})})},selectHighlightedItem(t,r){const o=r.value??t.highlightedValue;o!=null&&h.selectedItem(t,o)},highlightComputedFirstItem(t){const r=t.hasSelectedItems?t.collection.sort(t.value)[0]:t.collection.firstValue;h.highlightedItem(t,r)},highlightComputedLastItem(t){const r=t.hasSelectedItems?t.collection.sort(t.value)[0]:t.collection.lastValue;h.highlightedItem(t,r)},highlightFirstSelectedItem(t){if(!t.hasSelectedItems)return;const[r]=t.collection.sort(t.value);h.highlightedItem(t,r)},highlightItem(t,r){h.highlightedItem(t,r.value)},highlightMatchingItem(t,r){const o=t.collection.search(r.key,{state:t.typeahead,currentValue:t.highlightedValue});o!=null&&h.highlightedItem(t,o)},setHighlightedItem(t,r){h.highlightedItem(t,r.value)},clearHighlightedItem(t){h.highlightedItem(t,null,!0)},selectItem(t,r){h.selectedItem(t,r.value)},clearItem(t,r){const o=t.value.filter(a=>a!==r.value);h.selectedItems(t,o)},setSelectedItems(t,r){h.selectedItems(t,r.value)},clearSelectedItems(t){h.selectedItems(t,[])},selectPreviousItem(t){const r=t.collection.getPreviousValue(t.value[0]);h.selectedItem(t,r)},selectNextItem(t){const r=t.collection.getNextValue(t.value[0]);h.selectedItem(t,r)},selectFirstItem(t){const r=t.collection.firstValue;h.selectedItem(t,r)},selectLastItem(t){const r=t.collection.lastValue;h.selectedItem(t,r)},selectMatchingItem(t,r){const o=t.collection.search(r.key,{state:t.typeahead,currentValue:t.value[0]});o!=null&&h.selectedItem(t,o)},scrollContentToTop(t){var r;t.scrollToIndexFn?t.scrollToIndexFn({index:0,immediate:!0}):(r=n.getContentEl(t))==null||r.scrollTo(0,0)},invokeOnOpen(t){var r;(r=t.onOpenChange)==null||r.call(t,{open:!0})},invokeOnClose(t){var r;(r=t.onOpenChange)==null||r.call(t,{open:!1})},syncSelectElement(t){const r=n.getHiddenSelectEl(t);if(r){if(t.value.length===0&&!t.multiple){r.selectedIndex=-1;return}for(const o of r.options)o.selected=t.value.includes(o.value)}},setCollection(t,r){t.collection=r.value},syncCollection(t){const r=t.collection.findMany(t.value),o=t.collection.stringifyItems(r);t.highlightedItem=t.collection.find(t.highlightedValue),t.selectedItems=r,t.valueAsString=o},syncSelectedItems(t){k.valueChange(t)},syncHighlightedItem(t){k.highlightChange(t)}}})}function nt(e){w(()=>{const i=n.getHiddenSelectEl(e);if(!i)return;const t=n.getWin(e),r=new t.Event("change",{bubbles:!0,composed:!0});i.dispatchEvent(r)})}var k={valueChange:e=>{const i=e.selectedItems;e.selectedItems=e.value.map(t=>{const r=i.find(o=>e.collection.getItemValue(o)===t);return r||e.collection.find(t)}),e.valueAsString=e.collection.stringifyItems(e.selectedItems)},highlightChange:e=>{e.highlightedItem=e.collection.find(e.highlightedValue)}},x={valueChange:e=>{var i;k.valueChange(e),(i=e.onValueChange)==null||i.call(e,{value:Array.from(e.value),items:Array.from(e.selectedItems)}),nt(e)},highlightChange:e=>{var i;k.highlightChange(e),(i=e.onHighlightChange)==null||i.call(e,{highlightedValue:e.highlightedValue,highlightedItem:e.highlightedItem,highlightedIndex:e.collection.indexOf(e.highlightedValue)})}},h={selectedItem:(e,i,t=!1)=>{if(!L(e.value,i)&&!(i==null&&!t)){if(i==null&&t){e.value=[],x.valueChange(e);return}e.value=e.multiple?je(e.value,i):[i],x.valueChange(e)}},selectedItems:(e,i)=>{L(e.value,i)||(e.value=i,x.valueChange(e))},highlightedItem:(e,i,t=!1)=>{L(e.highlightedValue,i)||i==null&&!t||(e.highlightedValue=i??null,x.highlightChange(e))}};H()(["closeOnSelect","collection","dir","disabled","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","open.controlled","open","composite","positioning","required","readOnly","scrollToIndexFn","value"]);H()(["item","persistFocus"]);H()(["id"]);H()(["htmlFor"]);const st=e=>{const[i,t]=F()(e,["isItemDisabled","itemToValue","itemToString","items"]),r=m.useMemo(()=>B(i),Object.values(i)),{getRootNode:o}=Be(),{dir:a}=Ke(),s=X(),u={id:m.useId(),ids:{label:s==null?void 0:s.ids.label,hiddenSelect:s==null?void 0:s.ids.control},disabled:s==null?void 0:s.disabled,readOnly:s==null?void 0:s.readOnly,invalid:s==null?void 0:s.invalid,required:s==null?void 0:s.required,dir:a,getRootNode:o,collection:r,open:e.defaultOpen,value:e.defaultValue,"open.controlled":e.open!==void 0,...t},p={...u,collection:r,value:e.value,onValueChange:U(e.onValueChange,{sync:!0}),onHighlightChange:U(e.onHighlightChange),onOpenChange:U(e.onOpenChange)},[O,C]=Le(lt(u),{context:p});return rt(O,C,Ae)},at=(e,i)=>{const[t,r]=De(e),[o,a]=F()(r,["closeOnSelect","composite","defaultOpen","defaultValue","disabled","form","highlightedValue","id","ids","invalid","isItemDisabled","items","itemToString","itemToValue","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]),s=st(o),u=He(v({present:s.open},t)),p=v(s.getRootProps(),a);return d.jsx(Xe,{value:s,children:d.jsx(Fe,{value:u,children:d.jsx(E.div,{...p,ref:i})})})},dt=m.forwardRef(at),ce=m.forwardRef((e,i)=>{const t=T(),r=v(t.getTriggerProps(),e);return d.jsx(E.button,{...r,ref:i})});ce.displayName="SelectTrigger";const ue=m.forwardRef((e,i)=>{const{children:t,placeholder:r,...o}=e,a=T(),s=v(a.getValueTextProps(),o);return d.jsx(E.span,{...s,ref:i,children:t||a.valueAsString||r})});ue.displayName="SelectValueText";const ct=pe({base:`${Ie.scope} select`,slots:{root:"trds-flex trds-flex-col trds-gap-1.5 trds-w-full",content:"trds-bg-white trds-rounded-lg trds-shadow-lg trds-flex trds-flex-col trds-z-dropdown data-open:trds-animate-fade-in data-closed:trds-animate-fade-out focus-visible:trds-outline-2 focus-visible:trds-outline-solid focus-visible:trds-outline-boundary focus-visible:trds-outline-offset-2",item:"trds-flex trds-items-center trds-justify-between trds-rounded-md trds-cursor-pointer trds-transition-fast trds-transition-[background,color] trds-ease-default hover:trds-bg-layer1 hover:trds-text-black data-highlighted:trds-bg-layer1 data-highlighted:trds-text-black data-selected:trds-text-black data-disabled:trds-text-muted data-disabled:trds-cursor-not-allowed",itemGroupLabel:"trds-font-semibold trds-text-sm",itemIndicator:"trds-text-black",label:"trds-text-neutral-500 trds-font-medium",trigger:"trds-appearance-none trds-inline-flex trds-items-center trds-justify-between trds-border-boundary trds-rounded-lg trds-cursor-pointer trds-text-fg-title trds-inline-flex trds-relative trds-outline-0 trds-transition trds-duration-normal trds-transition-[background,box-shadow,border-color] trds-ease-default trds-w-full trds-border-[1px] focus:trds-border-boundary focus:trds-shadow-[0_0_0_2px_var(--shadow-color)] focus:trds-shadow-primary-500 placeholder-shown:trds-text-fg-placeholder disabled:trds-text-muted disabled:trds-cursor-not-allowed disabled:[&_:where(svg)]:text-muted [&_:where(svg)]:text-subtle",control:"",valueText:"",indicator:"",positioner:"",itemGroup:"",itemText:""},variants:{size:{sm:{content:"trds-p-0.5 trds-gap-1",item:"trds-text-sm trds-px-2 trds-h-9",itemIndicator:"[&_:where(svg)]:w-4 [&_:where(svg)]:h-4",itemGroupLabel:"trds-px-2 trds-py-1.5",label:"trds-text-sm",trigger:"trds-px-2.5 trds-h-9 trds-min-w-9 trds-text-sm trds-gap-2 [&_:where(svg)]:w-4 [&_:where(svg)]:h-4"},md:{content:"trds-p-1 trds-gap-1",item:"trds-text-md trds-px-2 trds-h-10",itemIndicator:"[&_:where(svg)]:w-4 [&_:where(svg)]:h-4",itemGroupLabel:"trds-px-2 trds-py-1.5",label:"trds-text-sm",trigger:"trds-px-3 trds-h-10 trds-min-w-10 trds-text-md trds-gap-2 [&_:where(svg)]:w-4 [&_:where(svg)]:h-4"},lg:{content:"trds-p-1.5 trds-gap-1",item:"trds-text-md trds-px-2 trds-h-11",itemIndicator:"[&_:where(svg)]:w-5 [&_:where(svg)]:h-5",itemGroupLabel:"trds-px-2 trds-py-1.5",label:"trds-text-sm",trigger:"trds-px-3.5 trds-h-11 trds-min-w-11 trds-text-md trds-gap-2 [&_:where(svg)]:w-5 [&_:where(svg)]:h-5"}}},defaultVariants:{size:"md"}}),[ut,ge]=fe({name:"select",hookName:"useSelectContext",providerName:"SelectProvider",defaultValue:{classes:{},size:"md"}}),gt=m.forwardRef(function(e,i){const{size:t,placeholder:r,className:o,children:a,...s}=e,u=ct({size:t}),p={classes:u,size:t};return d.jsx(ut,{value:p,children:d.jsxs(dt,{ref:i,className:N(u.root(),o),positioning:{sameWidth:!0},...s,children:[d.jsx(ee,{className:u.control(),children:d.jsxs(ce,{className:u.trigger(),children:[d.jsx(ue,{placeholder:r,className:u.valueText()}),d.jsx(ie,{className:u.indicator(),children:d.jsx(ve,{size:he(t)})})]})}),d.jsx(Ee,{children:d.jsx(de,{className:u.positioner(),children:d.jsx(z,{className:u.content(),children:a})})}),d.jsx(te,{})]})})}),ht=m.forwardRef(function(e,i){const{label:t,className:r,children:o,...a}=e,{classes:s}=ge();return d.jsxs(le,{className:N(s.itemGroup(),r),ref:i,...a,children:[d.jsx(ne,{className:s.itemGroupLabel(),children:t}),o]})}),mt=m.forwardRef(function(e,i){const{className:t,children:r,...o}=e,{classes:a,size:s}=ge();return d.jsxs(oe,{className:N(a.item(),t),ref:i,...o,children:[d.jsx(ae,{className:N(a.itemText()),children:r}),d.jsx(se,{className:N(a.itemIndicator()),children:d.jsx(Te,{size:he(s)})})]})}),he=e=>e==="sm"?20:e==="md"?24:e==="lg"?28:24;gt.__docgenInfo={description:"",methods:[],displayName:"Root"};ht.__docgenInfo={description:"",methods:[],displayName:"ItemGroup"};mt.__docgenInfo={description:"",methods:[],displayName:"Item"};export{Z as C,ht as I,gt as R,mt as a};
