import{j as a}from"./jsx-runtime-qGIIFXMu.js";import{r as h}from"./index-CDs2tPxN.js";import{c as x}from"./cva-C095pwBQ.js";import{s as R}from"./sva-CxSEfBjn.js";import{j as H,c as N,y as g,z as b,k as D,l as F,m as u,v as $,o as j,p as O,s as _,B as L,F as q}from"./factory-DwUv65Y6.js";import{c as K,b as B,i as V}from"./index-D5jZQDUh.js";import{c as A}from"./index-DJ3ti8gJ.js";import{c as G}from"./create-split-props-u5h9OPvL.js";import{t as X,b as M}from"./index-DHe2XY-8.js";import{t as z,d as J}from"./index-DBzJ7FiP.js";import{u as Q,a as U}from"./use-locale-context-B5vdPRI5.js";import{u as W}from"./use-event-eGuf5zsd.js";import{u as v}from"./use-field-context-Dq9yVNyx.js";var I=H("switch").parts("root","label","control","thumb");I.build();var m=K({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`switch:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`switch:${e.id}:label`},getThumbId:e=>{var t;return((t=e.ids)==null?void 0:t.thumb)??`switch:${e.id}:thumb`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`switch:${e.id}:control`},getHiddenInputId:e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`switch:${e.id}:input`},getRootEl:e=>m.getById(e,m.getRootId(e)),getHiddenInputEl:e=>m.getById(e,m.getHiddenInputId(e))});A()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);const[Y,k]=N({name:"SwitchContext",hookName:"useSwitchContext",providerName:"<SwitchProvider />"}),w=h.forwardRef((e,t)=>{const o=k(),r=g(o.getControlProps(),e);return a.jsx(b.span,{...r,ref:t})});w.displayName="SwitchControl";const y=h.forwardRef((e,t)=>{const o=k(),r=g(o.getHiddenInputProps(),e),d=v();return a.jsx(b.input,{"aria-describedby":d==null?void 0:d.ariaDescribedby,...r,ref:t})});y.displayName="SwitchHiddenInput";var Z=D("switch").parts("root","label","control","thumb"),p=Z.build(),n=F({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`switch:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`switch:${e.id}:label`},getThumbId:e=>{var t;return((t=e.ids)==null?void 0:t.thumb)??`switch:${e.id}:thumb`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`switch:${e.id}:control`},getHiddenInputId:e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`switch:${e.id}:input`},getRootEl:e=>n.getById(e,n.getRootId(e)),getHiddenInputEl:e=>n.getById(e,n.getHiddenInputId(e))});function ee(e,t,o){const r=e.context.isDisabled,d=!r&&e.context.focused,i=e.context.checked,c=e.context.readOnly,l={"data-active":u(e.context.active),"data-focus":u(d),"data-readonly":u(c),"data-hover":u(e.context.hovered),"data-disabled":u(r),"data-state":e.context.checked?"checked":"unchecked","data-invalid":u(e.context.invalid)};return{checked:i,disabled:r,focused:d,setChecked(s){t({type:"CHECKED.SET",checked:s,isTrusted:!1})},toggleChecked(){t({type:"CHECKED.TOGGLE",checked:i,isTrusted:!1})},getRootProps(){return o.label({...p.root.attrs,...l,dir:e.context.dir,id:n.getRootId(e.context),htmlFor:n.getHiddenInputId(e.context),onPointerMove(){r||t({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){r||t({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(s){s.target===n.getHiddenInputEl(e.context)&&s.stopPropagation()}})},getLabelProps(){return o.element({...p.label.attrs,...l,dir:e.context.dir,id:n.getLabelId(e.context)})},getThumbProps(){return o.element({...p.thumb.attrs,...l,dir:e.context.dir,id:n.getThumbId(e.context),"aria-hidden":!0})},getControlProps(){return o.element({...p.control.attrs,...l,dir:e.context.dir,id:n.getControlId(e.context),"aria-hidden":!0})},getHiddenInputProps(){return o.input({id:n.getHiddenInputId(e.context),type:"checkbox",required:e.context.required,defaultChecked:i,disabled:r,"aria-labelledby":n.getLabelId(e.context),"aria-invalid":e.context.invalid,name:e.context.name,form:e.context.form,value:e.context.value,style:$,onClick(s){if(c){s.preventDefault();return}const T=s.currentTarget.checked;t({type:"CHECKED.SET",checked:T,isTrusted:!0})}})}}}var{not:C}=_;function te(e){const t=B(e);return j({id:"switch",initial:"ready",context:{checked:!1,label:"switch",value:"on",disabled:!1,...t,fieldsetDisabled:!1},computed:{isDisabled:o=>o.disabled||o.fieldsetDisabled},watch:{disabled:"removeFocusIfNeeded",checked:"syncInputElement"},activities:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:C("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:C("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}}},{guards:{isTrusted:(o,r)=>!!r.isTrusted},activities:{trackPressEvent(o){if(!o.isDisabled)return X({pointerNode:n.getRootEl(o),keyboardNode:n.getHiddenInputEl(o),isValidKey:r=>r.key===" ",onPress:()=>o.active=!1,onPressStart:()=>o.active=!0,onPressEnd:()=>o.active=!1})},trackFocusVisible(o){if(!o.isDisabled)return M(n.getHiddenInputEl(o),{onFocus:()=>o.focused=!0,onBlur:()=>o.focused=!1})},trackFormControlState(o,r,{send:d,initialContext:i}){return z(n.getHiddenInputEl(o),{onFieldsetDisabledChange(c){o.fieldsetDisabled=c},onFormReset(){d({type:"CHECKED.SET",checked:!!i.checked,src:"form-reset"})}})}},actions:{setContext(o,r){Object.assign(o,r.context)},syncInputElement(o){const r=n.getHiddenInputEl(o);r&&(r.checked=!!o.checked)},removeFocusIfNeeded(o){o.disabled&&o.focused&&(o.focused=!1)},setChecked(o,r){f.checked(o,r.checked)},toggleChecked(o,r){f.checked(o,!o.checked)},dispatchChangeEvent(o){const r=n.getHiddenInputEl(o);J(r,{checked:o.checked})}}})}var oe={change:e=>{var t;(t=e.onCheckedChange)==null||t.call(e,{checked:e.checked})}},f={checked:(e,t)=>{V(e.checked,t)||(e.checked=t,oe.change(e))}};O()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);const re=e=>{const{getRootNode:t}=Q(),{dir:o}=U(),r=v(),d={id:h.useId(),ids:{label:r==null?void 0:r.ids.label,hiddenInput:r==null?void 0:r.ids.control},dir:o,disabled:r==null?void 0:r.disabled,readOnly:r==null?void 0:r.readOnly,invalid:r==null?void 0:r.invalid,required:r==null?void 0:r.required,getRootNode:t,checked:e.defaultChecked,...e},i={...d,checked:e.checked,onCheckedChange:W(e.onCheckedChange,{sync:!0})},[c,l]=L(te(d),{context:i});return ee(c,l,q)},E=h.forwardRef((e,t)=>{const[o,r]=G()(e,["checked","defaultChecked","disabled","form","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]),d=re(o),i=g(d.getRootProps(),r);return a.jsx(Y,{value:d,children:a.jsx(b.label,{...i,ref:t})})});E.displayName="SwitchRoot";const P=h.forwardRef((e,t)=>{const o=k(),r=g(o.getThumbProps(),e);return a.jsx(b.span,{...r,ref:t})});P.displayName="SwitchThumb";const ne=R({className:"switchRecipe",slots:I.keys(),base:{root:{alignItems:"center",display:"flex",position:"relative",_disabled:{opacity:60}},control:{alignItems:"center",background:"neutral.300",borderRadius:"full",cursor:"pointer",display:"inline-flex",flexShrink:"0",transitionDuration:"normal",transitionProperty:"background",transitionTimingFunction:"default",_checked:{background:"primary"},_disabled:{cursor:"not-allowed"}},thumb:{background:"white",borderRadius:"full",boxShadow:"xs",transitionDuration:"normal",transitionProperty:"transform, background",transitionTimingFunction:"default",_checked:{transform:"translateX(100%)",background:{base:"white",_dark:"primary.foreground"}}}},defaultVariants:{size:"md"},variants:{size:{sm:{root:{gap:"2"},control:{width:"7",p:"0.5"},thumb:{width:"3",height:"3"}},md:{root:{gap:"3"},control:{width:"9",p:"0.5"},thumb:{width:"4",height:"4"}},lg:{root:{gap:"4"},control:{width:"11",p:"0.5"},thumb:{width:"5",height:"5"}}}}}),S=h.forwardRef(function(e,t){const{size:o,className:r,...d}=e,i=ne({size:o});return a.jsxs(E,{ref:t,className:x(i.root,r),...d,children:[a.jsx(w,{className:i.control,children:a.jsx(P,{className:i.thumb})}),a.jsx(y,{})]})});S.displayName="Switch";S.__docgenInfo={description:"",methods:[],displayName:"Switch"};export{S as R};
