import{j as c}from"./jsx-runtime-qGIIFXMu.js";import{t as ge,I as me,c as O}from"./tv-CIwtzMts.js";import{r as d}from"./index-CDs2tPxN.js";import{c as pe}from"./create-react-context-Dw26gLIP.js";import{C as he}from"./check-DUDaO23Y.js";import{c as H,m as v,h as E,a as Ie,z as q,b as Ce,U as fe,d as p,V as j,O as be,a0 as ve,a1 as Oe,e as Ee,I as Pe,r as P,H as Te,g as Ve,a2 as Ne,A as ye,E as Le}from"./factory-BCO0_PXk.js";import{c as _}from"./create-split-props-u5h9OPvL.js";import{s as Se}from"./split-presence-props-DcTE3k_W.js";import{a as Y,u as xe,P as Re}from"./use-presence-BYwEg9-n.js";import{C as J}from"./Select-CuMrJtk2.js";import{g as $,d as ke,i as Fe,c as Ae}from"./index-DRtd-hRg.js";import{g as we,a as W}from"./index-l88IbyY5.js";import{a as Ue}from"./focus-trap.esm-CsfQhaCm.js";import{a as He}from"./index-6PaDttyw.js";import{c as _e,o as Ge,q as K,s as Q,a as M,t as De}from"./index-6Viw2UEs.js";import{a as je,u as Me}from"./use-locale-context-CTaGYWMe.js";import{u as A}from"./use-event-eGuf5zsd.js";import{u as X}from"./use-field-context-CzRTzM_q.js";const[Ke,T]=H({name:"ComboboxContext",hookName:"useComboboxContext",providerName:"<ComboboxProvider />"}),Z=d.forwardRef((t,o)=>{const e=T(),n=v(e.getClearTriggerProps(),t);return c.jsx(E.button,{...n,ref:o})});Z.displayName="ComboboxClearTrigger";const z=d.forwardRef((t,o)=>{const e=T(),n=Y(),i=v(e.getContentProps(),n.getPresenceProps(o),t);return n.unmounted?null:c.jsx(E.div,{...i})});z.displayName="ComboboxContent";const ee=d.forwardRef((t,o)=>{const e=T(),n=v(e.getControlProps(),t);return c.jsx(E.div,{...n,ref:o})});ee.displayName="ComboboxControl";const te=d.forwardRef((t,o)=>{const e=T(),n=v(e.getInputProps(),t),i=X();return c.jsx(E.input,{"aria-describedby":i==null?void 0:i.ariaDescribedby,...n,ref:o})});te.displayName="ComboboxInput";const[Be,Ft]=H({name:"ComboboxItemContext",hookName:"useComboboxItemContext",providerName:"<ComboboxItemProvider />"}),[$e,oe]=H({name:"ComboboxItemPropsContext",hookName:"useComboboxItemPropsContext",providerName:"<ComboboxItemPropsProvider />"}),ne=d.forwardRef((t,o)=>{const[e,n]=_()(t,["item","persistFocus"]),i=T(),s=v(i.getItemProps(e),n),a=i.getItemState(e);return c.jsx($e,{value:e,children:c.jsx(Be,{value:a,children:c.jsx(E.div,{...s,ref:o})})})});ne.displayName="ComboboxItem";const[We,qe]=H({name:"ComboboxItemGroupPropsContext",hookName:"useComboboxItemGroupPropsContext",providerName:"<ComboboxItemGroupPropsProvider />"}),ie=d.forwardRef((t,o)=>{const e=d.useId(),[n,i]=_()(t,["id"]),s={id:e,...n},a=T(),g=v(a.getItemGroupProps(s),i);return c.jsx(We,{value:s,children:c.jsx(E.div,{...g,ref:o})})});ie.displayName="ComboboxItemGroup";const re=d.forwardRef((t,o)=>{const e=T(),n=qe(),i=v(e.getItemGroupLabelProps({htmlFor:n.id}),t);return c.jsx(E.div,{...i,ref:o})});re.displayName="ComboboxItemGroupLabel";const le=d.forwardRef((t,o)=>{const e=T(),n=oe(),i=v(e.getItemIndicatorProps(n),t);return c.jsx(E.div,{...i,ref:o})});le.displayName="ComboboxItemIndicator";const se=d.forwardRef((t,o)=>{const e=T(),n=oe(),i=v(e.getItemTextProps(n),t);return c.jsx(E.span,{...i,ref:o})});se.displayName="ComboboxItemText";const ae=d.forwardRef((t,o)=>{const e=T(),n=Y(),i=v(e.getPositionerProps(),t);return n.unmounted?null:c.jsx(E.div,{...i,ref:o})});ae.displayName="ComboboxPositioner";var Ye=Ie("combobox").parts("root","clearTrigger","content","control","input","item","itemGroup","itemGroupLabel","itemIndicator","itemText","label","list","positioner","trigger"),f=Ye.build(),B=t=>q(new J(t));B.empty=()=>q(new J({items:[]}));var l=Ce({getRootId:t=>{var o;return((o=t.ids)==null?void 0:o.root)??`combobox:${t.id}`},getLabelId:t=>{var o;return((o=t.ids)==null?void 0:o.label)??`combobox:${t.id}:label`},getControlId:t=>{var o;return((o=t.ids)==null?void 0:o.control)??`combobox:${t.id}:control`},getInputId:t=>{var o;return((o=t.ids)==null?void 0:o.input)??`combobox:${t.id}:input`},getContentId:t=>{var o;return((o=t.ids)==null?void 0:o.content)??`combobox:${t.id}:content`},getPositionerId:t=>{var o;return((o=t.ids)==null?void 0:o.positioner)??`combobox:${t.id}:popper`},getTriggerId:t=>{var o;return((o=t.ids)==null?void 0:o.trigger)??`combobox:${t.id}:toggle-btn`},getClearTriggerId:t=>{var o;return((o=t.ids)==null?void 0:o.clearTrigger)??`combobox:${t.id}:clear-btn`},getItemGroupId:(t,o)=>{var e,n;return((n=(e=t.ids)==null?void 0:e.itemGroup)==null?void 0:n.call(e,o))??`combobox:${t.id}:optgroup:${o}`},getItemGroupLabelId:(t,o)=>{var e,n;return((n=(e=t.ids)==null?void 0:e.itemGroupLabel)==null?void 0:n.call(e,o))??`combobox:${t.id}:optgroup-label:${o}`},getItemId:(t,o)=>{var e,n;return((n=(e=t.ids)==null?void 0:e.item)==null?void 0:n.call(e,o))??`combobox:${t.id}:option:${o}`},getContentEl:t=>l.getById(t,l.getContentId(t)),getInputEl:t=>l.getById(t,l.getInputId(t)),getPositionerEl:t=>l.getById(t,l.getPositionerId(t)),getControlEl:t=>l.getById(t,l.getControlId(t)),getTriggerEl:t=>l.getById(t,l.getTriggerId(t)),getClearTriggerEl:t=>l.getById(t,l.getClearTriggerId(t)),getHighlightedItemEl:t=>{const o=t.highlightedValue;if(o==null)return;const e=`[role=option][data-value="${CSS.escape(o)}"`;return fe(l.getContentEl(t),e)},focusInputEl:t=>{const o=l.getInputEl(t);l.isActiveElement(t,o)||o==null||o.focus({preventScroll:!0})},focusTriggerEl:t=>{const o=l.getTriggerEl(t);l.isActiveElement(t,o)||o==null||o.focus({preventScroll:!0})}});function Je(t,o,e){const n=t.context.translations,i=t.context.collection,s=t.context.disabled,a=t.context.isInteractive,g=t.context.invalid,N=t.context.readOnly,m=t.hasTag("open"),y=t.hasTag("focused"),L=t.context.composite,R=t.context.highlightedValue,G=we({...t.context.positioning,placement:t.context.currentPlacement});function x(r){const{item:u}=r,C=i.getItemDisabled(u),I=i.getItemValue(u);return{value:I,disabled:!!(C||C),highlighted:R===I,selected:t.context.value.includes(I)}}return{focused:y,open:m,inputValue:t.context.inputValue,highlightedValue:R,highlightedItem:t.context.highlightedItem,value:t.context.value,valueAsString:t.context.valueAsString,hasSelectedItems:t.context.hasSelectedItems,selectedItems:t.context.selectedItems,collection:t.context.collection,reposition(r={}){o({type:"POSITIONING.SET",options:r})},setCollection(r){o({type:"COLLECTION.SET",value:r})},setHighlightValue(r){o({type:"HIGHLIGHTED_VALUE.SET",value:r})},selectValue(r){o({type:"ITEM.SELECT",value:r})},setValue(r){o({type:"VALUE.SET",value:r})},setInputValue(r){o({type:"INPUT_VALUE.SET",value:r})},clearValue(r){r!=null?o({type:"ITEM.CLEAR",value:r}):o("VALUE.CLEAR")},focus(){var r;(r=l.getInputEl(t.context))==null||r.focus()},setOpen(r){r!==m&&o(r?"OPEN":"CLOSE")},getRootProps(){return e.element({...f.root.attrs,dir:t.context.dir,id:l.getRootId(t.context),"data-invalid":p(g),"data-readonly":p(N)})},getLabelProps(){return e.label({...f.label.attrs,dir:t.context.dir,htmlFor:l.getInputId(t.context),id:l.getLabelId(t.context),"data-readonly":p(N),"data-disabled":p(s),"data-invalid":p(g),"data-focus":p(y),onClick(r){var u;L||(r.preventDefault(),(u=l.getTriggerEl(t.context))==null||u.focus({preventScroll:!0}))}})},getControlProps(){return e.element({...f.control.attrs,dir:t.context.dir,id:l.getControlId(t.context),"data-state":m?"open":"closed","data-focus":p(y),"data-disabled":p(s),"data-invalid":p(g)})},getPositionerProps(){return e.element({...f.positioner.attrs,dir:t.context.dir,id:l.getPositionerId(t.context),style:G.floating})},getInputProps(){return e.input({...f.input.attrs,dir:t.context.dir,"aria-invalid":j(g),"data-invalid":p(g),name:t.context.name,form:t.context.form,disabled:s,autoFocus:t.context.autoFocus,required:t.context.required,autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",readOnly:N,placeholder:t.context.placeholder,id:l.getInputId(t.context),type:"text",role:"combobox",defaultValue:t.context.inputValue,"aria-autocomplete":t.context.autoComplete?"both":"list","aria-controls":l.getContentId(t.context),"aria-expanded":m,"data-state":m?"open":"closed","aria-activedescendant":R?l.getItemId(t.context,R):void 0,onClick(r){r.defaultPrevented||t.context.openOnClick&&a&&o("INPUT.CLICK")},onFocus(){s||o("INPUT.FOCUS")},onBlur(){s||o("INPUT.BLUR")},onChange(r){o({type:"INPUT.CHANGE",value:r.currentTarget.value})},onKeyDown(r){if(r.defaultPrevented||!a||r.ctrlKey||r.shiftKey||be(r))return;const u=t.context.openOnKeyPress,C=r.ctrlKey||r.metaKey||r.shiftKey,I=!0,F={ArrowDown(S){!u&&!m||(o({type:S.altKey?"OPEN":"INPUT.ARROW_DOWN",keypress:I}),S.preventDefault())},ArrowUp(){!u&&!m||(o({type:r.altKey?"CLOSE":"INPUT.ARROW_UP",keypress:I}),r.preventDefault())},Home(S){C||(o({type:"INPUT.HOME",keypress:I}),m&&S.preventDefault())},End(S){C||(o({type:"INPUT.END",keypress:I}),m&&S.preventDefault())},Enter(S){o({type:"INPUT.ENTER",keypress:I}),m&&S.preventDefault();const de=l.getHighlightedItemEl(t.context);Ae(de)},Escape(){o({type:"INPUT.ESCAPE",keypress:I}),r.preventDefault()}},ce=$(r,t.context),D=F[ce];D==null||D(r)}})},getTriggerProps(r={}){return e.button({...f.trigger.attrs,dir:t.context.dir,id:l.getTriggerId(t.context),"aria-haspopup":L?"listbox":"dialog",type:"button",tabIndex:r.focusable?void 0:-1,"aria-label":n.triggerLabel,"aria-expanded":m,"data-state":m?"open":"closed","aria-controls":m?l.getContentId(t.context):void 0,disabled:s,"data-invalid":p(g),"data-focusable":p(r.focusable),"data-readonly":p(N),"data-disabled":p(s),onFocus(){r.focusable&&o({type:"INPUT.FOCUS",src:"trigger"})},onClick(u){u.defaultPrevented||a&&ke(u)&&o("TRIGGER.CLICK")},onPointerDown(u){a&&u.pointerType!=="touch"&&(u.preventDefault(),queueMicrotask(()=>{var C;(C=l.getInputEl(t.context))==null||C.focus({preventScroll:!0})}))},onKeyDown(u){if(u.defaultPrevented||L)return;const C={ArrowDown(){o({type:"INPUT.ARROW_DOWN",src:"trigger"})},ArrowUp(){o({type:"INPUT.ARROW_UP",src:"trigger"})}},I=$(u,t.context),F=C[I];F&&(F(u),u.preventDefault())}})},getContentProps(){return e.element({...f.content.attrs,dir:t.context.dir,id:l.getContentId(t.context),role:L?"listbox":"dialog",tabIndex:-1,hidden:!m,"data-state":m?"open":"closed","data-placement":t.context.currentPlacement,"aria-labelledby":l.getLabelId(t.context),"aria-multiselectable":t.context.multiple&&L?!0:void 0,onPointerDown(r){r.preventDefault()}})},getListProps(){return e.element({...f.list.attrs,role:L?void 0:"listbox","aria-labelledby":l.getLabelId(t.context),"aria-multiselectable":t.context.multiple&&!L?!0:void 0})},getClearTriggerProps(){return e.button({...f.clearTrigger.attrs,dir:t.context.dir,id:l.getClearTriggerId(t.context),type:"button",tabIndex:-1,disabled:s,"data-invalid":p(g),"aria-label":n.clearTriggerLabel,"aria-controls":l.getInputId(t.context),hidden:!t.context.value.length,onPointerDown(r){r.preventDefault()},onClick(r){r.defaultPrevented||a&&o({type:"VALUE.CLEAR",src:"clear-trigger"})}})},getItemState:x,getItemProps(r){const u=x(r),C=u.value;return e.element({...f.item.attrs,dir:t.context.dir,id:l.getItemId(t.context,C),role:"option",tabIndex:-1,"data-highlighted":p(u.highlighted),"data-state":u.selected?"checked":"unchecked","aria-selected":j(u.highlighted),"aria-disabled":j(u.disabled),"data-disabled":p(u.disabled),"data-value":u.value,onPointerMove(){u.disabled||u.highlighted||o({type:"ITEM.POINTER_MOVE",value:C})},onPointerLeave(){r.persistFocus||u.disabled||!t.previousEvent.type.includes("POINTER")||o({type:"ITEM.POINTER_LEAVE",value:C})},onClick(I){ve(I)||Oe(I)||Fe(I)||u.disabled||o({type:"ITEM.CLICK",src:"click",value:C})}})},getItemTextProps(r){const u=x(r);return e.element({...f.itemText.attrs,dir:t.context.dir,"data-state":u.selected?"checked":"unchecked","data-disabled":p(u.disabled),"data-highlighted":p(u.highlighted)})},getItemIndicatorProps(r){const u=x(r);return e.element({"aria-hidden":!0,...f.itemIndicator.attrs,dir:t.context.dir,"data-state":u.selected?"checked":"unchecked",hidden:!u.selected})},getItemGroupProps(r){const{id:u}=r;return e.element({...f.itemGroup.attrs,dir:t.context.dir,id:l.getItemGroupId(t.context,u),"aria-labelledby":l.getItemGroupLabelId(t.context,u)})},getItemGroupLabelProps(r){const{htmlFor:u}=r;return e.element({...f.itemGroupLabel.attrs,dir:t.context.dir,id:l.getItemGroupLabelId(t.context,u),role:"group"})}}}var{and:b,not:k}=Ve;function Qe(t){const o=_e(t);return Ee({id:"combobox",initial:o.open?"suggesting":"idle",context:{loopFocus:!0,openOnClick:!1,value:[],highlightedValue:null,inputValue:"",allowCustomValue:!1,closeOnSelect:!o.multiple,inputBehavior:"none",selectionBehavior:"replace",openOnKeyPress:!0,openOnChange:!0,composite:!0,readOnly:!1,disabled:!1,...o,highlightedItem:null,selectedItems:[],valueAsString:"",collection:o.collection??B.empty(),positioning:{placement:"bottom",flip:!1,sameWidth:!0,...o.positioning},translations:{triggerLabel:"Toggle suggestions",clearTriggerLabel:"Clear value",...o.translations}},created:["syncInitialValues","syncSelectionBehavior"],computed:{isInputValueEmpty:e=>e.inputValue.length===0,isInteractive:e=>!(e.readOnly||e.disabled),autoComplete:e=>e.inputBehavior==="autocomplete",autoHighlight:e=>e.inputBehavior==="autohighlight",hasSelectedItems:e=>e.value.length>0},watch:{value:["syncSelectedItems"],inputValue:["syncInputValue"],highlightedValue:["syncHighlightedItem","autofillInputValue"],multiple:["syncSelectionBehavior"],open:["toggleVisibility"]},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"INPUT_VALUE.SET":{actions:"setInputValue"},"COLLECTION.SET":{actions:["setCollection"]},"POSITIONING.SET":{actions:["reposition"]}},states:{idle:{tags:["idle","closed"],entry:["scrollContentToTop","clearHighlightedItem"],on:{"CONTROLLED.OPEN":{target:"interacting"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{target:"focused",actions:["clearInputValue","clearSelectedItems","setInitialFocus"]}}},focused:{tags:["focused","closed"],entry:["scrollContentToTop","clearHighlightedItem"],on:{"CONTROLLED.OPEN":[{guard:"isChangeEvent",target:"suggesting"},{target:"interacting"}],"INPUT.CHANGE":[{guard:b("isOpenControlled","openOnChange"),actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{guard:"openOnChange",target:"suggesting",actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{actions:"setInputValue"}],"LAYER.INTERACT_OUTSIDE":{target:"idle"},"INPUT.ESCAPE":{guard:b("isCustomValue",k("allowCustomValue")),actions:"revertInputValue"},"INPUT.BLUR":{target:"idle"},"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_DOWN":[{guard:b("isOpenControlled","autoComplete"),actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"isOpenControlled",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_UP":[{guard:"autoComplete",target:"interacting",actions:"invokeOnOpen"},{guard:"autoComplete",target:"interacting",actions:"invokeOnOpen"},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{actions:["clearInputValue","clearSelectedItems"]}}},interacting:{tags:["open","focused"],entry:["setInitialFocus"],activities:["scrollToHighlightedItem","trackDismissableLayer","computePlacement","hideOtherElements"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],"INPUT.HOME":{actions:["highlightFirstItem"]},"INPUT.END":{actions:["highlightLastItem"]},"INPUT.ARROW_DOWN":[{guard:b("autoComplete","isLastItemHighlighted"),actions:["clearHighlightedItem","scrollContentToTop"]},{actions:["highlightNextItem"]}],"INPUT.ARROW_UP":[{guard:b("autoComplete","isFirstItemHighlighted"),actions:"clearHighlightedItem"},{actions:"highlightPrevItem"}],"INPUT.ENTER":[{guard:b("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":[{guard:"autoComplete",target:"suggesting",actions:["setInputValue","invokeOnOpen"]},{target:"suggesting",actions:["clearHighlightedItem","setInputValue","invokeOnOpen"]}],"ITEM.POINTER_MOVE":{actions:["setHighlightedItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"ITEM.CLICK":[{guard:b("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],"LAYER.ESCAPE":[{guard:b("isOpenControlled","autoComplete"),actions:["syncInputValue","invokeOnClose"]},{guard:"autoComplete",target:"focused",actions:["syncInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"focused",actions:"invokeOnClose"}],"LAYER.INTERACT_OUTSIDE":[{guard:b("isOpenControlled","isCustomValue",k("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:b("isCustomValue",k("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"idle",actions:"invokeOnClose"}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}},suggesting:{tags:["open","focused"],activities:["trackDismissableLayer","scrollToHighlightedItem","computePlacement","trackChildNodes","hideOtherElements"],entry:["setInitialFocus"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:{actions:["highlightFirstItem"]},"INPUT.ARROW_DOWN":{target:"interacting",actions:["highlightNextItem"]},"INPUT.ARROW_UP":{target:"interacting",actions:["highlightPrevItem"]},"INPUT.HOME":{target:"interacting",actions:["highlightFirstItem"]},"INPUT.END":{target:"interacting",actions:["highlightLastItem"]},"INPUT.ENTER":[{guard:b("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":[{guard:"autoHighlight",actions:["setInputValue"]},{actions:["setInputValue"]}],"LAYER.ESCAPE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.POINTER_MOVE":{target:"interacting",actions:["setHighlightedItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"LAYER.INTERACT_OUTSIDE":[{guard:b("isOpenControlled","isCustomValue",k("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:b("isCustomValue",k("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.CLICK":[{guard:b("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}}}},{guards:{isInputValueEmpty:e=>e.isInputValueEmpty,autoComplete:e=>e.autoComplete&&!e.multiple,autoHighlight:e=>e.autoHighlight,isFirstItemHighlighted:e=>e.collection.firstValue===e.highlightedValue,isLastItemHighlighted:e=>e.collection.lastValue===e.highlightedValue,isCustomValue:e=>e.inputValue!==e.valueAsString,allowCustomValue:e=>!!e.allowCustomValue,hasHighlightedItem:e=>e.highlightedValue!=null,closeOnSelect:e=>!!e.closeOnSelect,isOpenControlled:e=>!!e["open.controlled"],openOnChange:(e,n)=>{var i;return Ge(e.openOnChange)?e.openOnChange:!!((i=e.openOnChange)!=null&&i.call(e,{inputValue:n.value}))},restoreFocus:(e,n)=>n.restoreFocus==null?!0:!!n.restoreFocus,isChangeEvent:(e,n)=>{var i;return((i=n.previousEvent)==null?void 0:i.type)==="INPUT.CHANGE"}},activities:{trackDismissableLayer(e,n,{send:i}){return e.disableLayer?void 0:He(()=>l.getContentEl(e),{defer:!0,exclude:()=>[l.getInputEl(e),l.getTriggerEl(e),l.getClearTriggerEl(e)],onFocusOutside:e.onFocusOutside,onPointerDownOutside:e.onPointerDownOutside,onInteractOutside:e.onInteractOutside,onEscapeKeyDown(a){a.preventDefault(),a.stopPropagation(),i("LAYER.ESCAPE")},onDismiss(){i({type:"LAYER.INTERACT_OUTSIDE",restoreFocus:!1})}})},hideOtherElements(e){return Ue([l.getInputEl(e),l.getContentEl(e),l.getTriggerEl(e)])},computePlacement(e){const n=()=>l.getControlEl(e),i=()=>l.getPositionerEl(e);return e.currentPlacement=e.positioning.placement,W(n,i,{...e.positioning,defer:!0,onComplete(s){e.currentPlacement=s.placement}})},trackChildNodes(e,n,{send:i}){return e.autoHighlight?Pe(()=>l.getContentEl(e),{callback:()=>i("CHILDREN_CHANGE"),defer:!0}):void 0},scrollToHighlightedItem(e,n,{getState:i}){const s=l.getInputEl(e);let a=[];const g=y=>{if(i().event.type.includes("POINTER")||!e.highlightedValue)return;const G=l.getHighlightedItemEl(e),x=l.getContentEl(e);if(e.scrollToIndexFn){const u=e.collection.indexOf(e.highlightedValue);e.scrollToIndexFn({index:u,immediate:y});return}const r=P(()=>{Ne(G,{rootEl:x,block:"nearest"})});a.push(r)},N=P(()=>g(!0));a.push(N);const m=Te(s,{attributes:["aria-activedescendant"],callback:()=>g(!1)});return a.push(m),()=>{a.forEach(y=>y())}}},actions:{reposition(e,n){W(()=>l.getControlEl(e),()=>l.getPositionerEl(e),{...e.positioning,...n.options,defer:!0,listeners:!1,onComplete(a){e.currentPlacement=a.placement}})},setHighlightedItem(e,n){n.value!=null&&h.highlightedValue(e,n.value)},clearHighlightedItem(e){h.highlightedValue(e,null,!0)},selectHighlightedItem(e){h.value(e,e.highlightedValue)},selectItem(e,n){n.value!=null&&h.value(e,n.value)},clearItem(e,n){if(n.value==null)return;const i=e.value.filter(s=>s!==n.value);h.value(e,i)},setInitialFocus(e){P(()=>{l.focusInputEl(e)})},setFinalFocus(e){P(()=>{const n=l.getTriggerEl(e);(n==null?void 0:n.dataset.focusable)==null?l.focusInputEl(e):l.focusTriggerEl(e)})},syncInputValue(e){const n=l.getInputEl(e);n&&(n.value=e.inputValue,queueMicrotask(()=>{const{selectionStart:i,selectionEnd:s}=n;Math.abs((s??0)-(i??0))===0&&i===0&&n.setSelectionRange(n.value.length,n.value.length)}))},setInputValue(e,n){h.inputValue(e,n.value)},clearInputValue(e){h.inputValue(e,"")},revertInputValue(e){const n=K(e.selectionBehavior,{replace:e.hasSelectedItems?e.valueAsString:"",preserve:e.inputValue,clear:""});h.inputValue(e,n)},syncInitialValues(e){const n=e.collection.findMany(e.value),i=e.collection.stringifyMany(e.value);e.highlightedItem=e.collection.find(e.highlightedValue),e.selectedItems=n,e.valueAsString=i,!(e.inputValue.trim()||e.multiple)&&(e.inputValue=K(e.selectionBehavior,{preserve:e.inputValue||i,replace:i,clear:""}))},syncSelectionBehavior(e){e.multiple&&(e.selectionBehavior="clear")},setSelectedItems(e,n){Q(n.value)&&h.value(e,n.value)},clearSelectedItems(e){h.value(e,[])},scrollContentToTop(e){if(e.scrollToIndexFn)e.scrollToIndexFn({index:0,immediate:!0});else{const n=l.getContentEl(e);if(!n)return;n.scrollTop=0}},invokeOnOpen(e){var n;(n=e.onOpenChange)==null||n.call(e,{open:!0})},invokeOnClose(e){var n;(n=e.onOpenChange)==null||n.call(e,{open:!1})},highlightFirstItem(e){P(()=>{const n=e.collection.firstValue;h.highlightedValue(e,n)})},highlightFirstItemIfNeeded(e){e.autoHighlight&&P(()=>{const n=e.collection.firstValue;h.highlightedValue(e,n)})},highlightLastItem(e){P(()=>{const n=e.collection.lastValue;h.highlightedValue(e,n)})},highlightNextItem(e){let n=null;e.highlightedValue?(n=e.collection.getNextValue(e.highlightedValue),!n&&e.loopFocus&&(n=e.collection.firstValue)):n=e.collection.firstValue,h.highlightedValue(e,n)},highlightPrevItem(e){let n=null;e.highlightedValue?(n=e.collection.getPreviousValue(e.highlightedValue),!n&&e.loopFocus&&(n=e.collection.lastValue)):n=e.collection.lastValue,h.highlightedValue(e,n)},highlightFirstSelectedItem(e){P(()=>{const[n]=e.collection.sort(e.value);h.highlightedValue(e,n)})},highlightFirstOrSelectedItem(e){P(()=>{let n=null;e.hasSelectedItems?n=e.collection.sort(e.value)[0]:n=e.collection.firstValue,h.highlightedValue(e,n)})},highlightLastOrSelectedItem(e){P(()=>{let n=null;e.hasSelectedItems?n=e.collection.sort(e.value)[0]:n=e.collection.lastValue,h.highlightedValue(e,n)})},autofillInputValue(e,n){const i=l.getInputEl(e);if(!e.autoComplete||!i||!n.keypress)return;const s=e.collection.stringify(e.highlightedValue);P(()=>{i.value=s||e.inputValue})},setCollection(e,n){e.collection=n.value},syncSelectedItems(e){U.valueChange(e)},syncHighlightedItem(e){U.highlightChange(e)},toggleVisibility(e,n,{send:i}){i({type:e.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})}}})}var U={valueChange:t=>{const o=t.selectedItems;t.selectedItems=t.value.map(i=>{const s=o.find(a=>t.collection.getItemValue(a)===i);return s||t.collection.find(i)});const e=t.collection.stringifyItems(t.selectedItems);t.valueAsString=e;let n;t.getSelectionValue?n=t.getSelectionValue({inputValue:t.inputValue,selectedItems:Array.from(t.selectedItems),valueAsString:e}):n=K(t.selectionBehavior,{replace:t.valueAsString,preserve:t.inputValue,clear:""}),h.inputValue(t,n)},highlightChange:t=>{t.highlightedItem=t.collection.find(t.highlightedValue)}},w={valueChange:t=>{var o;U.valueChange(t),(o=t.onValueChange)==null||o.call(t,{value:Array.from(t.value),items:Array.from(t.selectedItems)})},highlightChange:t=>{var o;U.highlightChange(t),(o=t.onHighlightChange)==null||o.call(t,{highlightedValue:t.highlightedValue,highlightedItem:t.highlightedItem})},inputChange:t=>{var o;(o=t.onInputValueChange)==null||o.call(t,{inputValue:t.inputValue})}},h={value:(t,o,e=!1)=>{if(!M(t.value,o)&&!(o==null&&!e)){if(o==null&&e){t.value=[],w.valueChange(t);return}Q(o)?t.value=o:o!=null&&(t.value=t.multiple?De(t.value,o):[o]),w.valueChange(t)}},highlightedValue:(t,o,e=!1)=>{M(t.highlightedValue,o)||!o&&!e||(t.highlightedValue=o||null,w.highlightChange(t))},inputValue:(t,o)=>{M(t.inputValue,o)||(t.inputValue=o,w.inputChange(t))}};const Xe=t=>{const[o,e]=_()(t,["isItemDisabled","itemToValue","itemToString","items"]),n=d.useMemo(()=>B(o),Object.values(o)),{dir:i}=je(),{getRootNode:s}=Me(),a=X(),g={id:d.useId(),ids:{label:a==null?void 0:a.ids.label,input:a==null?void 0:a.ids.control},disabled:a==null?void 0:a.disabled,readOnly:a==null?void 0:a.readOnly,required:a==null?void 0:a.required,invalid:a==null?void 0:a.invalid,dir:i,getRootNode:s,collection:n,open:t.defaultOpen,value:t.defaultValue,"open.controlled":t.open!==void 0,...e},N={...g,collection:n,value:t.value,onValueChange:A(t.onValueChange,{sync:!0}),onInputValueChange:A(t.onInputValueChange,{sync:!0}),onHighlightChange:A(t.onHighlightChange),onOpenChange:A(t.onOpenChange)},[m,y]=ye(Qe(g),{context:N});return Je(m,y,Le)},Ze=(t,o)=>{const[e,n]=Se(t),[i,s]=_()(n,["allowCustomValue","autoFocus","closeOnSelect","composite","defaultOpen","defaultValue","disabled","disableLayer","form","getSelectionValue","highlightedValue","id","ids","inputBehavior","inputValue","invalid","isItemDisabled","items","itemToString","itemToValue","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInputValueChange","onInteractOutside","onOpenChange","onOpenChange","onPointerDownOutside","onValueChange","open","openOnChange","openOnClick","openOnKeyPress","placeholder","positioning","readOnly","required","scrollToIndexFn","selectionBehavior","translations","value"]),a=Xe(i),g=xe(v({present:a.open},e)),N=v(a.getRootProps(),s);return c.jsx(Ke,{value:a,children:c.jsx(Re,{value:g,children:c.jsx(E.div,{...N,ref:o})})})},ze=d.forwardRef(Ze),ue=d.forwardRef((t,o)=>{const e=T(),n=v(e.getTriggerProps(),t);return c.jsx(E.button,{...n,ref:o})});ue.displayName="ComboboxTrigger";const et=ge({base:`${me.scope} combobox`,slots:{root:"trds-flex trds-flex-col trds-gap-1.5 trds-w-full",control:"trds-relative",trigger:"trds-absolute trds-bottom-0 trds-right-0 trds-top-0 trds-text-muted trds-cursor-pointer",clearTrigger:"trds-absolute trds-bottom-0 trds-right-8 trds-top-0 trds-text-muted trds-cursor-pointer",input:"trds-w-full",content:"trds-bg-white trds-rounded-lg trds-shadow-lg trds-flex trds-flex-col trds-z-dropdown data-hidden:trds-hidden data-open:trds-animate-fade-in data-closed:trds-animate-fade-out focus-visible:trds-outline-2 focus-visible:trds-outline-solid focus-visible:trds-outline-boundary focus-visible:trds-outline-offset-2",item:"trds-flex trds-items-center trds-justify-between trds-rounded-md trds-cursor-pointer trds-transition-fast trds-transition-[background,color] trds-ease-default hover:trds-bg-layer1 data-highlighted:trds-bg-layer1 disabled:trds-text-muted disabled:trds-cursor-not-allowed disabled:hover:trds-bg-transparent disabled:hover:trds-text-muted",itemGroupLabel:"trds-font-semibold trds-text-sm",itemIndicator:"trds-text-black",itemText:"",itemGroup:"",positioner:""},variants:{size:{sm:{content:"trds-p-0.5 trds-gap-1",item:"trds-text-sm trds-px-2 trds-h-9",itemIndicator:"[&_:where(svg)]:trds-w-4 [&_:where(svg)]:trds-h-4",itemGroupLabel:"trds-px-2 trds-py-1.5",label:"trds-text-sm",trigger:"trds-right-2.5"},md:{content:"trds-p-1 trds-gap-1",item:"trds-text-md trds-px-2 trds-h-10",itemIndicator:"[&_:where(svg)]:trds-w-4 [&_:where(svg)]:trds-h-4",itemGroupLabel:"trds-px-2 trds-py-1.5",label:"trds-text-sm",trigger:"trds-right-3"},lg:{content:"trds-p-1.5 trds-gap-1",item:"trds-text-md trds-px-2 trds-h-11",itemIndicator:"[&_:where(svg)]:trds-w-5 [&_:where(svg)]:trds-h-5",itemGroupLabel:"trds-px-2 trds-py-1.5",label:"trds-text-sm",trigger:"trds-right-3.5"}}},defaultVariants:{size:"md"}}),[tt,V]=pe({name:"combobox",hookName:"useComboboxContext",providerName:"ComboboxProvider",defaultValue:{classes:{},size:"md"}}),ot=d.forwardRef(function(t,o){const{size:e,className:n,children:i,...s}=t,a=et({size:e}),g={classes:a,size:e};return c.jsx(tt,{value:g,children:c.jsx(ze,{ref:o,className:O(a.root(),n),...s,children:i})})}),nt=d.forwardRef(function(t,o){const{className:e,children:n,...i}=t,{classes:s}=V();return c.jsx(ee,{className:O(s.control(),e),ref:o,...i,children:n})}),it=d.forwardRef(function(t,o){const{className:e,children:n,...i}=t,{classes:s}=V();return c.jsx(z,{className:O(s.content(),e),ref:o,...i,children:n})}),rt=d.forwardRef(function(t,o){const{className:e,children:n,...i}=t,{classes:s}=V();return c.jsx(te,{className:O(s.input(),e),ref:o,...i,children:n})}),lt=d.forwardRef(function(t,o){const{className:e,children:n,...i}=t,{classes:s}=V();return c.jsx(ae,{className:O(s.positioner(),e),ref:o,...i,children:n})}),st=d.forwardRef(function(t,o){const{className:e,children:n,...i}=t,{classes:s}=V();return c.jsx(ue,{className:O(s.trigger(),e),ref:o,...i,children:n})}),at=d.forwardRef(function(t,o){const{className:e,children:n,...i}=t,{classes:s}=V();return c.jsx(Z,{className:O(s.clearTrigger(),e),ref:o,...i,children:n})}),ut=d.forwardRef(function(t,o){const{className:e,children:n,...i}=t,{classes:s}=V();return c.jsx(re,{className:O(s.itemGroupLabel(),e),ref:o,...i,children:n})}),ct=d.forwardRef(function(t,o){const{className:e,children:n,...i}=t,{classes:s}=V();return c.jsx(ie,{className:O(s.itemGroup(),e),ref:o,...i,children:n})}),dt=d.forwardRef(function(t,o){const{className:e,children:n,...i}=t,{classes:s}=V();return c.jsx(se,{className:O(s.itemText(),e),ref:o,...i,children:n})}),gt=d.forwardRef(function(t,o){const{className:e,children:n,...i}=t,{size:s,classes:a}=V();return c.jsx(le,{className:O(a.itemIndicator(),e),ref:o,...i,children:n??c.jsx(he,{size:pt(s)})})}),mt=d.forwardRef(function(t,o){const{className:e,children:n,...i}=t,{classes:s}=V();return c.jsx(ne,{className:O(s.item(),e),ref:o,...i,children:n})}),pt=t=>t==="sm"?16:t==="md"?20:t==="lg"?24:20;ot.__docgenInfo={description:"",methods:[],displayName:"Root"};mt.__docgenInfo={description:"",methods:[],displayName:"Item"};ct.__docgenInfo={description:"",methods:[],displayName:"ItemGroup"};ut.__docgenInfo={description:"",methods:[],displayName:"ItemGroupLabel"};dt.__docgenInfo={description:"",methods:[],displayName:"ItemText"};gt.__docgenInfo={description:"",methods:[],displayName:"ItemIndicator"};lt.__docgenInfo={description:"",methods:[],displayName:"Positioner"};nt.__docgenInfo={description:"",methods:[],displayName:"Control"};it.__docgenInfo={description:"",methods:[],displayName:"Content"};st.__docgenInfo={description:"",methods:[],displayName:"Trigger"};rt.__docgenInfo={description:"",methods:[],displayName:"Input"};at.__docgenInfo={description:"",methods:[],displayName:"ClearTrigger"};export{it as C,mt as I,lt as P,ot as R,st as T,ct as a,ut as b,dt as c,gt as d,nt as e,rt as f,at as g};
