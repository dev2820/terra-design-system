import{j as u}from"./jsx-runtime-qGIIFXMu.js";import{I as se,c as B}from"./index-CO00fS6N.js";import{r as C}from"./index-CDs2tPxN.js";import{s as ae}from"./sva-qXmx1AZm.js";import{c as ce}from"./create-react-context-Dw26gLIP.js";import{V as Y,W as le,j as de,c as pe,y as k,z as A,k as ge,l as ue,X as fe,m as Oe,o as Pe,Y as me,D as Ee,p as ve,s as Te,B as ye,F as Ce}from"./factory-BCwUXDVF.js";import{c as we,b as he}from"./index-Dquv0SIZ.js";import{c as Ie}from"./index-DJ3ti8gJ.js";import{a as U,u as Ne,P as be}from"./use-presence-zw3amx30.js";import{s as Le}from"./split-presence-props-DcTE3k_W.js";import{g as ke,a as K}from"./index-DDey0k43.js";import{a as $}from"./index-qa1jsk-d.js";import{u as Se,a as Re}from"./use-locale-context-0tfyuFre.js";import{u as Ae}from"./use-event-eGuf5zsd.js";function _e(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function X(e,o){const t=_e();return t?(t[e]||(t[e]=o()),t[e]):o()}var x=e=>typeof e=="object"&&e!==null,L=X("__zag__proxyStateMap",()=>new WeakMap),j=X("__zag__refSet",()=>new WeakSet),De=(e=Object.is,o=(i,d)=>new Proxy(i,d),t=i=>x(i)&&!j.has(i)&&(Array.isArray(i)||!(Symbol.iterator in i))&&!(i instanceof WeakMap)&&!(i instanceof WeakSet)&&!(i instanceof Error)&&!(i instanceof Number)&&!(i instanceof Date)&&!(i instanceof String)&&!(i instanceof RegExp)&&!(i instanceof ArrayBuffer),r=i=>{switch(i.status){case"fulfilled":return i.value;case"rejected":throw i.reason;default:throw i}},n=new WeakMap,c=(i,d,w=r)=>{const E=n.get(i);if((E==null?void 0:E[0])===d)return E[1];const O=Array.isArray(i)?[]:Object.create(Object.getPrototypeOf(i));return Y(O,!0),n.set(i,[d,O]),Reflect.ownKeys(i).forEach(h=>{const v=Reflect.get(i,h);j.has(v)?(Y(v,!1),O[h]=v):v instanceof Promise?Object.defineProperty(O,h,{get(){return w(v)}}):L.has(v)?O[h]=je(v,w):O[h]=v}),Object.freeze(O)},f=new WeakMap,m=[1,1],g=i=>{if(!x(i))throw new Error("object required");const d=f.get(i);if(d)return d;let w=m[0];const E=new Set,O=(l,s=++m[0])=>{w!==s&&(w=s,E.forEach(a=>a(l,s)))};let h=m[1];const v=(l=++m[1])=>(h!==l&&!E.size&&(h=l,T.forEach(([s])=>{const a=s[1](l);a>w&&(w=a)})),w),G=l=>(s,a)=>{const P=[...s];P[1]=[l,...P[1]],O(P,a)},T=new Map,re=(l,s)=>{if(E.size){const a=s[3](G(l));T.set(l,[s,a])}else T.set(l,[s])},z=l=>{var a;const s=T.get(l);s&&(T.delete(l),(a=s[1])==null||a.call(s))},ne=l=>(E.add(l),E.size===1&&T.forEach(([a,P],b)=>{const S=a[3](G(b));T.set(b,[a,S])}),()=>{E.delete(l),E.size===0&&T.forEach(([a,P],b)=>{P&&(P(),T.set(b,[a]))})}),V=Array.isArray(i)?[]:Object.create(Object.getPrototypeOf(i)),D=o(V,{deleteProperty(l,s){const a=Reflect.get(l,s);z(s);const P=Reflect.deleteProperty(l,s);return P&&O(["delete",[s],a]),P},set(l,s,a,P){var F;const b=Reflect.has(l,s),S=Reflect.get(l,s,P);if(b&&(e(S,a)||f.has(a)&&e(S,f.get(a))))return!0;z(s),x(a)&&(a=le(a)||a);let M=a;if(!((F=Object.getOwnPropertyDescriptor(l,s))!=null&&F.set))if(a instanceof Promise)a.then(I=>{Object.assign(a,{status:"fulfilled",value:I}),O(["resolve",[s],I])}).catch(I=>{Object.assign(a,{status:"rejected",reason:I}),O(["reject",[s],I])});else{!L.has(a)&&t(a)&&(M=J(a));const I=!j.has(M)&&L.get(M);I&&re(s,I)}return Reflect.set(l,s,M,P),O(["set",[s],a,S]),!0}});f.set(i,D);const ie=[V,v,c,ne];return L.set(D,ie),Reflect.ownKeys(i).forEach(l=>{const s=Object.getOwnPropertyDescriptor(i,l);s.get||s.set?Object.defineProperty(V,l,s):D[l]=i[l]}),D})=>[g,L,j,e,o,t,r,n,c,f,m],[Me]=De();function J(e={}){return Me(e)}function je(e,o){const t=L.get(e),[r,n,c]=t;return c(r,n(),o)}var Q=de("tooltip").parts("trigger","arrow","arrowTip","positioner","content");Q.build();var N=we({getTriggerId:e=>{var o;return((o=e.ids)==null?void 0:o.trigger)??`tooltip:${e.id}:trigger`},getContentId:e=>{var o;return((o=e.ids)==null?void 0:o.content)??`tooltip:${e.id}:content`},getArrowId:e=>{var o;return((o=e.ids)==null?void 0:o.arrow)??`tooltip:${e.id}:arrow`},getPositionerId:e=>{var o;return((o=e.ids)==null?void 0:o.positioner)??`tooltip:${e.id}:popper`},getTriggerEl:e=>N.getById(e,N.getTriggerId(e)),getContentEl:e=>N.getById(e,N.getContentId(e)),getPositionerEl:e=>N.getById(e,N.getPositionerId(e)),getArrowEl:e=>N.getById(e,N.getArrowId(e))});J({id:null,prevId:null,setId(e){this.prevId=this.id,this.id=e}});Ie()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","open.controlled","open","openDelay","positioning"]);const[Ve,_]=pe({name:"TooltipContext",hookName:"useTooltipContext",providerName:"<TooltipProvider />"}),Z=C.forwardRef((e,o)=>{const t=_(),r=k(t.getArrowProps(),e);return u.jsx(A.div,{...r,ref:o})});Z.displayName="TooltipArrow";const H=C.forwardRef((e,o)=>{const t=_(),r=k(t.getArrowTipProps(),e);return u.jsx(A.div,{...r,ref:o})});H.displayName="TooltipArrowTip";const ee=C.forwardRef((e,o)=>{const t=_(),r=U(),n=k(t.getContentProps(),r.getPresenceProps(o),e);return r.unmounted?null:u.jsx(A.div,{...n})});ee.displayName="TooltipContent";const te=C.forwardRef((e,o)=>{const t=_(),r=k(t.getPositionerProps(),e);return U().unmounted?null:u.jsx(A.div,{...r,ref:o})});te.displayName="TooltipPositioner";var $e=ge("tooltip").parts("trigger","arrow","arrowTip","positioner","content"),R=$e.build(),p=ue({getTriggerId:e=>{var o;return((o=e.ids)==null?void 0:o.trigger)??`tooltip:${e.id}:trigger`},getContentId:e=>{var o;return((o=e.ids)==null?void 0:o.content)??`tooltip:${e.id}:content`},getArrowId:e=>{var o;return((o=e.ids)==null?void 0:o.arrow)??`tooltip:${e.id}:arrow`},getPositionerId:e=>{var o;return((o=e.ids)==null?void 0:o.positioner)??`tooltip:${e.id}:popper`},getTriggerEl:e=>p.getById(e,p.getTriggerId(e)),getContentEl:e=>p.getById(e,p.getContentId(e)),getPositionerEl:e=>p.getById(e,p.getPositionerId(e)),getArrowEl:e=>p.getById(e,p.getArrowId(e))}),y=fe({id:null,prevId:null,setId(e){this.prevId=this.id,this.id=e}});function xe(e,o,t){const r=e.context.id,n=e.context.hasAriaLabel,c=e.hasTag("open"),f=p.getTriggerId(e.context),m=p.getContentId(e.context),g=e.context.disabled,i=ke({...e.context.positioning,placement:e.context.currentPlacement});return{open:c,setOpen(d){d!==c&&o(d?"OPEN":"CLOSE")},reposition(d={}){o({type:"POSITIONING.SET",options:d})},getTriggerProps(){return t.button({...R.trigger.attrs,id:f,dir:e.context.dir,"data-expanded":Oe(c),"data-state":c?"open":"closed","aria-describedby":c?m:void 0,onClick(d){d.defaultPrevented||g||e.context.closeOnClick&&o({type:"CLOSE",src:"trigger.click"})},onFocus(d){d.defaultPrevented||g||e.event.src!=="trigger.pointerdown"&&o({type:"OPEN",src:"trigger.focus"})},onBlur(d){d.defaultPrevented||g||r===y.id&&o({type:"CLOSE",src:"trigger.blur"})},onPointerDown(d){d.defaultPrevented||g||e.context.closeOnPointerDown&&r===y.id&&o({type:"CLOSE",src:"trigger.pointerdown"})},onPointerMove(d){d.defaultPrevented||g||d.pointerType!=="touch"&&o("POINTER_MOVE")},onPointerLeave(){g||o("POINTER_LEAVE")},onPointerCancel(){g||o("POINTER_LEAVE")}})},getArrowProps(){return t.element({id:p.getArrowId(e.context),...R.arrow.attrs,dir:e.context.dir,style:i.arrow})},getArrowTipProps(){return t.element({...R.arrowTip.attrs,dir:e.context.dir,style:i.arrowTip})},getPositionerProps(){return t.element({id:p.getPositionerId(e.context),...R.positioner.attrs,dir:e.context.dir,style:i.floating})},getContentProps(){return t.element({...R.content.attrs,dir:e.context.dir,hidden:!c,"data-state":c?"open":"closed",role:n?void 0:"tooltip",id:n?void 0:m,"data-placement":e.context.currentPlacement,onPointerEnter(){o("CONTENT.POINTER_MOVE")},onPointerLeave(){o("CONTENT.POINTER_LEAVE")},style:{pointerEvents:e.context.interactive?"auto":"none"}})}}}var{and:Be,not:q}=Te;function We(e){const o=he(e);return Pe({id:"tooltip",initial:o.open?"open":"closed",context:{openDelay:1e3,closeDelay:500,closeOnPointerDown:!0,closeOnEscape:!0,interactive:!1,closeOnScroll:!0,closeOnClick:!0,...o,currentPlacement:void 0,hasPointerMoveOpened:!1,positioning:{placement:"bottom",...o.positioning}},computed:{hasAriaLabel:t=>!!t["aria-label"]},watch:{disabled:["closeIfDisabled"],open:["toggleVisibility"]},states:{closed:{tags:["closed"],entry:["clearGlobalId"],on:{"CONTROLLED.OPEN":"open",OPEN:{target:"open",actions:["invokeOnOpen"]},POINTER_LEAVE:{actions:["clearPointerMoveOpened"]},POINTER_MOVE:[{guard:Be("noVisibleTooltip",q("hasPointerMoveOpened")),target:"opening"},{guard:q("hasPointerMoveOpened"),target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}]}},opening:{tags:["closed"],activities:["trackScroll","trackPointerlockChange"],after:{OPEN_DELAY:[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}]},on:{"CONTROLLED.OPEN":"open","CONTROLLED.CLOSE":"closed",OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],POINTER_LEAVE:[{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],CLOSE:{target:"closed",actions:["invokeOnClose"]}}},open:{tags:["open"],activities:["trackEscapeKey","trackScroll","trackPointerlockChange","trackPositioning"],entry:["setGlobalId"],on:{"CONTROLLED.CLOSE":"closed",CLOSE:{target:"closed",actions:["invokeOnClose"]},POINTER_LEAVE:[{guard:"isVisible",target:"closing",actions:["clearPointerMoveOpened"]},{guard:"isOpenControlled",actions:["clearPointerMoveOpened","invokeOnClose"]},{target:"closed",actions:["clearPointerMoveOpened","invokeOnClose"]}],"CONTENT.POINTER_LEAVE":{guard:"isInteractive",target:"closing"},"POSITIONING.SET":{actions:"reposition"}}},closing:{tags:["open"],activities:["trackStore","trackPositioning"],after:{CLOSE_DELAY:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}]},on:{"CONTROLLED.CLOSE":"closed","CONTROLLED.OPEN":"open",CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],POINTER_MOVE:[{guard:"isOpenControlled",actions:["setPointerMoveOpened","invokeOnOpen"]},{target:"open",actions:["setPointerMoveOpened","invokeOnOpen"]}],"CONTENT.POINTER_MOVE":{guard:"isInteractive",target:"open"},"POSITIONING.SET":{actions:"reposition"}}}}},{activities:{trackPositioning(t){t.currentPlacement=t.positioning.placement;const r=()=>p.getPositionerEl(t);return K(p.getTriggerEl(t),r,{...t.positioning,defer:!0,onComplete(n){t.currentPlacement=n.placement}})},trackPointerlockChange(t,r,{send:n}){const c=()=>n({type:"CLOSE",src:"pointerlock:change"});return $(p.getDoc(t),"pointerlockchange",c,!1)},trackScroll(t,r,{send:n}){if(!t.closeOnScroll)return;const c=p.getTriggerEl(t);if(!c)return;const m=me(c).map(g=>$(g,"scroll",()=>{n({type:"CLOSE",src:"scroll"})},{passive:!0,capture:!0}));return()=>{m.forEach(g=>g==null?void 0:g())}},trackStore(t,r,{send:n}){return Ee(y,()=>{y.id!==t.id&&n({type:"CLOSE",src:"id.change"})})},trackEscapeKey(t,r,{send:n}){if(!t.closeOnEscape)return;const c=p.getDoc(t);return $(c,"keydown",f=>{f.key==="Escape"&&n({type:"CLOSE",src:"keydown.escape"})})}},actions:{setGlobalId(t){y.setId(t.id)},clearGlobalId(t){t.id===y.id&&y.setId(null)},invokeOnOpen(t){var r;(r=t.onOpenChange)==null||r.call(t,{open:!0})},invokeOnClose(t){var r;(r=t.onOpenChange)==null||r.call(t,{open:!1})},closeIfDisabled(t,r,{send:n}){t.disabled&&n({type:"CLOSE",src:"disabled:change"})},reposition(t,r){const n=()=>p.getPositionerEl(t);K(p.getTriggerEl(t),n,{...t.positioning,...r.options,defer:!0,listeners:!1,onComplete(c){t.currentPlacement=c.placement}})},toggleVisibility(t,r,{send:n}){n({type:t.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:r})},setPointerMoveOpened(t){t.hasPointerMoveOpened=!0},clearPointerMoveOpened(t){t.hasPointerMoveOpened=!1}},guards:{noVisibleTooltip:()=>y.id===null,isVisible:t=>t.id===y.id,isInteractive:t=>t.interactive,hasPointerMoveOpened:t=>!!t.hasPointerMoveOpened,isOpenControlled:t=>!!t["open.controlled"]},delays:{OPEN_DELAY:t=>t.openDelay,CLOSE_DELAY:t=>t.closeDelay}})}ve()(["aria-label","closeDelay","closeOnEscape","closeOnPointerDown","closeOnScroll","closeOnClick","dir","disabled","getRootNode","id","ids","interactive","onOpenChange","open.controlled","open","openDelay","positioning"]);const Ge=e=>{const{getRootNode:o}=Se(),{dir:t}=Re(),r={id:C.useId(),dir:t,getRootNode:o,open:e.defaultOpen,"open.controlled":e.open!==void 0,...e},n={...r,onOpenChange:Ae(e.onOpenChange,{sync:!0})},[c,f]=ye(We(r),{context:n});return xe(c,f,Ce)},ze=e=>{const[o,{children:t,...r}]=Le(e),n=Ge(r),c=Ne(k({present:n.open},o));return u.jsx(Ve,{value:n,children:u.jsx(be,{value:c,children:t})})},oe=C.forwardRef((e,o)=>{const t=_(),r=k(t.getTriggerProps(),e);return u.jsx(A.button,{...r,ref:o})});oe.displayName="TooltipTrigger";const Fe=ae({className:`${se.scope} tooltip`,slots:Q.keys(),base:{content:{borderRadius:"md",boxShadow:"sm",fontWeight:"semibold",px:"3",py:"2",textStyle:"xs",maxWidth:"2xs",zIndex:"tooltip",_open:{animation:"fade-in 0.25s ease-out"},_closed:{animation:"fade-out 0.2s ease-out"}},arrow:{"--arrow-size":"var(--sizes-2)"},arrowTip:{borderColor:"neutral.800",borderTopWidth:"1px",borderLeftWidth:"1px"}},variants:{theme:{neutral:{content:{background:"neutral.800",color:"white"},arrow:{"--arrow-background":"var(--colors-neutral-800)"},arrowTip:{borderColor:"neutral.800"}},primary:{content:{background:"primary.500",color:"primary.foreground"},arrow:{"--arrow-background":"var(--colors-primary-500)"},arrowTip:{borderColor:"primary.500"}}}},defaultVariants:{theme:"neutral"}}),[Ye,W]=ce({name:"tooltip",hookName:"useTooltipContext",providerName:"TooltipProvider",defaultValue:{classes:{}}});function Ke(e){const{theme:o,children:t,closeDelay:r=200,openDelay:n=100,...c}=e,m={classes:Fe({theme:o})};return u.jsx(Ye,{value:m,children:u.jsx(ze,{openDelay:n,closeDelay:r,...c,children:t})})}const qe=C.forwardRef(function(e,o){const{classes:t}=W(),{children:r,className:n,...c}=e;return u.jsx(oe,{className:B(t.trigger,n),ref:o,...c,children:r})}),Ue=C.forwardRef(function(e,o){const{classes:t}=W(),{children:r,className:n,...c}=e;return u.jsx(te,{children:u.jsx(ee,{className:B(t.content,n),ref:o,...c,children:r})})}),Xe=C.forwardRef(function(e,o){const{classes:t}=W(),{children:r,className:n,...c}=e;return u.jsx(Z,{className:B(t.arrow,n),...c,ref:o,children:u.jsx(H,{className:t.arrowTip})})});Ke.__docgenInfo={description:"",methods:[],displayName:"Root",props:{theme:{required:!0,tsType:{name:"union",raw:"'neutral' | 'primary'",elements:[{name:"literal",value:"'neutral'"},{name:"literal",value:"'primary'"}]},description:""}}};qe.__docgenInfo={description:"",methods:[],displayName:"Trigger"};Ue.__docgenInfo={description:"",methods:[],displayName:"Content"};Xe.__docgenInfo={description:"",methods:[],displayName:"Arrow"};export{Xe as A,Ue as C,Ke as R,qe as T};
