import{i as T,n as F,r as N,g as R,a as $,b as U,c as j,d as W}from"./use-event-CIsOJ8E4.js";var d="default",S="",b=new WeakMap;function X(e={}){const{target:t,doc:o}=e,r=o??document,n=r.documentElement;return T()?(d==="default"&&(S=n.style.webkitUserSelect,n.style.webkitUserSelect="none"),d="disabled"):t&&(b.set(t,t.style.userSelect),t.style.userSelect="none"),()=>O({target:t,doc:r})}function O(e={}){const{target:t,doc:o}=e,n=(o??document).documentElement;if(T()){if(d!=="disabled")return;d="restoring",setTimeout(()=>{F(()=>{d==="restoring"&&(n.style.webkitUserSelect==="none"&&(n.style.webkitUserSelect=S||""),S="",d="default")})},300)}else if(t&&b.has(t)){const i=b.get(t);t.style.userSelect==="none"&&(t.style.userSelect=i??""),t.getAttribute("style")===""&&t.removeAttribute("style"),b.delete(t)}}function _(e={}){const{defer:t,target:o,...r}=e,n=t?N:s=>s(),i=[];return i.push(n(()=>{const s=typeof o=="function"?o():o;i.push(X({...r,target:s}))})),()=>{i.forEach(s=>s==null?void 0:s())}}var l=(e,t,o,r)=>{const n=typeof e=="function"?e():e;return n==null||n.addEventListener(t,o,r),()=>{n==null||n.removeEventListener(t,o,r)}},ce=e=>e.button===0,ae=e=>e.button===2||U()&&e.ctrlKey&&e.button===0,ue=e=>e.ctrlKey||e.altKey||e.metaKey;function le(e,t,o){if(!e)return;const r=e.ownerDocument.defaultView||window,n=new r.CustomEvent(t,o);return e.dispatchEvent(n)}var q={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},M={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function fe(e,t={}){const{dir:o="ltr",orientation:r="horizontal"}=t;let{key:n}=e;return n=q[n]??n,o==="rtl"&&r==="horizontal"&&n in M&&(n=M[n]),n}function G(e,t="client"){const o=e.touches[0]||e.changedTouches[0];return{x:o[`${t}X`],y:o[`${t}Y`]}}function H(e,t="client"){return{x:e[`${t}X`],y:e[`${t}Y`]}}var J=e=>"touches"in e&&e.touches.length>0;function D(e,t="client"){return J(e)?G(e,t):H(e,t)}var Q=new Set(["PageUp","PageDown"]),Z=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function ye(e){return e.ctrlKey||e.metaKey?.1:Q.has(e.key)||e.shiftKey&&Z.has(e.key)?10:1}function L(e){return Math.max(0,Math.min(1,e))}function pe(e,t){const{left:o,top:r,width:n,height:i}=t.getBoundingClientRect(),s={x:e.x-o,y:e.y-r},c={x:L(s.x/n),y:L(s.y/i)};function p(f={}){const{dir:a="ltr",orientation:h="horizontal",inverted:y}=f,v=typeof y=="object"?y.x:y,w=typeof y=="object"?y.y:y;return h==="horizontal"?a==="rtl"||v?1-c.x:c.x:w?1-c.y:c.y}return{offset:s,percent:c,getPercentValue:p}}var x=(...e)=>t=>e.reduce((o,r)=>r(o),t),g=()=>{},ee=e=>!(e.metaKey||!U()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta");function me(e,t){if(!e)return;const{onFocus:o,onBlur:r}=t,n=R(e);let i=!1;const s=f=>{let a=!1;try{a=e.matches(":focus-visible")}catch{a=!0}a&&(i=!0,o==null||o(f))},c=f=>{i&&(i=!1,r==null||r(f))},p=f=>{if(!e.matches(":focus")||!ee(f))return;i=!0;const a=new n.FocusEvent("focus");o==null||o(a)};return x(l(e,"focusin",s),l(e,"focusout",c),l(e,"keydown",p,!0))}function de(e,t){const{onPointerMove:o,onPointerUp:r}=t,n=[],s=[l(e,"pointermove",c=>{const p=D(c);n.push({...p,timestamp:performance.now()});const f=Math.sqrt(p.x**2+p.y**2),a=c.pointerType==="touch"?10:5;if(!(f<a)){if(c.pointerType==="mouse"&&c.button===0){r();return}o({point:p,event:c,velocity:re(n,.1)})}},!1),l(e,"pointerup",r,!1),l(e,"pointercancel",r,!1),l(e,"contextmenu",r,!1),_({doc:e})];return()=>{s.forEach(c=>c()),n.length=0}}function te(e){return e[e.length-1]}function ne(e){return e*1e3}function oe(e){return e/1e3}function re(e,t){if(e.length<2)return{x:0,y:0};let o=e.length-1,r=null;const n=te(e);for(;o>=0&&(r=e[o],!(n.timestamp-r.timestamp>ne(t)));)o--;if(!r)return{x:0,y:0};const i=oe(n.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(n.x-r.x)/i,y:(n.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),{x:Math.abs(s.x),y:Math.abs(s.y)}}function he(e){const{pointerNode:t,keyboardNode:o=t,onPress:r,onPressStart:n,onPressEnd:i,isValidKey:s=u=>u.key==="Enter"}=e;if(!t)return g;const c=R(t),p=$(t);let f=g,a=g,h=g;const y=u=>({point:D(u),event:u});function v(u){n==null||n(y(u))}function w(u){i==null||i(y(u))}const V=l(t,"pointerdown",u=>{a();const k=l(c,"pointerup",m=>{const P=j(m);W(t,P)?r==null||r(y(m)):i==null||i(y(m))},{passive:!r}),K=l(c,"pointercancel",w,{passive:!i});a=x(k,K),p.activeElement===o&&u.pointerType==="mouse"&&u.preventDefault(),v(u)},{passive:!n}),C=l(o,"focus",I);f=x(V,C);function I(){const u=m=>{if(!s(m))return;const P=z=>{if(!s(z))return;const B=new c.PointerEvent("pointerup"),A=y(B);r==null||r(A),i==null||i(A)};a(),a=l(o,"keyup",P);const Y=new c.PointerEvent("pointerdown");v(Y)},E=()=>{const m=new c.PointerEvent("pointercancel");w(m)},k=l(o,"keydown",u),K=l(o,"blur",E);h=x(k,K)}return function(){f(),a(),h()}}export{me as a,pe as b,ye as c,ue as d,D as e,de as f,fe as g,l as h,ce as i,le as j,ae as k,_ as l,he as t};
