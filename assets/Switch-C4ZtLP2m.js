import{j as a}from"./jsx-runtime-qGIIFXMu.js";import{r as h}from"./index-CDs2tPxN.js";import{c as x}from"./cva-C095pwBQ.js";import{s as R}from"./sva-CxSEfBjn.js";import{k as H,c as N,m as g,l as b,p as D,q as F,s as u,F as $,t as O,u as j,G as _,x as q,y as L,a as K}from"./create-split-props-BDI0pziA.js";import{c as V,d as B,i as G,u as A,e as X}from"./use-locale-context-kz_CgJym.js";import{c as M}from"./index-DJ3ti8gJ.js";import{t as z,b as J}from"./index-AUxzzpyp.js";import{t as Q,d as U}from"./index-DBzJ7FiP.js";import{u as W}from"./use-event-eGuf5zsd.js";import{u as v}from"./use-field-context-CLfjAHXa.js";var I=H("switch").parts("root","label","control","thumb");I.build();var p=V({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`switch:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`switch:${e.id}:label`},getThumbId:e=>{var t;return((t=e.ids)==null?void 0:t.thumb)??`switch:${e.id}:thumb`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`switch:${e.id}:control`},getHiddenInputId:e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`switch:${e.id}:input`},getRootEl:e=>p.getById(e,p.getRootId(e)),getHiddenInputEl:e=>p.getById(e,p.getHiddenInputId(e))});M()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);const[Y,k]=N({name:"SwitchContext",hookName:"useSwitchContext",providerName:"<SwitchProvider />"}),w=h.forwardRef((e,t)=>{const o=k(),d=g(o.getControlProps(),e);return a.jsx(b.span,{...d,ref:t})});w.displayName="SwitchControl";const y=h.forwardRef((e,t)=>{const o=k(),d=g(o.getHiddenInputProps(),e),r=v();return a.jsx(b.input,{"aria-describedby":r==null?void 0:r.ariaDescribedby,...d,ref:t})});y.displayName="SwitchHiddenInput";var Z=D("switch").parts("root","label","control","thumb"),m=Z.build(),n=F({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`switch:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`switch:${e.id}:label`},getThumbId:e=>{var t;return((t=e.ids)==null?void 0:t.thumb)??`switch:${e.id}:thumb`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`switch:${e.id}:control`},getHiddenInputId:e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`switch:${e.id}:input`},getRootEl:e=>n.getById(e,n.getRootId(e)),getHiddenInputEl:e=>n.getById(e,n.getHiddenInputId(e))});function ee(e,t,o){const d=e.context.isDisabled,r=!d&&e.context.focused,i=e.context.checked,c=e.context.readOnly,l={"data-active":u(e.context.active),"data-focus":u(r),"data-readonly":u(c),"data-hover":u(e.context.hovered),"data-disabled":u(d),"data-state":e.context.checked?"checked":"unchecked","data-invalid":u(e.context.invalid)};return{checked:i,disabled:d,focused:r,setChecked(s){t({type:"CHECKED.SET",checked:s,isTrusted:!1})},toggleChecked(){t({type:"CHECKED.TOGGLE",checked:i,isTrusted:!1})},getRootProps(){return o.label({...m.root.attrs,...l,dir:e.context.dir,id:n.getRootId(e.context),htmlFor:n.getHiddenInputId(e.context),onPointerMove(){d||t({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){d||t({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(s){s.target===n.getHiddenInputEl(e.context)&&s.stopPropagation()}})},getLabelProps(){return o.element({...m.label.attrs,...l,dir:e.context.dir,id:n.getLabelId(e.context)})},getThumbProps(){return o.element({...m.thumb.attrs,...l,dir:e.context.dir,id:n.getThumbId(e.context),"aria-hidden":!0})},getControlProps(){return o.element({...m.control.attrs,...l,dir:e.context.dir,id:n.getControlId(e.context),"aria-hidden":!0})},getHiddenInputProps(){return o.input({id:n.getHiddenInputId(e.context),type:"checkbox",required:e.context.required,defaultChecked:i,disabled:d,"aria-labelledby":n.getLabelId(e.context),"aria-invalid":e.context.invalid,name:e.context.name,form:e.context.form,value:e.context.value,style:$,onClick(s){if(c){s.preventDefault();return}const T=s.currentTarget.checked;t({type:"CHECKED.SET",checked:T,isTrusted:!0})}})}}}var{not:C}=_;function te(e){const t=B(e);return O({id:"switch",initial:"ready",context:{checked:!1,label:"switch",value:"on",disabled:!1,...t,fieldsetDisabled:!1},computed:{isDisabled:o=>o.disabled||o.fieldsetDisabled},watch:{disabled:"removeFocusIfNeeded",checked:"syncInputElement"},activities:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:C("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:C("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}}},{guards:{isTrusted:(o,d)=>!!d.isTrusted},activities:{trackPressEvent(o){if(!o.isDisabled)return z({pointerNode:n.getRootEl(o),keyboardNode:n.getHiddenInputEl(o),isValidKey:d=>d.key===" ",onPress:()=>o.active=!1,onPressStart:()=>o.active=!0,onPressEnd:()=>o.active=!1})},trackFocusVisible(o){if(!o.isDisabled)return J(n.getHiddenInputEl(o),{onFocus:()=>o.focused=!0,onBlur:()=>o.focused=!1})},trackFormControlState(o,d,{send:r,initialContext:i}){return Q(n.getHiddenInputEl(o),{onFieldsetDisabledChange(c){o.fieldsetDisabled=c},onFormReset(){r({type:"CHECKED.SET",checked:!!i.checked,src:"form-reset"})}})}},actions:{setContext(o,d){Object.assign(o,d.context)},syncInputElement(o){const d=n.getHiddenInputEl(o);d&&(d.checked=!!o.checked)},removeFocusIfNeeded(o){o.disabled&&o.focused&&(o.focused=!1)},setChecked(o,d){f.checked(o,d.checked)},toggleChecked(o,d){f.checked(o,!o.checked)},dispatchChangeEvent(o){const d=n.getHiddenInputEl(o);U(d,{checked:o.checked})}}})}var oe={change:e=>{var t;(t=e.onCheckedChange)==null||t.call(e,{checked:e.checked})}},f={checked:(e,t)=>{G(e.checked,t)||(e.checked=t,oe.change(e))}};j()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);const de=e=>{const{getRootNode:t}=A(),{dir:o}=X(),d=v(),r={id:h.useId(),ids:{label:d==null?void 0:d.ids.label,hiddenInput:d==null?void 0:d.ids.control},dir:o,disabled:d==null?void 0:d.disabled,readOnly:d==null?void 0:d.readOnly,invalid:d==null?void 0:d.invalid,required:d==null?void 0:d.required,getRootNode:t,checked:e.defaultChecked,...e},i={...r,checked:e.checked,onCheckedChange:W(e.onCheckedChange,{sync:!0})},[c,l]=q(te(r),{context:i});return ee(c,l,L)},E=h.forwardRef((e,t)=>{const[o,d]=K()(e,["checked","defaultChecked","disabled","form","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]),r=de(o),i=g(r.getRootProps(),d);return a.jsx(Y,{value:r,children:a.jsx(b.label,{...i,ref:t})})});E.displayName="SwitchRoot";const P=h.forwardRef((e,t)=>{const o=k(),d=g(o.getThumbProps(),e);return a.jsx(b.span,{...d,ref:t})});P.displayName="SwitchThumb";const ne=R({className:"switchRecipe",slots:I.keys(),base:{root:{alignItems:"center",display:"flex",position:"relative",_disabled:{opacity:60}},control:{alignItems:"center",background:"neutral.300",borderRadius:"full",cursor:"pointer",display:"inline-flex",flexShrink:"0",transitionDuration:"normal",transitionProperty:"background",transitionTimingFunction:"default",_checked:{background:"primary"},_disabled:{cursor:"not-allowed"}},thumb:{background:"white",borderRadius:"full",boxShadow:"xs",transitionDuration:"normal",transitionProperty:"transform, background",transitionTimingFunction:"default",_checked:{transform:"translateX(100%)",background:{base:"white",_dark:"primary.foreground"}}}},defaultVariants:{size:"md"},variants:{size:{sm:{root:{gap:"2"},control:{width:"7",p:"0.5"},thumb:{width:"3",height:"3"}},md:{root:{gap:"3"},control:{width:"9",p:"0.5"},thumb:{width:"4",height:"4"}},lg:{root:{gap:"4"},control:{width:"11",p:"0.5"},thumb:{width:"5",height:"5"}}}}}),S=h.forwardRef(function(e,t){const{size:o,className:d,...r}=e,i=ne({size:o});return a.jsxs(E,{ref:t,className:x(i.root,d),...r,children:[a.jsx(w,{className:i.control,children:a.jsx(P,{className:i.thumb})}),a.jsx(y,{})]})});S.displayName="Switch";S.__docgenInfo={description:"",methods:[],displayName:"Switch"};export{S as R};
