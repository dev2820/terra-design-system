import{j as l}from"./jsx-runtime-qGIIFXMu.js";import{t as z,I as G,c as b}from"./tv-CIwtzMts.js";import{r as s}from"./index-CDs2tPxN.js";import{c as J}from"./create-react-context-Dw26gLIP.js";import{p as F,s as T,c as K,a as Q,k as U,A as X}from"./factory-Bfpif5Qa.js";import{c as Y}from"./create-split-props-u5h9OPvL.js";import{u as R,F as Z}from"./use-field-context-Bc1L1tNp.js";const L=s.forwardRef((r,a)=>{const e=R(),t=F(e.getErrorTextProps(),r);return e!=null&&e.invalid?l.jsx(T.span,{...t,ref:a}):null});L.displayName="FieldErrorText";const M=s.forwardRef((r,a)=>{const e=R(),t=F(e==null?void 0:e.getHelperTextProps(),r);return l.jsx(T.span,{...t,ref:a})});M.displayName="FieldHelperText";const C=s.forwardRef((r,a)=>{const e=R(),t=F(e==null?void 0:e.getLabelProps(),r);return l.jsx(T.label,{...t,ref:a})});C.displayName="FieldLabel";const[me,ee]=K({name:"FieldsetContext",hookName:"useFieldsetContext",providerName:"<FieldsetProvider />",strict:!1}),te=Q("field").parts("root","errorText","helperText","input","label","select","textarea"),m=te.build(),re=r=>{const a=ee(),{disabled:e=!!(a!=null&&a.disabled),invalid:t=!1,readOnly:o=!1,required:d=!1}=r,f=s.useRef(!1),y=s.useRef(!1),n=r.id??s.useId(),g=s.useRef(null),i=`field::${n}::error-text`,c=`field::${n}::helper-text`,h=`field::${n}::label`;s.useLayoutEffect(()=>{const p=g.current;if(!p)return;const E=U(p),I=E.document,j=()=>{f.current=!!I.getElementById(i),y.current=!!I.getElementById(c)};j();const w=new E.MutationObserver(j);return w.observe(p,{childList:!0,subtree:!0}),()=>w.disconnect()},[i,c]);const N=s.useMemo(()=>{const p=[];return f.current&&t&&p.push(i),y.current&&p.push(c),p.join(" ")||void 0},[t,i,c]),q=s.useMemo(()=>()=>({...m.root.attrs,ref:g,role:"group","data-disabled":x(e),"data-invalid":x(t),"data-readonly":x(o)}),[e,t,o]),B=s.useMemo(()=>()=>({...m.label.attrs,id:h,"data-disabled":x(e),"data-invalid":x(t),"data-readonly":x(o),htmlFor:n}),[e,t,o,n,h]),u=s.useMemo(()=>()=>({"aria-describedby":N,"aria-invalid":P(t),"aria-required":P(d),"aria-readonly":P(o),id:n,required:d,disabled:e,readOnly:o}),[N,t,d,o,n,e]),O=s.useMemo(()=>()=>({...u(),...m.input.attrs}),[u]),D=s.useMemo(()=>()=>({...u(),...m.textarea.attrs}),[u]),S=s.useMemo(()=>()=>({...u(),...m.select.attrs}),[u]),V=s.useMemo(()=>()=>({id:c,...m.helperText.attrs}),[c]),W=s.useMemo(()=>()=>({id:i,...m.errorText.attrs,"aria-live":"polite"}),[i]);return{ariaDescribedby:N,ids:{control:n,label:h,errorText:i,helperText:c},refs:{rootRef:g},disabled:e,invalid:t,readOnly:o,required:d,getLabelProps:B,getRootProps:q,getInputProps:O,getTextareaProps:D,getSelectProps:S,getHelperTextProps:V,getErrorTextProps:W}},x=r=>r?"true":void 0,P=r=>r?!0:void 0,H=s.forwardRef((r,a)=>{const[e,t]=Y()(r,["id","disabled","invalid","readOnly","required"]),o=re(e),d=F(o.getRootProps(),t);return l.jsx(Z,{value:o,children:l.jsx(T.div,{...d,ref:X(a,o.refs.rootRef)})})});H.displayName="FieldRoot";const se=z({base:`${G.scope} field`,slots:{root:"trds-flex trds-flex-col trds-gap-1.5",label:"trds-text-neutral-900 trds-font-medium trds-text-sm disabled:trds-text-muted",helperText:"trds-inline-flex trds-items-center trds-text-fg-description trds-gap-1 trds-text-sm disabled:trds-text-muted",errorText:"trds-inline-flex trds-items-center trds-text-error trds-gap-1 trds-text-sm disabled:trds-text-muted"}}),[oe,v]=J({name:"field",hookName:"useFieldContext",providerName:"FieldProvider",defaultValue:{classes:{}}}),_=s.forwardRef(function(r,a){const{children:e,className:t,...o}=r,d=se(),f={classes:d};return l.jsx(oe,{value:f,children:l.jsx(H,{className:b(d.root(),t),...o,ref:a,children:e})})});_.displayName="Field.Root";const $=s.forwardRef(function(r,a){const{children:e,className:t,...o}=r,{classes:d}=v();return l.jsx(C,{className:b(d.label(),t),ref:a,...o,children:e})});$.displayName="Field.Label";const k=s.forwardRef(function(r,a){const{children:e,className:t,...o}=r,{classes:d}=v();return l.jsx(M,{className:b(d.helperText(),t),ref:a,...o,children:e})});k.displayName="Field.HelperText";const A=s.forwardRef(function(r,a){const{children:e,className:t,...o}=r,{classes:d}=v();return l.jsx(L,{className:b(d.errorText(),t),ref:a,...o,children:e})});A.displayName="Field.ErrorText";_.__docgenInfo={description:"",methods:[],displayName:"Field.Root"};$.__docgenInfo={description:"",methods:[],displayName:"Field.Label"};k.__docgenInfo={description:"",methods:[],displayName:"Field.HelperText"};A.__docgenInfo={description:"",methods:[],displayName:"Field.ErrorText"};export{A as E,k as H,$ as L,_ as R};
