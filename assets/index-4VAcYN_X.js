import{i as T,n as B,r as Y,b as R,g as U,d as N,e as $,f as j,h as W}from"./use-locale-context-BOqpzadf.js";var h="default",b="",g=new WeakMap;function X(e={}){const{target:t,doc:r}=e,o=r??document,n=o.documentElement;return T()?(h==="default"&&(b=n.style.webkitUserSelect,n.style.webkitUserSelect="none"),h="disabled"):t&&(g.set(t,t.style.userSelect),t.style.userSelect="none"),()=>O({target:t,doc:o})}function O(e={}){const{target:t,doc:r}=e,n=(r??document).documentElement;if(T()){if(h!=="disabled")return;h="restoring",setTimeout(()=>{B(()=>{h==="restoring"&&(n.style.webkitUserSelect==="none"&&(n.style.webkitUserSelect=b||""),b="",h="default")})},300)}else if(t&&g.has(t)){const i=g.get(t);t.style.userSelect==="none"&&(t.style.userSelect=i??""),t.getAttribute("style")===""&&t.removeAttribute("style"),g.delete(t)}}function _(e={}){const{defer:t,target:r,...o}=e,n=t?Y:s=>s(),i=[];return i.push(n(()=>{const s=typeof r=="function"?r():r;i.push(X({...o,target:s}))})),()=>{i.forEach(s=>s==null?void 0:s())}}var a=(e,t,r,o)=>{const n=typeof e=="function"?e():e;return n==null||n.addEventListener(t,r,o),()=>{n==null||n.removeEventListener(t,r,o)}},le=e=>e.button===0,fe=e=>e.button===2||R()&&e.ctrlKey&&e.button===0,ye=e=>e.ctrlKey||e.altKey||e.metaKey;function G(e,t,r){const n=(s=>{const c=requestAnimationFrame(s);return()=>cancelAnimationFrame(c)})(()=>{e.removeEventListener(t,i,!0),r()}),i=()=>{n(),r()};return e.addEventListener(t,i,{once:!0,capture:!0}),n}function H(e){return(e==null?void 0:e.matches("a[href]"))??!1}function pe(e){if(!H(e))return;const t=()=>e.click();$()?G(e,"keyup",t):queueMicrotask(t)}function me(e,t,r){if(!e)return;const o=e.ownerDocument.defaultView||window,n=new o.CustomEvent(t,r);return e.dispatchEvent(n)}var J={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},A={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function he(e,t={}){const{dir:r="ltr",orientation:o="horizontal"}=t;let{key:n}=e;return n=J[n]??n,r==="rtl"&&o==="horizontal"&&n in A&&(n=A[n]),n}function Q(e,t="client"){const r=e.touches[0]||e.changedTouches[0];return{x:r[`${t}X`],y:r[`${t}Y`]}}function Z(e,t="client"){return{x:e[`${t}X`],y:e[`${t}Y`]}}var ee=e=>"touches"in e&&e.touches.length>0;function C(e,t="client"){return ee(e)?Q(e,t):Z(e,t)}var te=new Set(["PageUp","PageDown"]),ne=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function ve(e){return e.ctrlKey||e.metaKey?.1:te.has(e.key)||e.shiftKey&&ne.has(e.key)?10:1}function M(e){return Math.max(0,Math.min(1,e))}function de(e,t){const{left:r,top:o,width:n,height:i}=t.getBoundingClientRect(),s={x:e.x-r,y:e.y-o},c={x:M(s.x/n),y:M(s.y/i)};function l(y={}){const{dir:u="ltr",orientation:v="horizontal",inverted:p}=y,d=typeof p=="object"?p.x:p,w=typeof p=="object"?p.y:p;return v==="horizontal"?u==="rtl"||d?1-c.x:c.x:w?1-c.y:c.y}return{offset:s,percent:c,getPercentValue:l}}function we(e,t){const r=e.body,o="pointerLockElement"in e||"mozPointerLockElement"in e,n=()=>!!e.pointerLockElement;function i(){}function s(l){n(),console.error("PointerLock error occured:",l),e.exitPointerLock()}if(!o)return;try{r.requestPointerLock()}catch{}const c=[a(e,"pointerlockchange",i,!1),a(e,"pointerlockerror",s,!1)];return()=>{c.forEach(l=>l()),e.exitPointerLock()}}var x=(...e)=>t=>e.reduce((r,o)=>o(r),t),k=()=>{},re=e=>!(e.metaKey||!R()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta");function ke(e,t){if(!e)return;const{onFocus:r,onBlur:o}=t,n=U(e);let i=!1;const s=y=>{let u=!1;try{u=e.matches(":focus-visible")}catch{u=!0}u&&(i=!0,r==null||r(y))},c=y=>{i&&(i=!1,o==null||o(y))},l=y=>{if(!e.matches(":focus")||!re(y))return;i=!0;const u=new n.FocusEvent("focus");r==null||r(u)};return x(a(e,"focusin",s),a(e,"focusout",c),a(e,"keydown",l,!0))}function ge(e,t){const{onPointerMove:r,onPointerUp:o}=t,n=[],s=[a(e,"pointermove",c=>{const l=C(c);n.push({...l,timestamp:performance.now()});const y=Math.sqrt(l.x**2+l.y**2),u=c.pointerType==="touch"?10:5;if(!(y<u)){if(c.pointerType==="mouse"&&c.button===0){o();return}r({point:l,event:c,velocity:ce(n,.1)})}},!1),a(e,"pointerup",o,!1),a(e,"pointercancel",o,!1),a(e,"contextmenu",o,!1),_({doc:e})];return()=>{s.forEach(c=>c()),n.length=0}}function oe(e){return e[e.length-1]}function ie(e){return e*1e3}function se(e){return e/1e3}function ce(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,o=null;const n=oe(e);for(;r>=0&&(o=e[r],!(n.timestamp-o.timestamp>ie(t)));)r--;if(!o)return{x:0,y:0};const i=se(n.timestamp-o.timestamp);if(i===0)return{x:0,y:0};const s={x:(n.x-o.x)/i,y:(n.y-o.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),{x:Math.abs(s.x),y:Math.abs(s.y)}}function xe(e){const{pointerNode:t,keyboardNode:r=t,onPress:o,onPressStart:n,onPressEnd:i,isValidKey:s=f=>f.key==="Enter"}=e;if(!t)return k;const c=U(t),l=N(t);let y=k,u=k,v=k;const p=f=>({point:C(f),event:f});function d(f){n==null||n(p(f))}function w(f){i==null||i(p(f))}const D=a(t,"pointerdown",f=>{u();const P=a(c,"pointerup",m=>{const L=j(m);W(t,L)?o==null||o(p(m)):i==null||i(p(m))},{passive:!o}),E=a(c,"pointercancel",w,{passive:!i});u=x(P,E),l.activeElement===r&&f.pointerType==="mouse"&&f.preventDefault(),d(f)},{passive:!n}),V=a(r,"focus",F);y=x(D,V);function F(){const f=m=>{if(!s(m))return;const L=q=>{if(!s(q))return;const z=new c.PointerEvent("pointerup"),S=p(z);o==null||o(S),i==null||i(S)};u(),u=a(r,"keyup",L);const I=new c.PointerEvent("pointerdown");d(I)},K=()=>{const m=new c.PointerEvent("pointercancel");w(m)},P=a(r,"keydown",f),E=a(r,"blur",K);v=x(P,E)}return function(){y(),u(),v()}}export{a,ke as b,le as c,de as d,he as e,me as f,C as g,ve as h,fe as i,ye as j,ge as k,pe as l,_ as m,we as r,xe as t};
