import{j as d}from"./jsx-runtime-qGIIFXMu.js";import{I as ue}from"./index-9MS2e6do.js";import{r as m}from"./index-CDs2tPxN.js";import{c as he}from"./create-react-context-Dw26gLIP.js";import{t as me,c as b}from"./tv-Br1lVx4G.js";import{C as pe}from"./chevron-down-Du6SRUSG.js";import{P as Ie}from"./portal-BWW2K-Dr.js";import{C as ve}from"./check-DUDaO23Y.js";import{c as V,m as E,h as f,a as Ee,z as K,b as fe,d as u,_,V as Te,v as Ce,N as Oe,a3 as ye,$ as Re,e as Se,r as L,H as be,f as x,g as Pe,T as Ne,a2 as Ge,A as Le,E as we}from"./factory-BCO0_PXk.js";import{c as A}from"./create-split-props-u5h9OPvL.js";import{s as Ve}from"./split-presence-props-DcTE3k_W.js";import{a as B,u as xe,P as Ae}from"./use-presence-BYwEg9-n.js";import{C as q}from"./index-Dwc3-hf4.js";import{d as ke,g as W}from"./index-DRtd-hRg.js";import{g as He,a as $}from"./index-CdZdUDHv.js";import{a as Fe}from"./index-BTGRfmW-.js";import{t as De}from"./index-DBzJ7FiP.js";import{c as _e,a as F,x as je}from"./index-B1LdDssV.js";import{u as Me,a as Ue}from"./use-locale-context-CTaGYWMe.js";import{u as D}from"./use-event-eGuf5zsd.js";import{u as Y}from"./use-field-context-CzRTzM_q.js";const[We,T]=V({name:"SelectContext",hookName:"useSelectContext",providerName:"<SelectProvider />"}),J=m.forwardRef((t,i)=>{const e=T(),o=B(),r=E(e.getContentProps(),o.getPresenceProps(i),t);return o.unmounted?null:d.jsx(f.div,{...r})});J.displayName="SelectContent";const Q=m.forwardRef((t,i)=>{const e=T(),o=E(e.getControlProps(),t);return d.jsx(f.div,{...o,ref:i})});Q.displayName="SelectControl";const X=m.forwardRef((t,i)=>{const e=T(),o=E(e.getHiddenSelectProps(),t),r=e.value.length===0,a=Y();return d.jsxs(f.select,{"aria-describedby":a==null?void 0:a.ariaDescribedby,...o,ref:i,children:[r&&d.jsx("option",{value:""}),e.collection.items.map((s,g)=>d.jsx("option",{value:e.collection.getItemValue(s)??"",disabled:e.collection.getItemDisabled(s)},g))]})});X.displayName="SelectHiddenSelect";const Z=m.forwardRef((t,i)=>{const e=T(),o=E(e.getIndicatorProps(),t);return d.jsx(f.div,{...o,ref:i})});Z.displayName="SelectIndicator";const[$e,Nt]=V({name:"SelectItemContext",hookName:"useSelectItemContext",providerName:"<SelectItemProvider />"}),[Ke,z]=V({name:"SelectItemPropsContext",hookName:"useSelectItemPropsContext",providerName:"<SelectItemPropsProvider />"}),ee=m.forwardRef((t,i)=>{const[e,o]=A()(t,["item","persistFocus"]),r=T(),a=E(r.getItemProps(e),o),s=r.getItemState(e);return d.jsx(Ke,{value:e,children:d.jsx($e,{value:s,children:d.jsx(f.div,{...a,ref:i})})})});ee.displayName="SelectItem";const[Be,qe]=V({name:"SelectItemGroupPropsContext",hookName:"useSelectItemGroupPropsContext",providerName:"<SelectItemGroupPropsProvider />"}),te=m.forwardRef((t,i)=>{const e=m.useId(),[o,r]=A()(t,["id"]),a={id:e,...o},s=T(),g=E(s.getItemGroupProps(a),r);return d.jsx(Be,{value:a,children:d.jsx(f.div,{...g,ref:i})})});te.displayName="SelectItemGroup";const oe=m.forwardRef((t,i)=>{const e=T(),o=qe(),r=E(e.getItemGroupLabelProps({htmlFor:o.id}),t);return d.jsx(f.div,{...r,ref:i})});oe.displayName="SelectItemGroupLabel";const ie=m.forwardRef((t,i)=>{const e=T(),o=z(),r=E(e.getItemIndicatorProps(o),t);return d.jsx(f.div,{...r,ref:i})});ie.displayName="SelectItemIndicator";const re=m.forwardRef((t,i)=>{const e=T(),o=z(),r=E(e.getItemTextProps(o),t);return d.jsx(f.span,{...r,ref:i})});re.displayName="SelectItemText";const le=m.forwardRef((t,i)=>{const e=T(),o=E(e.getPositionerProps(),t);return B().unmounted?null:d.jsx(f.div,{...o,ref:i})});le.displayName="SelectPositioner";var Ye=Ee("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText"),v=Ye.build(),j=t=>K(new q(t));j.empty=()=>K(new q({items:[]}));var n=fe({getRootId:t=>{var i;return((i=t.ids)==null?void 0:i.root)??`select:${t.id}`},getContentId:t=>{var i;return((i=t.ids)==null?void 0:i.content)??`select:${t.id}:content`},getTriggerId:t=>{var i;return((i=t.ids)==null?void 0:i.trigger)??`select:${t.id}:trigger`},getClearTriggerId:t=>{var i;return((i=t.ids)==null?void 0:i.clearTrigger)??`select:${t.id}:clear-trigger`},getLabelId:t=>{var i;return((i=t.ids)==null?void 0:i.label)??`select:${t.id}:label`},getControlId:t=>{var i;return((i=t.ids)==null?void 0:i.control)??`select:${t.id}:control`},getItemId:(t,i)=>{var e,o;return((o=(e=t.ids)==null?void 0:e.item)==null?void 0:o.call(e,i))??`select:${t.id}:option:${i}`},getHiddenSelectId:t=>{var i;return((i=t.ids)==null?void 0:i.hiddenSelect)??`select:${t.id}:select`},getPositionerId:t=>{var i;return((i=t.ids)==null?void 0:i.positioner)??`select:${t.id}:positioner`},getItemGroupId:(t,i)=>{var e,o;return((o=(e=t.ids)==null?void 0:e.itemGroup)==null?void 0:o.call(e,i))??`select:${t.id}:optgroup:${i}`},getItemGroupLabelId:(t,i)=>{var e,o;return((o=(e=t.ids)==null?void 0:e.itemGroupLabel)==null?void 0:o.call(e,i))??`select:${t.id}:optgroup-label:${i}`},getHiddenSelectEl:t=>n.getById(t,n.getHiddenSelectId(t)),getContentEl:t=>n.getById(t,n.getContentId(t)),getControlEl:t=>n.getById(t,n.getControlId(t)),getTriggerEl:t=>n.getById(t,n.getTriggerId(t)),getClearTriggerEl:t=>n.getById(t,n.getClearTriggerId(t)),getPositionerEl:t=>n.getById(t,n.getPositionerId(t)),getHighlightedOptionEl(t){return t.highlightedValue?n.getById(t,n.getItemId(t,t.highlightedValue)):null}});function Je(t,i,e){const o=t.context.isDisabled,r=t.context.invalid,a=t.context.readOnly,s=t.context.isInteractive,g=t.context.composite,I=t.hasTag("open"),y=t.matches("focused"),C=t.context.highlightedValue,k=t.context.highlightedItem,ce=t.context.selectedItems,M=t.context.isTypingAhead,P=t.context.collection,H=C?n.getItemId(t.context,C):void 0;function N(l){const c=P.getItemDisabled(l.item),p=P.getItemValue(l.item);return{value:p,disabled:!!(o||c),highlighted:C===p,selected:t.context.value.includes(p)}}const ge=He({...t.context.positioning,placement:t.context.currentPlacement});return{open:I,focused:y,empty:t.context.value.length===0,highlightedItem:k,highlightedValue:C,selectedItems:ce,hasSelectedItems:t.context.hasSelectedItems,value:t.context.value,valueAsString:t.context.valueAsString,collection:P,setCollection(l){i({type:"COLLECTION.SET",value:l})},reposition(l={}){i({type:"POSITIONING.SET",options:l})},focus(){var l;(l=n.getTriggerEl(t.context))==null||l.focus({preventScroll:!0})},setOpen(l){l!==I&&i(l?"OPEN":"CLOSE")},selectValue(l){i({type:"ITEM.SELECT",value:l})},setValue(l){i({type:"VALUE.SET",value:l})},selectAll(){i({type:"VALUE.SET",value:P.getValues()})},highlightValue(l){i({type:"HIGHLIGHTED_VALUE.SET",value:l})},clearValue(l){i(l?{type:"ITEM.CLEAR",value:l}:{type:"VALUE.CLEAR"})},getItemState:N,getRootProps(){return e.element({...v.root.attrs,dir:t.context.dir,id:n.getRootId(t.context),"data-invalid":u(r),"data-readonly":u(a)})},getLabelProps(){return e.label({dir:t.context.dir,id:n.getLabelId(t.context),...v.label.attrs,"data-disabled":u(o),"data-invalid":u(r),"data-readonly":u(a),htmlFor:n.getHiddenSelectId(t.context),onClick(l){var c;l.defaultPrevented||o||(c=n.getTriggerEl(t.context))==null||c.focus({preventScroll:!0})}})},getControlProps(){return e.element({...v.control.attrs,dir:t.context.dir,id:n.getControlId(t.context),"data-state":I?"open":"closed","data-focus":u(y),"data-disabled":u(o),"data-invalid":u(r)})},getValueTextProps(){return e.element({...v.valueText.attrs,dir:t.context.dir,"data-disabled":u(o),"data-invalid":u(r),"data-focus":u(y)})},getTriggerProps(){return e.button({id:n.getTriggerId(t.context),disabled:o,dir:t.context.dir,type:"button",role:"combobox","aria-controls":n.getContentId(t.context),"aria-expanded":I,"aria-haspopup":"listbox","data-state":I?"open":"closed","aria-invalid":r,"aria-labelledby":n.getLabelId(t.context),...v.trigger.attrs,"data-disabled":u(o),"data-invalid":u(r),"data-readonly":u(a),"data-placement":t.context.currentPlacement,"data-placeholder-shown":u(!t.context.hasSelectedItems),onPointerDown(l){ke(l)&&s&&(l.currentTarget.dataset.pointerType=l.pointerType,!(o||l.pointerType==="touch")&&i({type:"TRIGGER.CLICK"}))},onClick(l){!s||l.button||l.currentTarget.dataset.pointerType==="touch"&&i({type:"TRIGGER.CLICK"})},onFocus(){i("TRIGGER.FOCUS")},onBlur(){i("TRIGGER.BLUR")},onKeyDown(l){if(l.defaultPrevented||!s)return;const p={ArrowUp(){i({type:"TRIGGER.ARROW_UP"})},ArrowDown(O){i({type:O.altKey?"OPEN":"TRIGGER.ARROW_DOWN"})},ArrowLeft(){i({type:"TRIGGER.ARROW_LEFT"})},ArrowRight(){i({type:"TRIGGER.ARROW_RIGHT"})},Home(){i({type:"TRIGGER.HOME"})},End(){i({type:"TRIGGER.END"})},Enter(){i({type:"TRIGGER.ENTER"})},Space(O){i(M?{type:"TRIGGER.TYPEAHEAD",key:O.key}:{type:"TRIGGER.ENTER"})}}[W(l,t.context)];if(p){p(l),l.preventDefault();return}_.isValidEvent(l)&&(i({type:"TRIGGER.TYPEAHEAD",key:l.key}),l.preventDefault())}})},getIndicatorProps(){return e.element({...v.indicator.attrs,dir:t.context.dir,"aria-hidden":!0,"data-state":I?"open":"closed","data-disabled":u(o),"data-invalid":u(r),"data-readonly":u(a)})},getItemProps(l){const c=N(l);return e.element({id:n.getItemId(t.context,c.value),role:"option",...v.item.attrs,dir:t.context.dir,"data-value":c.value,"aria-selected":c.selected,"data-state":c.selected?"checked":"unchecked","data-highlighted":u(c.highlighted),"data-disabled":u(c.disabled),"aria-disabled":Te(c.disabled),onPointerMove(p){c.disabled||p.pointerType!=="mouse"||c.value!==t.context.highlightedValue&&i({type:"ITEM.POINTER_MOVE",value:c.value})},onPointerUp(){c.disabled||i({type:"ITEM.CLICK",src:"pointerup",value:c.value})},onPointerLeave(p){c.disabled||l.persistFocus||p.pointerType!=="mouse"||["CONTENT.ARROW_UP","CONTENT.ARROW_DOWN"].includes(t.event.type)||i({type:"ITEM.POINTER_LEAVE"})},onTouchEnd(p){p.preventDefault(),p.stopPropagation()}})},getItemTextProps(l){const c=N(l);return e.element({...v.itemText.attrs,"data-state":c.selected?"checked":"unchecked","data-disabled":u(c.disabled),"data-highlighted":u(c.highlighted)})},getItemIndicatorProps(l){const c=N(l);return e.element({"aria-hidden":!0,...v.itemIndicator.attrs,"data-state":c.selected?"checked":"unchecked",hidden:!c.selected})},getItemGroupLabelProps(l){const{htmlFor:c}=l;return e.element({...v.itemGroupLabel.attrs,id:n.getItemGroupLabelId(t.context,c),role:"group",dir:t.context.dir})},getItemGroupProps(l){const{id:c}=l;return e.element({...v.itemGroup.attrs,"data-disabled":u(o),id:n.getItemGroupId(t.context,c),"aria-labelledby":n.getItemGroupLabelId(t.context,c),dir:t.context.dir})},getClearTriggerProps(){return e.button({...v.clearTrigger.attrs,id:n.getClearTriggerId(t.context),type:"button","aria-label":"Clear value","data-invalid":u(r),disabled:o,hidden:!t.context.hasSelectedItems,dir:t.context.dir,onClick(l){l.defaultPrevented||i("CLEAR.CLICK")}})},getHiddenSelectProps(){return e.select({name:t.context.name,form:t.context.form,disabled:o,multiple:t.context.multiple,required:t.context.required,"aria-hidden":!0,id:n.getHiddenSelectId(t.context),defaultValue:t.context.multiple?t.context.value:t.context.value[0],style:Ce,tabIndex:-1,onFocus(){var l;(l=n.getTriggerEl(t.context))==null||l.focus({preventScroll:!0})},"aria-labelledby":n.getLabelId(t.context)})},getPositionerProps(){return e.element({...v.positioner.attrs,dir:t.context.dir,id:n.getPositionerId(t.context),style:ge.floating})},getContentProps(){return e.element({hidden:!I,dir:t.context.dir,id:n.getContentId(t.context),role:g?"listbox":"dialog",...v.content.attrs,"data-state":I?"open":"closed","data-placement":t.context.currentPlacement,"data-activedescendant":H,"aria-activedescendant":g?H:void 0,"aria-multiselectable":t.context.multiple&&g?!0:void 0,"aria-labelledby":n.getLabelId(t.context),tabIndex:0,onKeyDown(l){if(!s||!Oe(l))return;if(l.key==="Tab"&&!ye(l)){l.preventDefault();return}const c={ArrowUp(){i({type:"CONTENT.ARROW_UP"})},ArrowDown(){i({type:"CONTENT.ARROW_DOWN"})},Home(){i({type:"CONTENT.HOME"})},End(){i({type:"CONTENT.END"})},Enter(){i({type:"ITEM.CLICK",src:"keydown.enter"})},Space(O){var U;M?i({type:"CONTENT.TYPEAHEAD",key:O.key}):(U=c.Enter)==null||U.call(c,O)}},p=c[W(l)];if(p){p(l),l.preventDefault();return}Re(l.target)||_.isValidEvent(l)&&(i({type:"CONTENT.TYPEAHEAD",key:l.key}),l.preventDefault())}})},getListProps(){return e.element({...v.list.attrs,tabIndex:0,role:g?void 0:"listbox","aria-labelledby":n.getTriggerId(t.context),"aria-activedescendant":g?void 0:H,"aria-multiselectable":!g&&t.context.multiple?!0:void 0})}}}var{and:S,not:R,or:Qe}=Pe;function Xe(t){const i=_e(t);return Se({id:"select",context:{value:[],highlightedValue:null,loopFocus:!1,closeOnSelect:!i.multiple,disabled:!1,readOnly:!1,composite:!0,...i,highlightedItem:null,selectedItems:[],valueAsString:"",collection:i.collection??j.empty(),typeahead:_.defaultOptions,fieldsetDisabled:!1,restoreFocus:!0,positioning:{placement:"bottom-start",gutter:8,...i.positioning}},computed:{hasSelectedItems:e=>e.value.length>0,isTypingAhead:e=>e.typeahead.keysSoFar!=="",isDisabled:e=>!!e.disabled||e.fieldsetDisabled,isInteractive:e=>!(e.isDisabled||e.readOnly)},initial:i.open?"open":"idle",created:["syncCollection"],entry:["syncSelectElement"],watch:{open:["toggleVisibility"],value:["syncSelectedItems","syncSelectElement"],highlightedValue:["syncHighlightedItem"],collection:["syncCollection"]},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]},"CLEAR.CLICK":{actions:["clearSelectedItems","focusTriggerEl"]},"COLLECTION.SET":{actions:["setCollection"]}},activities:["trackFormControlState"],states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["highlightFirstSelectedItem"]},{target:"open"}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},focused:{tags:["closed"],entry:["focusTriggerEl"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["highlightFirstSelectedItem"]},{guard:"isTriggerArrowUpEvent",target:"open",actions:["highlightComputedLastItem"]},{guard:Qe("isTriggerArrowDownEvent","isTriggerEnterEvent"),target:"open",actions:["highlightComputedFirstItem"]},{target:"open"}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"TRIGGER.BLUR":{target:"idle"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.ENTER":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_UP":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","highlightComputedLastItem"]}],"TRIGGER.ARROW_DOWN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_LEFT":[{guard:S(R("multiple"),"hasSelectedItems"),actions:["selectPreviousItem"]},{guard:R("multiple"),actions:["selectLastItem"]}],"TRIGGER.ARROW_RIGHT":[{guard:S(R("multiple"),"hasSelectedItems"),actions:["selectNextItem"]},{guard:R("multiple"),actions:["selectFirstItem"]}],"TRIGGER.HOME":{guard:R("multiple"),actions:["selectFirstItem"]},"TRIGGER.END":{guard:R("multiple"),actions:["selectLastItem"]},"TRIGGER.TYPEAHEAD":{guard:R("multiple"),actions:["selectMatchingItem"]}}},open:{tags:["open"],entry:["setInitialFocus"],exit:["scrollContentToTop"],activities:["trackDismissableElement","computePlacement","scrollToHighlightedItem"],on:{"CONTROLLED.CLOSE":[{guard:"shouldRestoreFocus",target:"focused",actions:["clearHighlightedItem"]},{target:"idle",actions:["clearHighlightedItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"ITEM.CLICK":[{guard:S("closeOnSelect","isOpenControlled"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","clearHighlightedItem"]},{actions:["selectHighlightedItem"]}],"CONTENT.INTERACT_OUTSIDE":[{guard:S("shouldRestoreFocus","isOpenControlled"),actions:["invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["invokeOnClose","clearHighlightedItem"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose","clearHighlightedItem"]}],"CONTENT.HOME":{actions:["highlightFirstItem"]},"CONTENT.END":{actions:["highlightLastItem"]},"CONTENT.ARROW_DOWN":[{guard:S("hasHighlightedItem","loop","isLastItemHighlighted"),actions:["highlightFirstItem"]},{guard:"hasHighlightedItem",actions:["highlightNextItem"]},{actions:["highlightFirstItem"]}],"CONTENT.ARROW_UP":[{guard:S("hasHighlightedItem","loop","isFirstItemHighlighted"),actions:["highlightLastItem"]},{guard:"hasHighlightedItem",actions:["highlightPreviousItem"]},{actions:["highlightLastItem"]}],"CONTENT.TYPEAHEAD":{actions:["highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"POSITIONING.SET":{actions:["reposition"]}}}}},{guards:{loop:e=>!!e.loopFocus,multiple:e=>!!e.multiple,hasSelectedItems:e=>!!e.hasSelectedItems,hasHighlightedItem:e=>e.highlightedValue!=null,isFirstItemHighlighted:e=>e.highlightedValue===e.collection.firstValue,isLastItemHighlighted:e=>e.highlightedValue===e.collection.lastValue,closeOnSelect:(e,o)=>!!(o.closeOnSelect??e.closeOnSelect),shouldRestoreFocus:e=>!!e.restoreFocus,isOpenControlled:e=>!!e["open.controlled"],isTriggerClickEvent:(e,o)=>{var r;return((r=o.previousEvent)==null?void 0:r.type)==="TRIGGER.CLICK"},isTriggerEnterEvent:(e,o)=>{var r;return((r=o.previousEvent)==null?void 0:r.type)==="TRIGGER.ENTER"},isTriggerArrowUpEvent:(e,o)=>{var r;return((r=o.previousEvent)==null?void 0:r.type)==="TRIGGER.ARROW_UP"},isTriggerArrowDownEvent:(e,o)=>{var r;return((r=o.previousEvent)==null?void 0:r.type)==="TRIGGER.ARROW_DOWN"}},activities:{trackFormControlState(e,o,{initialContext:r}){return De(n.getHiddenSelectEl(e),{onFieldsetDisabledChange(a){e.fieldsetDisabled=a},onFormReset(){h.selectedItems(e,r.value)}})},trackDismissableElement(e,o,{send:r}){return Fe(()=>n.getContentEl(e),{defer:!0,exclude:[n.getTriggerEl(e),n.getClearTriggerEl(e)],onFocusOutside:e.onFocusOutside,onPointerDownOutside:e.onPointerDownOutside,onInteractOutside(s){var g;(g=e.onInteractOutside)==null||g.call(e,s),e.restoreFocus=!s.detail.focusable},onDismiss(){r({type:"CONTENT.INTERACT_OUTSIDE"})}})},computePlacement(e){return e.currentPlacement=e.positioning.placement,$(()=>n.getTriggerEl(e),()=>n.getPositionerEl(e),{defer:!0,...e.positioning,onComplete(a){e.currentPlacement=a.placement}})},scrollToHighlightedItem(e,o,{getState:r}){const a=g=>{if(e.highlightedValue==null||r().event.type.includes("POINTER"))return;const y=n.getHighlightedOptionEl(e),C=n.getContentEl(e);if(e.scrollToIndexFn){const k=e.collection.indexOf(e.highlightedValue);e.scrollToIndexFn({index:k,immediate:g});return}Ge(y,{rootEl:C,block:"nearest"})};return L(()=>a(!0)),be(()=>n.getContentEl(e),{defer:!0,attributes:["data-activedescendant"],callback(){a(!1)}})}},actions:{reposition(e,o){const r=()=>n.getPositionerEl(e);$(n.getTriggerEl(e),r,{...e.positioning,...o.options,defer:!0,listeners:!1,onComplete(a){e.currentPlacement=a.placement}})},toggleVisibility(e,o,{send:r}){r({type:e.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:o})},highlightPreviousItem(e){if(e.highlightedValue==null)return;const o=e.collection.getPreviousValue(e.highlightedValue);h.highlightedItem(e,o)},highlightNextItem(e){if(e.highlightedValue==null)return;const o=e.collection.getNextValue(e.highlightedValue);h.highlightedItem(e,o)},highlightFirstItem(e){const o=e.collection.firstValue;h.highlightedItem(e,o)},highlightLastItem(e){const o=e.collection.lastValue;h.highlightedItem(e,o)},setInitialFocus(e){L(()=>{const o=Ne({root:n.getContentEl(e)});o==null||o.focus({preventScroll:!0})})},focusTriggerEl(e){L(()=>{var o;(o=n.getTriggerEl(e))==null||o.focus({preventScroll:!0})})},selectHighlightedItem(e,o){const r=o.value??e.highlightedValue;r!=null&&h.selectedItem(e,r)},highlightComputedFirstItem(e){const o=e.hasSelectedItems?e.collection.sort(e.value)[0]:e.collection.firstValue;h.highlightedItem(e,o)},highlightComputedLastItem(e){const o=e.hasSelectedItems?e.collection.sort(e.value)[0]:e.collection.lastValue;h.highlightedItem(e,o)},highlightFirstSelectedItem(e){if(!e.hasSelectedItems)return;const[o]=e.collection.sort(e.value);h.highlightedItem(e,o)},highlightItem(e,o){h.highlightedItem(e,o.value)},highlightMatchingItem(e,o){const r=e.collection.search(o.key,{state:e.typeahead,currentValue:e.highlightedValue});r!=null&&h.highlightedItem(e,r)},setHighlightedItem(e,o){h.highlightedItem(e,o.value)},clearHighlightedItem(e){h.highlightedItem(e,null,!0)},selectItem(e,o){h.selectedItem(e,o.value)},clearItem(e,o){const r=e.value.filter(a=>a!==o.value);h.selectedItems(e,r)},setSelectedItems(e,o){h.selectedItems(e,o.value)},clearSelectedItems(e){h.selectedItems(e,[])},selectPreviousItem(e){const o=e.collection.getPreviousValue(e.value[0]);h.selectedItem(e,o)},selectNextItem(e){const o=e.collection.getNextValue(e.value[0]);h.selectedItem(e,o)},selectFirstItem(e){const o=e.collection.firstValue;h.selectedItem(e,o)},selectLastItem(e){const o=e.collection.lastValue;h.selectedItem(e,o)},selectMatchingItem(e,o){const r=e.collection.search(o.key,{state:e.typeahead,currentValue:e.value[0]});r!=null&&h.selectedItem(e,r)},scrollContentToTop(e){var o;e.scrollToIndexFn?e.scrollToIndexFn({index:0,immediate:!0}):(o=n.getContentEl(e))==null||o.scrollTo(0,0)},invokeOnOpen(e){var o;(o=e.onOpenChange)==null||o.call(e,{open:!0})},invokeOnClose(e){var o;(o=e.onOpenChange)==null||o.call(e,{open:!1})},syncSelectElement(e){const o=n.getHiddenSelectEl(e);if(o){if(e.value.length===0&&!e.multiple){o.selectedIndex=-1;return}for(const r of o.options)r.selected=e.value.includes(r.value)}},setCollection(e,o){e.collection=o.value},syncCollection(e){const o=e.collection.findMany(e.value),r=e.collection.stringifyItems(o);e.highlightedItem=e.collection.find(e.highlightedValue),e.selectedItems=o,e.valueAsString=r},syncSelectedItems(e){w.valueChange(e)},syncHighlightedItem(e){w.highlightChange(e)}}})}function Ze(t){L(()=>{const i=n.getHiddenSelectEl(t);if(!i)return;const e=n.getWin(t),o=new e.Event("change",{bubbles:!0,composed:!0});i.dispatchEvent(o)})}var w={valueChange:t=>{const i=t.selectedItems;t.selectedItems=t.value.map(e=>{const o=i.find(r=>t.collection.getItemValue(r)===e);return o||t.collection.find(e)}),t.valueAsString=t.collection.stringifyItems(t.selectedItems)},highlightChange:t=>{t.highlightedItem=t.collection.find(t.highlightedValue)}},G={valueChange:t=>{var i;w.valueChange(t),(i=t.onValueChange)==null||i.call(t,{value:Array.from(t.value),items:Array.from(t.selectedItems)}),Ze(t)},highlightChange:t=>{var i;w.highlightChange(t),(i=t.onHighlightChange)==null||i.call(t,{highlightedValue:t.highlightedValue,highlightedItem:t.highlightedItem,highlightedIndex:t.collection.indexOf(t.highlightedValue)})}},h={selectedItem:(t,i,e=!1)=>{if(!F(t.value,i)&&!(i==null&&!e)){if(i==null&&e){t.value=[],G.valueChange(t);return}t.value=t.multiple?je(t.value,i):[i],G.valueChange(t)}},selectedItems:(t,i)=>{F(t.value,i)||(t.value=i,G.valueChange(t))},highlightedItem:(t,i,e=!1)=>{F(t.highlightedValue,i)||i==null&&!e||(t.highlightedValue=i??null,G.highlightChange(t))}};x()(["closeOnSelect","collection","dir","disabled","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","open.controlled","open","composite","positioning","required","readOnly","scrollToIndexFn","value"]);x()(["item","persistFocus"]);x()(["id"]);x()(["htmlFor"]);const ze=t=>{const[i,e]=A()(t,["isItemDisabled","itemToValue","itemToString","items"]),o=m.useMemo(()=>j(i),Object.values(i)),{getRootNode:r}=Me(),{dir:a}=Ue(),s=Y(),g={id:m.useId(),ids:{label:s==null?void 0:s.ids.label,hiddenSelect:s==null?void 0:s.ids.control},disabled:s==null?void 0:s.disabled,readOnly:s==null?void 0:s.readOnly,invalid:s==null?void 0:s.invalid,required:s==null?void 0:s.required,dir:a,getRootNode:r,collection:o,open:t.defaultOpen,value:t.defaultValue,"open.controlled":t.open!==void 0,...e},I={...g,collection:o,value:t.value,onValueChange:D(t.onValueChange,{sync:!0}),onHighlightChange:D(t.onHighlightChange),onOpenChange:D(t.onOpenChange)},[y,C]=Le(Xe(g),{context:I});return Je(y,C,we)},et=(t,i)=>{const[e,o]=Ve(t),[r,a]=A()(o,["closeOnSelect","composite","defaultOpen","defaultValue","disabled","form","highlightedValue","id","ids","invalid","isItemDisabled","items","itemToString","itemToValue","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]),s=ze(r),g=xe(E({present:s.open},e)),I=E(s.getRootProps(),a);return d.jsx(We,{value:s,children:d.jsx(Ae,{value:g,children:d.jsx(f.div,{...I,ref:i})})})},tt=m.forwardRef(et),ne=m.forwardRef((t,i)=>{const e=T(),o=E(e.getTriggerProps(),t);return d.jsx(f.button,{...o,ref:i})});ne.displayName="SelectTrigger";const se=m.forwardRef((t,i)=>{const{children:e,placeholder:o,...r}=t,a=T(),s=E(a.getValueTextProps(),r);return d.jsx(f.span,{...s,ref:i,children:e||a.valueAsString||o})});se.displayName="SelectValueText";const ot=me({base:`${ue.scope} select`,slots:{root:"trds-flex trds-flex-col trds-gap-1.5 trds-w-full",content:"trds-bg-white trds-rounded-lg trds-shadow-lg trds-flex trds-flex-col trds-z-dropdown data-open:trds-animate-fade-in data-closed:trds-animate-fade-out focus-visible:trds-outline-2 focus-visible:trds-outline-solid focus-visible:trds-outline-boundary focus-visible:trds-outline-offset-2",item:"trds-flex trds-items-center trds-justify-between trds-rounded-md trds-cursor-pointer trds-transition-fast trds-transition-[background,color] trds-ease-default hover:trds-bg-layer1 hover:trds-text-black data-highlighted:trds-bg-layer1 data-highlighted:trds-text-black data-selected:trds-text-black data-disabled:trds-text-muted data-disabled:trds-cursor-not-allowed",itemGroupLabel:"trds-font-semibold trds-text-sm",itemIndicator:"trds-text-black",label:"trds-text-neutral-500 trds-font-medium",trigger:"trds-appearance-none trds-inline-flex trds-items-center trds-justify-between trds-border-boundary trds-rounded-lg trds-cursor-pointer trds-text-fg-title trds-inline-flex trds-relative trds-outline-0 trds-transition trds-duration-normal trds-transition-[background,box-shadow,border-color] trds-ease-default trds-w-full trds-border-[1px] focus:trds-border-boundary focus:trds-shadow-[0_0_0_2px_var(--shadow-color)] focus:trds-shadow-primary-500 placeholder-shown:trds-text-fg-placeholder disabled:trds-text-muted disabled:trds-cursor-not-allowed disabled:[&_:where(svg)]:text-muted [&_:where(svg)]:text-subtle",control:"",valueText:"",indicator:"",positioner:"",itemGroup:"",itemText:""},variants:{size:{sm:{content:"trds-p-0.5 trds-gap-1",item:"trds-text-sm trds-px-2 trds-h-9",itemIndicator:"[&_:where(svg)]:w-4 [&_:where(svg)]:h-4",itemGroupLabel:"trds-px-2 trds-py-1.5",label:"trds-text-sm",trigger:"trds-px-2.5 trds-h-9 trds-min-w-9 trds-text-sm trds-gap-2 [&_:where(svg)]:w-4 [&_:where(svg)]:h-4"},md:{content:"trds-p-1 trds-gap-1",item:"trds-text-md trds-px-2 trds-h-10",itemIndicator:"[&_:where(svg)]:w-4 [&_:where(svg)]:h-4",itemGroupLabel:"trds-px-2 trds-py-1.5",label:"trds-text-sm",trigger:"trds-px-3 trds-h-10 trds-min-w-10 trds-text-md trds-gap-2 [&_:where(svg)]:w-4 [&_:where(svg)]:h-4"},lg:{content:"trds-p-1.5 trds-gap-1",item:"trds-text-md trds-px-2 trds-h-11",itemIndicator:"[&_:where(svg)]:w-5 [&_:where(svg)]:h-5",itemGroupLabel:"trds-px-2 trds-py-1.5",label:"trds-text-sm",trigger:"trds-px-3.5 trds-h-11 trds-min-w-11 trds-text-md trds-gap-2 [&_:where(svg)]:w-5 [&_:where(svg)]:h-5"}}},defaultVariants:{size:"md"}}),[it,ae]=he({name:"select",hookName:"useSelectContext",providerName:"SelectProvider",defaultValue:{classes:{},size:"md"}}),rt=m.forwardRef(function(t,i){const{size:e,placeholder:o,className:r,children:a,...s}=t,g=ot({size:e}),I={classes:g,size:e};return d.jsx(it,{value:I,children:d.jsxs(tt,{ref:i,className:b(g.root(),r),positioning:{sameWidth:!0},...s,children:[d.jsx(Q,{className:g.control(),children:d.jsxs(ne,{className:g.trigger(),children:[d.jsx(se,{placeholder:o,className:g.valueText()}),d.jsx(Z,{className:g.indicator(),children:d.jsx(pe,{size:de(e)})})]})}),d.jsx(Ie,{children:d.jsx(le,{className:g.positioner(),children:d.jsx(J,{className:g.content(),children:a})})}),d.jsx(X,{})]})})}),lt=m.forwardRef(function(t,i){const{label:e,className:o,children:r,...a}=t,{classes:s}=ae();return d.jsxs(te,{className:b(s.itemGroup(),o),ref:i,...a,children:[d.jsx(oe,{className:s.itemGroupLabel(),children:e}),r]})}),nt=m.forwardRef(function(t,i){const{className:e,children:o,...r}=t,{classes:a,size:s}=ae();return d.jsxs(ee,{className:b(a.item(),e),ref:i,...r,children:[d.jsx(re,{className:b(a.itemText()),children:o}),d.jsx(ie,{className:b(a.itemIndicator()),children:d.jsx(ve,{size:de(s)})})]})}),de=t=>t==="sm"?20:t==="md"?24:t==="lg"?28:24;rt.__docgenInfo={description:"",methods:[],displayName:"Root"};lt.__docgenInfo={description:"",methods:[],displayName:"ItemGroup"};nt.__docgenInfo={description:"",methods:[],displayName:"Item"};export{lt as I,rt as R,nt as a};
