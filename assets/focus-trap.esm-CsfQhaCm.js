import{r as ye,i as me}from"./factory-BCO0_PXk.js";var K=new WeakMap,P=[];function we(n,e={}){const{rootEl:t}=e,r=n.filter(Boolean);if(r.length===0)return;const u=r[0].ownerDocument||document,s=u.defaultView??window,a=new Set(r),d=new Set,l=t??u.body;let p=h=>{for(let N of h.querySelectorAll("[data-live-announcer], [data-zag-top-layer]"))a.add(N);let f=N=>{if(a.has(N)||d.has(N.parentElement)&&N.parentElement.getAttribute("role")!=="row")return NodeFilter.FILTER_REJECT;for(let W of a)if(N.contains(W))return NodeFilter.FILTER_SKIP;return NodeFilter.FILTER_ACCEPT},w=u.createTreeWalker(h,NodeFilter.SHOW_ELEMENT,{acceptNode:f}),I=f(h);if(I===NodeFilter.FILTER_ACCEPT&&F(h),I!==NodeFilter.FILTER_REJECT){let N=w.nextNode();for(;N!=null;)F(N),N=w.nextNode()}},F=h=>{let f=K.get(h)??0;h.getAttribute("aria-hidden")==="true"&&f===0||(f===0&&h.setAttribute("aria-hidden","true"),d.add(h),K.set(h,f+1))};P.length&&P[P.length-1].disconnect(),p(l);const m=new s.MutationObserver(h=>{for(let f of h)if(!(f.type!=="childList"||f.addedNodes.length===0)&&![...a,...d].some(w=>w.contains(f.target))){for(let w of f.removedNodes)w instanceof s.Element&&(a.delete(w),d.delete(w));for(let w of f.addedNodes)(w instanceof s.HTMLElement||w instanceof s.SVGElement)&&(w.dataset.liveAnnouncer==="true"||w.dataset.zagTopLayer==="true")?a.add(w):w instanceof s.Element&&p(w)}});m.observe(l,{childList:!0,subtree:!0});let E={observe(){m.observe(l,{childList:!0,subtree:!0})},disconnect(){m.disconnect()}};return P.push(E),()=>{m.disconnect();for(let h of d){let f=K.get(h);f===1?(h.removeAttribute("aria-hidden"),K.delete(h)):K.set(h,f-1)}E===P[P.length-1]?(P.pop(),P.length&&P[P.length-1].observe()):P.splice(P.indexOf(E),1)}}function He(n,e={}){const{defer:t}=e,r=t?ye:s=>s(),u=[];return u.push(r(()=>{const s=typeof n=="function"?n():n;u.push(we(s,e))})),()=>{u.forEach(s=>s==null?void 0:s())}}var H="data-zag-scroll-lock";function ae(n,e){if(!n)return;const t=n.style.cssText;return Object.assign(n.style,e),()=>{n.style.cssText=t}}function Ne(n,e,t){if(!n)return;const r=n.style.getPropertyValue(e);return n.style.setProperty(e,t),()=>{r?n.style.setProperty(e,r):n.style.removeProperty(e)}}function Te(n){const e=n.getBoundingClientRect().left;return Math.round(e)+n.scrollLeft?"paddingLeft":"paddingRight"}function Je(n){const e=n??document,t=e.defaultView??window,{documentElement:r,body:u}=e;if(u.hasAttribute(H))return;u.setAttribute(H,"");const a=t.innerWidth-r.clientWidth,d=()=>Ne(r,"--scrollbar-width",`${a}px`),l=Te(r),p=()=>ae(u,{overflow:"hidden",[l]:`${a}px`}),F=()=>{const{scrollX:E,scrollY:h,visualViewport:f}=t,w=(f==null?void 0:f.offsetLeft)??0,I=(f==null?void 0:f.offsetTop)??0,N=ae(u,{position:"fixed",overflow:"hidden",top:`${-(h-Math.floor(I))}px`,left:`${-(E-Math.floor(w))}px`,right:"0",[l]:`${a}px`});return()=>{N==null||N(),t.scrollTo({left:E,top:h,behavior:"instant"})}},m=[d(),me()?F():p()];return()=>{m.forEach(E=>E==null?void 0:E()),u.removeAttribute(H)}}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var le=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],U=le.join(","),de=typeof Element>"u",D=de?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,q=!de&&Element.prototype.getRootNode?function(n){var e;return n==null||(e=n.getRootNode)===null||e===void 0?void 0:e.call(n)}:function(n){return n==null?void 0:n.ownerDocument},V=function n(e,t){var r;t===void 0&&(t=!0);var u=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"inert"),s=u===""||u==="true",a=s||t&&e&&n(e.parentNode);return a},Ee=function(e){var t,r=e==null||(t=e.getAttribute)===null||t===void 0?void 0:t.call(e,"contenteditable");return r===""||r==="true"},fe=function(e,t,r){if(V(e))return[];var u=Array.prototype.slice.apply(e.querySelectorAll(U));return t&&D.call(e,U)&&u.unshift(e),u=u.filter(r),u},ve=function n(e,t,r){for(var u=[],s=Array.from(e);s.length;){var a=s.shift();if(!V(a,!1))if(a.tagName==="SLOT"){var d=a.assignedElements(),l=d.length?d:a.children,p=n(l,!0,r);r.flatten?u.push.apply(u,p):u.push({scopeParent:a,candidates:p})}else{var F=D.call(a,U);F&&r.filter(a)&&(t||!e.includes(a))&&u.push(a);var m=a.shadowRoot||typeof r.getShadowRoot=="function"&&r.getShadowRoot(a),E=!V(m,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(a));if(m&&E){var h=n(m===!0?a.children:m.children,!0,r);r.flatten?u.push.apply(u,h):u.push({scopeParent:a,candidates:h})}else s.unshift.apply(s,a.children)}}return u},be=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},A=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||Ee(e))&&!be(e)?0:e.tabIndex},Fe=function(e,t){var r=A(e);return r<0&&t&&!be(e)?0:r},Se=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},he=function(e){return e.tagName==="INPUT"},Re=function(e){return he(e)&&e.type==="hidden"},Pe=function(e){var t=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(r){return r.tagName==="SUMMARY"});return t},Ce=function(e,t){for(var r=0;r<e.length;r++)if(e[r].checked&&e[r].form===t)return e[r]},Ie=function(e){if(!e.name)return!0;var t=e.form||q(e),r=function(d){return t.querySelectorAll('input[type="radio"][name="'+d+'"]')},u;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")u=r(window.CSS.escape(e.name));else try{u=r(e.name)}catch(a){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",a.message),!1}var s=Ce(u,e.form);return!s||s===e},ke=function(e){return he(e)&&e.type==="radio"},Ae=function(e){return ke(e)&&!Ie(e)},De=function(e){var t,r=e&&q(e),u=(t=r)===null||t===void 0?void 0:t.host,s=!1;if(r&&r!==e){var a,d,l;for(s=!!((a=u)!==null&&a!==void 0&&(d=a.ownerDocument)!==null&&d!==void 0&&d.contains(u)||e!=null&&(l=e.ownerDocument)!==null&&l!==void 0&&l.contains(e));!s&&u;){var p,F,m;r=q(u),u=(p=r)===null||p===void 0?void 0:p.host,s=!!((F=u)!==null&&F!==void 0&&(m=F.ownerDocument)!==null&&m!==void 0&&m.contains(u))}}return s},ne=function(e){var t=e.getBoundingClientRect(),r=t.width,u=t.height;return r===0&&u===0},Oe=function(e,t){var r=t.displayCheck,u=t.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var s=D.call(e,"details>summary:first-of-type"),a=s?e.parentElement:e;if(D.call(a,"details:not([open]) *"))return!0;if(!r||r==="full"||r==="legacy-full"){if(typeof u=="function"){for(var d=e;e;){var l=e.parentElement,p=q(e);if(l&&!l.shadowRoot&&u(l)===!0)return ne(e);e.assignedSlot?e=e.assignedSlot:!l&&p!==e.ownerDocument?e=p.host:e=l}e=d}if(De(e))return!e.getClientRects().length;if(r!=="legacy-full")return!0}else if(r==="non-zero-area")return ne(e);return!1},xe=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if(t.tagName==="FIELDSET"&&t.disabled){for(var r=0;r<t.children.length;r++){var u=t.children.item(r);if(u.tagName==="LEGEND")return D.call(t,"fieldset[disabled] *")?!0:!u.contains(e)}return!0}t=t.parentElement}return!1},$=function(e,t){return!(t.disabled||V(t)||Re(t)||Oe(t,e)||Pe(t)||xe(t))},Z=function(e,t){return!(Ae(t)||A(t)<0||!$(e,t))},Le=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},Be=function n(e){var t=[],r=[];return e.forEach(function(u,s){var a=!!u.scopeParent,d=a?u.scopeParent:u,l=Fe(d,a),p=a?n(u.candidates):d;l===0?a?t.push.apply(t,p):t.push(d):r.push({documentOrder:s,tabIndex:l,item:u,isScope:a,content:p})}),r.sort(Se).reduce(function(u,s){return s.isScope?u.push.apply(u,s.content):u.push(s.content),u},[]).concat(t)},Ke=function(e,t){t=t||{};var r;return t.getShadowRoot?r=ve([e],t.includeContainer,{filter:Z.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:Le}):r=fe(e,t.includeContainer,Z.bind(null,t)),Be(r)},Me=function(e,t){t=t||{};var r;return t.getShadowRoot?r=ve([e],t.includeContainer,{filter:$.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):r=fe(e,t.includeContainer,$.bind(null,t)),r},O=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return D.call(e,U)===!1?!1:Z(t,e)},je=le.concat("iframe").join(","),J=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return D.call(e,je)===!1?!1:$(t,e)};/*!
* focus-trap 7.5.4
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function ie(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(u){return Object.getOwnPropertyDescriptor(n,u).enumerable})),t.push.apply(t,r)}return t}function oe(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?ie(Object(t),!0).forEach(function(r){We(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):ie(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function We(n,e,t){return e=Ue(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Ge(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Ue(n){var e=Ge(n,"string");return typeof e=="symbol"?e:String(e)}var ue={activateTrap:function(e,t){if(e.length>0){var r=e[e.length-1];r!==t&&r.pause()}var u=e.indexOf(t);u===-1||e.splice(u,1),e.push(t)},deactivateTrap:function(e,t){var r=e.indexOf(t);r!==-1&&e.splice(r,1),e.length>0&&e[e.length-1].unpause()}},qe=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Ve=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},j=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},$e=function(e){return j(e)&&!e.shiftKey},ze=function(e){return j(e)&&e.shiftKey},se=function(e){return setTimeout(e,0)},ce=function(e,t){var r=-1;return e.every(function(u,s){return t(u)?(r=s,!1):!0}),r},M=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),u=1;u<t;u++)r[u-1]=arguments[u];return typeof e=="function"?e.apply(void 0,r):e},G=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},Xe=[],Ze=function(e,t){var r=(t==null?void 0:t.document)||document,u=(t==null?void 0:t.trapStack)||Xe,s=oe({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:$e,isKeyBackward:ze},t),a={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},d,l=function(o,i,c){return o&&o[i]!==void 0?o[i]:s[c||i]},p=function(o,i){var c=typeof(i==null?void 0:i.composedPath)=="function"?i.composedPath():void 0;return a.containerGroups.findIndex(function(v){var b=v.container,y=v.tabbableNodes;return b.contains(o)||(c==null?void 0:c.includes(b))||y.find(function(T){return T===o})})},F=function(o){var i=s[o];if(typeof i=="function"){for(var c=arguments.length,v=new Array(c>1?c-1:0),b=1;b<c;b++)v[b-1]=arguments[b];i=i.apply(void 0,v)}if(i===!0&&(i=void 0),!i){if(i===void 0||i===!1)return i;throw new Error("`".concat(o,"` was specified but was not a node, or did not return a node"))}var y=i;if(typeof i=="string"&&(y=r.querySelector(i),!y))throw new Error("`".concat(o,"` as selector refers to no known node"));return y},m=function(){var o=F("initialFocus");if(o===!1)return!1;if(o===void 0||!J(o,s.tabbableOptions))if(p(r.activeElement)>=0)o=r.activeElement;else{var i=a.tabbableGroups[0],c=i&&i.firstTabbableNode;o=c||F("fallbackFocus")}if(!o)throw new Error("Your focus-trap needs to have at least one focusable element");return o},E=function(){if(a.containerGroups=a.containers.map(function(o){var i=Ke(o,s.tabbableOptions),c=Me(o,s.tabbableOptions),v=i.length>0?i[0]:void 0,b=i.length>0?i[i.length-1]:void 0,y=c.find(function(S){return O(S)}),T=c.slice().reverse().find(function(S){return O(S)}),R=!!i.find(function(S){return A(S)>0});return{container:o,tabbableNodes:i,focusableNodes:c,posTabIndexesFound:R,firstTabbableNode:v,lastTabbableNode:b,firstDomTabbableNode:y,lastDomTabbableNode:T,nextTabbableNode:function(k){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,C=i.indexOf(k);return C<0?L?c.slice(c.indexOf(k)+1).find(function(B){return O(B)}):c.slice(0,c.indexOf(k)).reverse().find(function(B){return O(B)}):i[C+(L?1:-1)]}}}),a.tabbableGroups=a.containerGroups.filter(function(o){return o.tabbableNodes.length>0}),a.tabbableGroups.length<=0&&!F("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(a.containerGroups.find(function(o){return o.posTabIndexesFound})&&a.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},h=function g(o){var i=o.activeElement;if(i)return i.shadowRoot&&i.shadowRoot.activeElement!==null?g(i.shadowRoot):i},f=function g(o){if(o!==!1&&o!==h(document)){if(!o||!o.focus){g(m());return}o.focus({preventScroll:!!s.preventScroll}),a.mostRecentlyFocusedNode=o,qe(o)&&o.select()}},w=function(o){var i=F("setReturnFocus",o);return i||(i===!1?!1:o)},I=function(o){var i=o.target,c=o.event,v=o.isBackward,b=v===void 0?!1:v;i=i||G(c),E();var y=null;if(a.tabbableGroups.length>0){var T=p(i,c),R=T>=0?a.containerGroups[T]:void 0;if(T<0)b?y=a.tabbableGroups[a.tabbableGroups.length-1].lastTabbableNode:y=a.tabbableGroups[0].firstTabbableNode;else if(b){var S=ce(a.tabbableGroups,function(X){var Y=X.firstTabbableNode;return i===Y});if(S<0&&(R.container===i||J(i,s.tabbableOptions)&&!O(i,s.tabbableOptions)&&!R.nextTabbableNode(i,!1))&&(S=T),S>=0){var k=S===0?a.tabbableGroups.length-1:S-1,L=a.tabbableGroups[k];y=A(i)>=0?L.lastTabbableNode:L.lastDomTabbableNode}else j(c)||(y=R.nextTabbableNode(i,!1))}else{var C=ce(a.tabbableGroups,function(X){var Y=X.lastTabbableNode;return i===Y});if(C<0&&(R.container===i||J(i,s.tabbableOptions)&&!O(i,s.tabbableOptions)&&!R.nextTabbableNode(i))&&(C=T),C>=0){var B=C===a.tabbableGroups.length-1?0:C+1,re=a.tabbableGroups[B];y=A(i)>=0?re.firstTabbableNode:re.firstDomTabbableNode}else j(c)||(y=R.nextTabbableNode(i))}}else y=F("fallbackFocus");return y},N=function(o){var i=G(o);if(!(p(i,o)>=0)){if(M(s.clickOutsideDeactivates,o)){d.deactivate({returnFocus:s.returnFocusOnDeactivate});return}M(s.allowOutsideClick,o)||o.preventDefault()}},W=function(o){var i=G(o),c=p(i,o)>=0;if(c||i instanceof Document)c&&(a.mostRecentlyFocusedNode=i);else{o.stopImmediatePropagation();var v,b=!0;if(a.mostRecentlyFocusedNode)if(A(a.mostRecentlyFocusedNode)>0){var y=p(a.mostRecentlyFocusedNode),T=a.containerGroups[y].tabbableNodes;if(T.length>0){var R=T.findIndex(function(S){return S===a.mostRecentlyFocusedNode});R>=0&&(s.isKeyForward(a.recentNavEvent)?R+1<T.length&&(v=T[R+1],b=!1):R-1>=0&&(v=T[R-1],b=!1))}}else a.containerGroups.some(function(S){return S.tabbableNodes.some(function(k){return A(k)>0})})||(b=!1);else b=!1;b&&(v=I({target:a.mostRecentlyFocusedNode,isBackward:s.isKeyBackward(a.recentNavEvent)})),f(v||a.mostRecentlyFocusedNode||m())}a.recentNavEvent=void 0},pe=function(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;a.recentNavEvent=o;var c=I({event:o,isBackward:i});c&&(j(o)&&o.preventDefault(),f(c))},Q=function(o){if(Ve(o)&&M(s.escapeDeactivates,o)!==!1){o.preventDefault(),d.deactivate();return}(s.isKeyForward(o)||s.isKeyBackward(o))&&pe(o,s.isKeyBackward(o))},_=function(o){var i=G(o);p(i,o)>=0||M(s.clickOutsideDeactivates,o)||M(s.allowOutsideClick,o)||(o.preventDefault(),o.stopImmediatePropagation())},ee=function(){if(a.active)return ue.activateTrap(u,d),a.delayInitialFocusTimer=s.delayInitialFocus?se(function(){f(m())}):f(m()),r.addEventListener("focusin",W,!0),r.addEventListener("mousedown",N,{capture:!0,passive:!1}),r.addEventListener("touchstart",N,{capture:!0,passive:!1}),r.addEventListener("click",_,{capture:!0,passive:!1}),r.addEventListener("keydown",Q,{capture:!0,passive:!1}),d},te=function(){if(a.active)return r.removeEventListener("focusin",W,!0),r.removeEventListener("mousedown",N,!0),r.removeEventListener("touchstart",N,!0),r.removeEventListener("click",_,!0),r.removeEventListener("keydown",Q,!0),d},ge=function(o){var i=o.some(function(c){var v=Array.from(c.removedNodes);return v.some(function(b){return b===a.mostRecentlyFocusedNode})});i&&f(m())},z=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(ge):void 0,x=function(){z&&(z.disconnect(),a.active&&!a.paused&&a.containers.map(function(o){z.observe(o,{subtree:!0,childList:!0})}))};return d={get active(){return a.active},get paused(){return a.paused},activate:function(o){if(a.active)return this;var i=l(o,"onActivate"),c=l(o,"onPostActivate"),v=l(o,"checkCanFocusTrap");v||E(),a.active=!0,a.paused=!1,a.nodeFocusedBeforeActivation=r.activeElement,i==null||i();var b=function(){v&&E(),ee(),x(),c==null||c()};return v?(v(a.containers.concat()).then(b,b),this):(b(),this)},deactivate:function(o){if(!a.active)return this;var i=oe({onDeactivate:s.onDeactivate,onPostDeactivate:s.onPostDeactivate,checkCanReturnFocus:s.checkCanReturnFocus},o);clearTimeout(a.delayInitialFocusTimer),a.delayInitialFocusTimer=void 0,te(),a.active=!1,a.paused=!1,x(),ue.deactivateTrap(u,d);var c=l(i,"onDeactivate"),v=l(i,"onPostDeactivate"),b=l(i,"checkCanReturnFocus"),y=l(i,"returnFocus","returnFocusOnDeactivate");c==null||c();var T=function(){se(function(){y&&f(w(a.nodeFocusedBeforeActivation)),v==null||v()})};return y&&b?(b(w(a.nodeFocusedBeforeActivation)).then(T,T),this):(T(),this)},pause:function(o){if(a.paused||!a.active)return this;var i=l(o,"onPause"),c=l(o,"onPostPause");return a.paused=!0,i==null||i(),te(),x(),c==null||c(),this},unpause:function(o){if(!a.paused||!a.active)return this;var i=l(o,"onUnpause"),c=l(o,"onPostUnpause");return a.paused=!1,i==null||i(),E(),ee(),x(),c==null||c(),this},updateContainerElements:function(o){var i=[].concat(o).filter(Boolean);return a.containers=i.map(function(c){return typeof c=="string"?r.querySelector(c):c}),a.active&&E(),x(),this}},d.updateContainerElements(e),d};export{He as a,Ze as c,Je as p};
