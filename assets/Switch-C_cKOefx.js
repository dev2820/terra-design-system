import{j as a}from"./jsx-runtime-qGIIFXMu.js";import{I as x,c as R}from"./index-CO00fS6N.js";import{r as h}from"./index-CDs2tPxN.js";import{s as H}from"./sva-qXmx1AZm.js";import{j as N,c as D,y as g,z as b,k as F,l as $,m as u,v as j,o as O,p as _,s as L,B as q,F as K}from"./factory-BCwUXDVF.js";import{c as B,b as V,i as A}from"./index-Dquv0SIZ.js";import{c as G}from"./index-DJ3ti8gJ.js";import{c as X}from"./create-split-props-u5h9OPvL.js";import{t as M,b as z}from"./index-qa1jsk-d.js";import{t as J,d as Q}from"./index-DBzJ7FiP.js";import{u as U,a as W}from"./use-locale-context-0tfyuFre.js";import{u as Y}from"./use-event-eGuf5zsd.js";import{u as I}from"./use-field-context-BjqdMh-O.js";var v=N("switch").parts("root","label","control","thumb");v.build();var m=B({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`switch:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`switch:${e.id}:label`},getThumbId:e=>{var t;return((t=e.ids)==null?void 0:t.thumb)??`switch:${e.id}:thumb`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`switch:${e.id}:control`},getHiddenInputId:e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`switch:${e.id}:input`},getRootEl:e=>m.getById(e,m.getRootId(e)),getHiddenInputEl:e=>m.getById(e,m.getHiddenInputId(e))});G()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);const[Z,k]=D({name:"SwitchContext",hookName:"useSwitchContext",providerName:"<SwitchProvider />"}),w=h.forwardRef((e,t)=>{const o=k(),r=g(o.getControlProps(),e);return a.jsx(b.span,{...r,ref:t})});w.displayName="SwitchControl";const E=h.forwardRef((e,t)=>{const o=k(),r=g(o.getHiddenInputProps(),e),d=I();return a.jsx(b.input,{"aria-describedby":d==null?void 0:d.ariaDescribedby,...r,ref:t})});E.displayName="SwitchHiddenInput";var ee=F("switch").parts("root","label","control","thumb"),p=ee.build(),n=$({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`switch:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`switch:${e.id}:label`},getThumbId:e=>{var t;return((t=e.ids)==null?void 0:t.thumb)??`switch:${e.id}:thumb`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`switch:${e.id}:control`},getHiddenInputId:e=>{var t;return((t=e.ids)==null?void 0:t.hiddenInput)??`switch:${e.id}:input`},getRootEl:e=>n.getById(e,n.getRootId(e)),getHiddenInputEl:e=>n.getById(e,n.getHiddenInputId(e))});function te(e,t,o){const r=e.context.isDisabled,d=!r&&e.context.focused,i=e.context.checked,c=e.context.readOnly,l={"data-active":u(e.context.active),"data-focus":u(d),"data-readonly":u(c),"data-hover":u(e.context.hovered),"data-disabled":u(r),"data-state":e.context.checked?"checked":"unchecked","data-invalid":u(e.context.invalid)};return{checked:i,disabled:r,focused:d,setChecked(s){t({type:"CHECKED.SET",checked:s,isTrusted:!1})},toggleChecked(){t({type:"CHECKED.TOGGLE",checked:i,isTrusted:!1})},getRootProps(){return o.label({...p.root.attrs,...l,dir:e.context.dir,id:n.getRootId(e.context),htmlFor:n.getHiddenInputId(e.context),onPointerMove(){r||t({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){r||t({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(s){s.target===n.getHiddenInputEl(e.context)&&s.stopPropagation()}})},getLabelProps(){return o.element({...p.label.attrs,...l,dir:e.context.dir,id:n.getLabelId(e.context)})},getThumbProps(){return o.element({...p.thumb.attrs,...l,dir:e.context.dir,id:n.getThumbId(e.context),"aria-hidden":!0})},getControlProps(){return o.element({...p.control.attrs,...l,dir:e.context.dir,id:n.getControlId(e.context),"aria-hidden":!0})},getHiddenInputProps(){return o.input({id:n.getHiddenInputId(e.context),type:"checkbox",required:e.context.required,defaultChecked:i,disabled:r,"aria-labelledby":n.getLabelId(e.context),"aria-invalid":e.context.invalid,name:e.context.name,form:e.context.form,value:e.context.value,style:j,onClick(s){if(c){s.preventDefault();return}const S=s.currentTarget.checked;t({type:"CHECKED.SET",checked:S,isTrusted:!0})}})}}}var{not:C}=L;function oe(e){const t=V(e);return O({id:"switch",initial:"ready",context:{checked:!1,label:"switch",value:"on",disabled:!1,...t,fieldsetDisabled:!1},computed:{isDisabled:o=>o.disabled||o.fieldsetDisabled},watch:{disabled:"removeFocusIfNeeded",checked:"syncInputElement"},activities:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:C("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:C("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}}},{guards:{isTrusted:(o,r)=>!!r.isTrusted},activities:{trackPressEvent(o){if(!o.isDisabled)return M({pointerNode:n.getRootEl(o),keyboardNode:n.getHiddenInputEl(o),isValidKey:r=>r.key===" ",onPress:()=>o.active=!1,onPressStart:()=>o.active=!0,onPressEnd:()=>o.active=!1})},trackFocusVisible(o){if(!o.isDisabled)return z(n.getHiddenInputEl(o),{onFocus:()=>o.focused=!0,onBlur:()=>o.focused=!1})},trackFormControlState(o,r,{send:d,initialContext:i}){return J(n.getHiddenInputEl(o),{onFieldsetDisabledChange(c){o.fieldsetDisabled=c},onFormReset(){d({type:"CHECKED.SET",checked:!!i.checked,src:"form-reset"})}})}},actions:{setContext(o,r){Object.assign(o,r.context)},syncInputElement(o){const r=n.getHiddenInputEl(o);r&&(r.checked=!!o.checked)},removeFocusIfNeeded(o){o.disabled&&o.focused&&(o.focused=!1)},setChecked(o,r){f.checked(o,r.checked)},toggleChecked(o,r){f.checked(o,!o.checked)},dispatchChangeEvent(o){const r=n.getHiddenInputEl(o);Q(r,{checked:o.checked})}}})}var re={change:e=>{var t;(t=e.onCheckedChange)==null||t.call(e,{checked:e.checked})}},f={checked:(e,t)=>{A(e.checked,t)||(e.checked=t,re.change(e))}};_()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);const ne=e=>{const{getRootNode:t}=U(),{dir:o}=W(),r=I(),d={id:h.useId(),ids:{label:r==null?void 0:r.ids.label,hiddenInput:r==null?void 0:r.ids.control},dir:o,disabled:r==null?void 0:r.disabled,readOnly:r==null?void 0:r.readOnly,invalid:r==null?void 0:r.invalid,required:r==null?void 0:r.required,getRootNode:t,checked:e.defaultChecked,...e},i={...d,checked:e.checked,onCheckedChange:Y(e.onCheckedChange,{sync:!0})},[c,l]=q(oe(d),{context:i});return te(c,l,K)},y=h.forwardRef((e,t)=>{const[o,r]=X()(e,["checked","defaultChecked","disabled","form","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]),d=ne(o),i=g(d.getRootProps(),r);return a.jsx(Z,{value:d,children:a.jsx(b.label,{...i,ref:t})})});y.displayName="SwitchRoot";const P=h.forwardRef((e,t)=>{const o=k(),r=g(o.getThumbProps(),e);return a.jsx(b.span,{...r,ref:t})});P.displayName="SwitchThumb";const de=H({className:`${x.scope} switch`,slots:v.keys(),base:{root:{alignItems:"center",display:"flex",position:"relative",_disabled:{opacity:60}},control:{alignItems:"center",background:"neutral.300",borderRadius:"full",cursor:"pointer",display:"inline-flex",flexShrink:"0",transitionDuration:"normal",transitionProperty:"background",transitionTimingFunction:"default",_checked:{background:"primary"},_disabled:{cursor:"not-allowed"}},thumb:{background:"white",borderRadius:"full",boxShadow:"xs",transitionDuration:"normal",transitionProperty:"transform, background",transitionTimingFunction:"default",_checked:{transform:"translateX(100%)",background:{base:"white",_dark:"primary.foreground"}}}},defaultVariants:{size:"md"},variants:{size:{sm:{root:{gap:"2"},control:{width:"7",p:"0.5"},thumb:{width:"3",height:"3"}},md:{root:{gap:"3"},control:{width:"9",p:"0.5"},thumb:{width:"4",height:"4"}},lg:{root:{gap:"4"},control:{width:"11",p:"0.5"},thumb:{width:"5",height:"5"}}}}}),T=h.forwardRef(function(e,t){const{size:o,className:r,...d}=e,i=de({size:o});return a.jsxs(y,{ref:t,className:R(i.root,r),...d,children:[a.jsx(w,{className:i.control,children:a.jsx(P,{className:i.thumb})}),a.jsx(E,{})]})});T.displayName="Switch";T.__docgenInfo={description:"",methods:[],displayName:"Switch"};export{T as R};
