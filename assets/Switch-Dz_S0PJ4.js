import{j as a}from"./jsx-runtime-qGIIFXMu.js";import{t as P,I as T,c as S}from"./tv-CIwtzMts.js";import{r as h}from"./index-CDs2tPxN.js";import{c as H,p as m,s as g,a as N,b as R,d as u,v as D,e as F,f as j,g as O,z as L,D as q}from"./factory-Bfpif5Qa.js";import{c as K}from"./create-split-props-u5h9OPvL.js";import{t as V,b as $}from"./index-Bc8Or9Mt.js";import{t as _,d as G}from"./index-DBzJ7FiP.js";import{c as A,a as B}from"./index-DE2wJq7j.js";import{a as M,u as X}from"./use-locale-context-hL6yk3cA.js";import{u as z}from"./use-event-eGuf5zsd.js";import{u as f}from"./use-field-context-Bc1L1tNp.js";const[J,b]=H({name:"SwitchContext",hookName:"useSwitchContext",providerName:"<SwitchProvider />"}),v=h.forwardRef((e,d)=>{const t=b(),r=m(t.getControlProps(),e);return a.jsx(g.span,{...r,ref:d})});v.displayName="SwitchControl";const E=h.forwardRef((e,d)=>{const t=b(),r=m(t.getHiddenInputProps(),e),s=f();return a.jsx(g.input,{"aria-describedby":s==null?void 0:s.ariaDescribedby,...r,ref:d})});E.displayName="SwitchHiddenInput";var Q=N("switch").parts("root","label","control","thumb"),p=Q.build(),o=R({getRootId:e=>{var d;return((d=e.ids)==null?void 0:d.root)??`switch:${e.id}`},getLabelId:e=>{var d;return((d=e.ids)==null?void 0:d.label)??`switch:${e.id}:label`},getThumbId:e=>{var d;return((d=e.ids)==null?void 0:d.thumb)??`switch:${e.id}:thumb`},getControlId:e=>{var d;return((d=e.ids)==null?void 0:d.control)??`switch:${e.id}:control`},getHiddenInputId:e=>{var d;return((d=e.ids)==null?void 0:d.hiddenInput)??`switch:${e.id}:input`},getRootEl:e=>o.getById(e,o.getRootId(e)),getHiddenInputEl:e=>o.getById(e,o.getHiddenInputId(e))});function U(e,d,t){const r=e.context.isDisabled,s=!r&&e.context.focused,n=e.context.checked,i=e.context.readOnly,l={"data-active":u(e.context.active),"data-focus":u(s),"data-readonly":u(i),"data-hover":u(e.context.hovered),"data-disabled":u(r),"data-state":e.context.checked?"checked":"unchecked","data-invalid":u(e.context.invalid)};return{checked:n,disabled:r,focused:s,setChecked(c){d({type:"CHECKED.SET",checked:c,isTrusted:!1})},toggleChecked(){d({type:"CHECKED.TOGGLE",checked:n,isTrusted:!1})},getRootProps(){return t.label({...p.root.attrs,...l,dir:e.context.dir,id:o.getRootId(e.context),htmlFor:o.getHiddenInputId(e.context),onPointerMove(){r||d({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){r||d({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(c){c.target===o.getHiddenInputEl(e.context)&&c.stopPropagation()}})},getLabelProps(){return t.element({...p.label.attrs,...l,dir:e.context.dir,id:o.getLabelId(e.context)})},getThumbProps(){return t.element({...p.thumb.attrs,...l,dir:e.context.dir,id:o.getThumbId(e.context),"aria-hidden":!0})},getControlProps(){return t.element({...p.control.attrs,...l,dir:e.context.dir,id:o.getControlId(e.context),"aria-hidden":!0})},getHiddenInputProps(){return t.input({id:o.getHiddenInputId(e.context),type:"checkbox",required:e.context.required,defaultChecked:n,disabled:r,"aria-labelledby":o.getLabelId(e.context),"aria-invalid":e.context.invalid,name:e.context.name,form:e.context.form,value:e.context.value,style:D,onClick(c){if(i){c.preventDefault();return}const x=c.currentTarget.checked;d({type:"CHECKED.SET",checked:x,isTrusted:!0})}})}}}var{not:k}=O;function W(e){const d=A(e);return F({id:"switch",initial:"ready",context:{checked:!1,label:"switch",value:"on",disabled:!1,...d,fieldsetDisabled:!1},computed:{isDisabled:t=>t.disabled||t.fieldsetDisabled},watch:{disabled:"removeFocusIfNeeded",checked:"syncInputElement"},activities:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:k("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:k("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}}},{guards:{isTrusted:(t,r)=>!!r.isTrusted},activities:{trackPressEvent(t){if(!t.isDisabled)return V({pointerNode:o.getRootEl(t),keyboardNode:o.getHiddenInputEl(t),isValidKey:r=>r.key===" ",onPress:()=>t.active=!1,onPressStart:()=>t.active=!0,onPressEnd:()=>t.active=!1})},trackFocusVisible(t){if(!t.isDisabled)return $(o.getHiddenInputEl(t),{onFocus:()=>t.focused=!0,onBlur:()=>t.focused=!1})},trackFormControlState(t,r,{send:s,initialContext:n}){return _(o.getHiddenInputEl(t),{onFieldsetDisabledChange(i){t.fieldsetDisabled=i},onFormReset(){s({type:"CHECKED.SET",checked:!!n.checked,src:"form-reset"})}})}},actions:{setContext(t,r){Object.assign(t,r.context)},syncInputElement(t){const r=o.getHiddenInputEl(t);r&&(r.checked=!!t.checked)},removeFocusIfNeeded(t){t.disabled&&t.focused&&(t.focused=!1)},setChecked(t,r){C.checked(t,r.checked)},toggleChecked(t,r){C.checked(t,!t.checked)},dispatchChangeEvent(t){const r=o.getHiddenInputEl(t);G(r,{checked:t.checked})}}})}var Y={change:e=>{var d;(d=e.onCheckedChange)==null||d.call(e,{checked:e.checked})}},C={checked:(e,d)=>{B(e.checked,d)||(e.checked=d,Y.change(e))}};j()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);const Z=e=>{const{getRootNode:d}=M(),{dir:t}=X(),r=f(),s={id:h.useId(),ids:{label:r==null?void 0:r.ids.label,hiddenInput:r==null?void 0:r.ids.control},dir:t,disabled:r==null?void 0:r.disabled,readOnly:r==null?void 0:r.readOnly,invalid:r==null?void 0:r.invalid,required:r==null?void 0:r.required,getRootNode:d,checked:e.defaultChecked,...e},n={...s,checked:e.checked,onCheckedChange:z(e.onCheckedChange,{sync:!0})},[i,l]=L(W(s),{context:n});return U(i,l,q)},w=h.forwardRef((e,d)=>{const[t,r]=K()(e,["checked","defaultChecked","disabled","form","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]),s=Z(t),n=m(s.getRootProps(),r);return a.jsx(J,{value:s,children:a.jsx(g.label,{...n,ref:d})})});w.displayName="SwitchRoot";const I=h.forwardRef((e,d)=>{const t=b(),r=m(t.getThumbProps(),e);return a.jsx(g.span,{...r,ref:d})});I.displayName="SwitchThumb";const ee=P({base:`${T.scope} switch`,slots:{root:"trds-flex trds-items-center trds-relative data-disabled:trds-opacity-60",control:"trds-inline-flex trds-items-center trds-bg-muted trds-rounded-full trds-cursor-pointer trds-flex-shrink-0 trds-transition trds-duration-normal trds-transition-[background] trds-ease-default data-checked:trds-bg-primary data-disabled:trds-cursor-not-allowed",thumb:"trds-bg-white trds-rounded-full trds-shadow-xs trds-transition trds-duration-normal trds-transition-[transform,background] trds-ease-default data-checked:trds-translate-x-[100%] data-checked:trds-bg-white"},variants:{size:{sm:{root:"trds-gap-2",control:"trds-w-7 trds-p-0.5",thumb:"trds-w-3 trds-h-3"},md:{root:"trds-gap-3",control:"trds-w-9 trds-p-0.5",thumb:"trds-w-4 trds-h-4"},lg:{root:"trds-gap-4",control:"trds-w-11 trds-p-0.5",thumb:"trds-w-5 trds-h-5"}}},defaultVariants:{size:"md"}}),y=h.forwardRef(function(e,d){const{size:t,className:r,...s}=e,n=ee({size:t});return a.jsxs(w,{ref:d,className:S(n.root(),r),...s,children:[a.jsx(v,{className:n.control(),children:a.jsx(I,{className:n.thumb()})}),a.jsx(E,{})]})});y.displayName="Switch";y.__docgenInfo={description:"",methods:[],displayName:"Switch"};export{y as R};
