import{j as d}from"./jsx-runtime-qGIIFXMu.js";import{t as Ie,I as fe,c as N}from"./tv-CIwtzMts.js";import{r as m}from"./index-CDs2tPxN.js";import{c as ve}from"./create-react-context-Dw26gLIP.js";import{C as Ee}from"./chevron-down-Du6SRUSG.js";import{Z as Te,l as Ce,c as D,p as v,s as E,a as Oe,y as J,b as ye,d as g,X as U,T as Se,v as be,L as Pe,_ as Re,Y as Ne,e as Ge,r as w,G as Ve,f as F,g as xe,$ as we,a0 as Le,z as Ae,D as ke}from"./factory-Bfpif5Qa.js";import{r as De}from"./index-B-yFm4aN.js";import{a as X,u as Fe}from"./use-locale-context-hL6yk3cA.js";import{C as He}from"./check-DUDaO23Y.js";import{c as H}from"./create-split-props-u5h9OPvL.js";import{g as _e,a as q,s as je}from"./index-Bxx3IDnZ.js";import{a as Z,u as Me,P as We}from"./use-presence-C6AD7UWc.js";import{a as L,o as j,q as M,c as Ue,s as Be}from"./index-DE2wJq7j.js";import{d as Ke,g as Y}from"./index-Bc8Or9Mt.js";import{a as $e}from"./index-Dhu86lpg.js";import{t as qe}from"./index-DBzJ7FiP.js";import{u as W}from"./use-event-eGuf5zsd.js";import{u as Q}from"./use-field-context-Bc1L1tNp.js";var Ye=Object.defineProperty,Je=(e,i,t)=>i in e?Ye(e,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[i]=t,Xe=(e,i,t)=>Je(e,i+"",t),A={itemToValue(e){return typeof e=="string"?e:j(e)&&M(e,"value")?e.value:""},itemToString(e){return typeof e=="string"?e:j(e)&&M(e,"label")?e.label:A.itemToValue(e)},isItemDisabled(e){return j(e)&&M(e,"disabled")?!!e.disabled:!1}},z=class{constructor(e){this.options=e,Xe(this,"items"),this.items=[...e.items]}isEqual(e){return L(this.items,e.items)}setItems(e){this.items=Array.from(e)}getValues(e=this.items){return Array.from(e).map(i=>this.getItemValue(i)).filter(Boolean)}find(e){if(e==null)return null;const i=this.items.findIndex(t=>this.getItemValue(t)===e);return i!=null?this.items[i]:null}findMany(e){return Array.from(e).map(i=>this.find(i)).filter(Boolean)}at(e){return this.items[e]??null}sortFn(e,i){const t=this.indexOf(e),r=this.indexOf(i);return(t??0)-(r??0)}sort(e){return[...e].sort(this.sortFn.bind(this))}getItemValue(e){var i,t;return e==null?null:((t=(i=this.options).itemToValue)==null?void 0:t.call(i,e))??A.itemToValue(e)}getItemDisabled(e){var i,t;return e==null?!1:((t=(i=this.options).isItemDisabled)==null?void 0:t.call(i,e))??A.isItemDisabled(e)}stringifyItem(e){var i,t;return e==null?null:((t=(i=this.options).itemToString)==null?void 0:t.call(i,e))??A.itemToString(e)}stringify(e){return e==null?null:this.stringifyItem(this.find(e))}stringifyItems(e,i=", "){return Array.from(e).map(t=>this.stringifyItem(t)).filter(Boolean).join(i)}stringifyMany(e,i){return this.stringifyItems(this.findMany(e),i)}has(e){return this.indexOf(e)!==-1}hasItem(e){return e==null?!1:this.has(this.getItemValue(e))}get size(){return this.items.length}get firstValue(){let e=0;for(;this.getItemDisabled(this.at(e));)e++;return this.getItemValue(this.at(e))}get lastValue(){let e=this.size-1;for(;this.getItemDisabled(this.at(e));)e--;return this.getItemValue(this.at(e))}getNextValue(e){let i=this.indexOf(e);if(i===-1)return null;for(i++;i<=this.size&&this.getItemDisabled(this.at(i));)i++;return this.getItemValue(this.at(i))}getPreviousValue(e){let i=this.indexOf(e);if(i===-1)return null;for(i--;i>=0&&this.getItemDisabled(this.at(i));)i--;return this.getItemValue(this.at(i))}indexOf(e){return e==null?-1:this.items.findIndex(i=>this.getItemValue(i)===e)}getByText(e,i){let t=i!=null?Qe(this.items,this.indexOf(i)):this.items;return e.length===1&&(t=t.filter(o=>this.getItemValue(o)!==i)),t.find(o=>Ze(this.stringifyItem(o),e))}search(e,i){const{state:t,currentValue:r,timeout:o=350}=i,a=t.keysSoFar+e,u=a.length>1&&Array.from(a).every(P=>P===a[0])?a[0]:a,p=this.getByText(u,r),O=this.getItemValue(p);function C(){clearTimeout(t.timer),t.timer=-1}function b(P){t.keysSoFar=P,C(),P!==""&&(t.timer=+setTimeout(()=>{b(""),C()},o))}return b(a),O}*[Symbol.iterator](){yield*this.items}insertBefore(e,i){const t=this.indexOf(e);t!==-1&&this.items.splice(t,0,i)}insertAfter(e,i){const t=this.indexOf(e);t!==-1&&this.items.splice(t+1,0,i)}reorder(e,i){if(e===-1||i===-1||e===i)return;const[t]=this.items.splice(e,1);this.items.splice(i,0,t)}toJSON(){return{size:this.size,first:this.firstValue,last:this.lastValue}}},Ze=(e,i)=>!!(e!=null&&e.toLowerCase().startsWith(i.toLowerCase())),Qe=(e,i)=>e.map((t,r)=>e[(Math.max(i,0)+r)%e.length]);const ze=()=>{const[e,i]=m.useState(!0);return m.useEffect(()=>{i(!1)},[]),e},et=e=>{const{children:i,container:t,disabled:r}=e,o=ze(),{getRootNode:a}=X();if(o||r)return d.jsx(d.Fragment,{children:i});const l=(t==null?void 0:t.current)??tt(a);return d.jsx(d.Fragment,{children:m.Children.map(i,u=>De.createPortal(u,l))})};function tt(e){const i=e==null?void 0:e(),t=i.getRootNode();return Te(t)?t:Ce(i).body}const[it,T]=D({name:"SelectContext",hookName:"useSelectContext",providerName:"<SelectProvider />"}),ee=m.forwardRef((e,i)=>{const t=T(),r=Z(),o=v(t.getContentProps(),r.getPresenceProps(i),e);return r.unmounted?null:d.jsx(E.div,{...o})});ee.displayName="SelectContent";const te=m.forwardRef((e,i)=>{const t=T(),r=v(t.getControlProps(),e);return d.jsx(E.div,{...r,ref:i})});te.displayName="SelectControl";const ie=m.forwardRef((e,i)=>{const t=T(),r=v(t.getHiddenSelectProps(),e),o=t.value.length===0,a=Q();return d.jsxs(E.select,{"aria-describedby":a==null?void 0:a.ariaDescribedby,...r,ref:i,children:[o&&d.jsx("option",{value:""}),t.collection.items.map((l,u)=>d.jsx("option",{value:t.collection.getItemValue(l)??"",disabled:t.collection.getItemDisabled(l)},u))]})});ie.displayName="SelectHiddenSelect";const re=m.forwardRef((e,i)=>{const t=T(),r=v(t.getIndicatorProps(),e);return d.jsx(E.div,{...r,ref:i})});re.displayName="SelectIndicator";const[rt,Ht]=D({name:"SelectItemContext",hookName:"useSelectItemContext",providerName:"<SelectItemProvider />"}),[ot,oe]=D({name:"SelectItemPropsContext",hookName:"useSelectItemPropsContext",providerName:"<SelectItemPropsProvider />"}),ne=m.forwardRef((e,i)=>{const[t,r]=H()(e,["item","persistFocus"]),o=T(),a=v(o.getItemProps(t),r),l=o.getItemState(t);return d.jsx(ot,{value:t,children:d.jsx(rt,{value:l,children:d.jsx(E.div,{...a,ref:i})})})});ne.displayName="SelectItem";const[nt,st]=D({name:"SelectItemGroupPropsContext",hookName:"useSelectItemGroupPropsContext",providerName:"<SelectItemGroupPropsProvider />"}),se=m.forwardRef((e,i)=>{const t=m.useId(),[r,o]=H()(e,["id"]),a={id:t,...r},l=T(),u=v(l.getItemGroupProps(a),o);return d.jsx(nt,{value:a,children:d.jsx(E.div,{...u,ref:i})})});se.displayName="SelectItemGroup";const le=m.forwardRef((e,i)=>{const t=T(),r=st(),o=v(t.getItemGroupLabelProps({htmlFor:r.id}),e);return d.jsx(E.div,{...o,ref:i})});le.displayName="SelectItemGroupLabel";const ae=m.forwardRef((e,i)=>{const t=T(),r=oe(),o=v(t.getItemIndicatorProps(r),e);return d.jsx(E.div,{...o,ref:i})});ae.displayName="SelectItemIndicator";const de=m.forwardRef((e,i)=>{const t=T(),r=oe(),o=v(t.getItemTextProps(r),e);return d.jsx(E.span,{...o,ref:i})});de.displayName="SelectItemText";const ce=m.forwardRef((e,i)=>{const t=T(),r=v(t.getPositionerProps(),e);return Z().unmounted?null:d.jsx(E.div,{...r,ref:i})});ce.displayName="SelectPositioner";var lt=Oe("select").parts("label","positioner","trigger","indicator","clearTrigger","item","itemText","itemIndicator","itemGroup","itemGroupLabel","list","content","root","control","valueText"),f=lt.build(),B=e=>J(new z(e));B.empty=()=>J(new z({items:[]}));var s=ye({getRootId:e=>{var i;return((i=e.ids)==null?void 0:i.root)??`select:${e.id}`},getContentId:e=>{var i;return((i=e.ids)==null?void 0:i.content)??`select:${e.id}:content`},getTriggerId:e=>{var i;return((i=e.ids)==null?void 0:i.trigger)??`select:${e.id}:trigger`},getClearTriggerId:e=>{var i;return((i=e.ids)==null?void 0:i.clearTrigger)??`select:${e.id}:clear-trigger`},getLabelId:e=>{var i;return((i=e.ids)==null?void 0:i.label)??`select:${e.id}:label`},getControlId:e=>{var i;return((i=e.ids)==null?void 0:i.control)??`select:${e.id}:control`},getItemId:(e,i)=>{var t,r;return((r=(t=e.ids)==null?void 0:t.item)==null?void 0:r.call(t,i))??`select:${e.id}:option:${i}`},getHiddenSelectId:e=>{var i;return((i=e.ids)==null?void 0:i.hiddenSelect)??`select:${e.id}:select`},getPositionerId:e=>{var i;return((i=e.ids)==null?void 0:i.positioner)??`select:${e.id}:positioner`},getItemGroupId:(e,i)=>{var t,r;return((r=(t=e.ids)==null?void 0:t.itemGroup)==null?void 0:r.call(t,i))??`select:${e.id}:optgroup:${i}`},getItemGroupLabelId:(e,i)=>{var t,r;return((r=(t=e.ids)==null?void 0:t.itemGroupLabel)==null?void 0:r.call(t,i))??`select:${e.id}:optgroup-label:${i}`},getHiddenSelectEl:e=>s.getById(e,s.getHiddenSelectId(e)),getContentEl:e=>s.getById(e,s.getContentId(e)),getControlEl:e=>s.getById(e,s.getControlId(e)),getTriggerEl:e=>s.getById(e,s.getTriggerId(e)),getClearTriggerEl:e=>s.getById(e,s.getClearTriggerId(e)),getPositionerEl:e=>s.getById(e,s.getPositionerId(e)),getHighlightedOptionEl(e){return e.highlightedValue?s.getById(e,s.getItemId(e,e.highlightedValue)):null}});function at(e,i,t){const r=e.context.isDisabled,o=e.context.invalid,a=e.context.readOnly,l=e.context.isInteractive,u=e.context.composite,p=e.hasTag("open"),O=e.matches("focused"),C=e.context.highlightedValue,b=e.context.highlightedItem,P=e.context.selectedItems,K=e.context.isTypingAhead,G=e.context.collection,_=C?s.getItemId(e.context,C):void 0;function V(n){const c=G.getItemDisabled(n.item),I=G.getItemValue(n.item);return{value:I,disabled:!!(r||c),highlighted:C===I,selected:e.context.value.includes(I)}}const pe=_e({...e.context.positioning,placement:e.context.currentPlacement});return{open:p,focused:O,empty:e.context.value.length===0,highlightedItem:b,highlightedValue:C,selectedItems:P,hasSelectedItems:e.context.hasSelectedItems,value:e.context.value,valueAsString:e.context.valueAsString,collection:G,setCollection(n){i({type:"COLLECTION.SET",value:n})},reposition(n={}){i({type:"POSITIONING.SET",options:n})},focus(){var n;(n=s.getTriggerEl(e.context))==null||n.focus({preventScroll:!0})},setOpen(n){n!==p&&i(n?"OPEN":"CLOSE")},selectValue(n){i({type:"ITEM.SELECT",value:n})},setValue(n){i({type:"VALUE.SET",value:n})},selectAll(){i({type:"VALUE.SET",value:G.getValues()})},highlightValue(n){i({type:"HIGHLIGHTED_VALUE.SET",value:n})},clearValue(n){i(n?{type:"ITEM.CLEAR",value:n}:{type:"VALUE.CLEAR"})},getItemState:V,getRootProps(){return t.element({...f.root.attrs,dir:e.context.dir,id:s.getRootId(e.context),"data-invalid":g(o),"data-readonly":g(a)})},getLabelProps(){return t.label({dir:e.context.dir,id:s.getLabelId(e.context),...f.label.attrs,"data-disabled":g(r),"data-invalid":g(o),"data-readonly":g(a),htmlFor:s.getHiddenSelectId(e.context),onClick(n){var c;n.defaultPrevented||r||(c=s.getTriggerEl(e.context))==null||c.focus({preventScroll:!0})}})},getControlProps(){return t.element({...f.control.attrs,dir:e.context.dir,id:s.getControlId(e.context),"data-state":p?"open":"closed","data-focus":g(O),"data-disabled":g(r),"data-invalid":g(o)})},getValueTextProps(){return t.element({...f.valueText.attrs,dir:e.context.dir,"data-disabled":g(r),"data-invalid":g(o),"data-focus":g(O)})},getTriggerProps(){return t.button({id:s.getTriggerId(e.context),disabled:r,dir:e.context.dir,type:"button",role:"combobox","aria-controls":s.getContentId(e.context),"aria-expanded":p,"aria-haspopup":"listbox","data-state":p?"open":"closed","aria-invalid":o,"aria-labelledby":s.getLabelId(e.context),...f.trigger.attrs,"data-disabled":g(r),"data-invalid":g(o),"data-readonly":g(a),"data-placement":e.context.currentPlacement,"data-placeholder-shown":g(!e.context.hasSelectedItems),onPointerDown(n){Ke(n)&&l&&(n.currentTarget.dataset.pointerType=n.pointerType,!(r||n.pointerType==="touch")&&i({type:"TRIGGER.CLICK"}))},onClick(n){!l||n.button||n.currentTarget.dataset.pointerType==="touch"&&i({type:"TRIGGER.CLICK"})},onFocus(){i("TRIGGER.FOCUS")},onBlur(){i("TRIGGER.BLUR")},onKeyDown(n){if(n.defaultPrevented||!l)return;const I={ArrowUp(){i({type:"TRIGGER.ARROW_UP"})},ArrowDown(y){i({type:y.altKey?"OPEN":"TRIGGER.ARROW_DOWN"})},ArrowLeft(){i({type:"TRIGGER.ARROW_LEFT"})},ArrowRight(){i({type:"TRIGGER.ARROW_RIGHT"})},Home(){i({type:"TRIGGER.HOME"})},End(){i({type:"TRIGGER.END"})},Enter(){i({type:"TRIGGER.ENTER"})},Space(y){i(K?{type:"TRIGGER.TYPEAHEAD",key:y.key}:{type:"TRIGGER.ENTER"})}}[Y(n,e.context)];if(I){I(n),n.preventDefault();return}U.isValidEvent(n)&&(i({type:"TRIGGER.TYPEAHEAD",key:n.key}),n.preventDefault())}})},getIndicatorProps(){return t.element({...f.indicator.attrs,dir:e.context.dir,"aria-hidden":!0,"data-state":p?"open":"closed","data-disabled":g(r),"data-invalid":g(o),"data-readonly":g(a)})},getItemProps(n){const c=V(n);return t.element({id:s.getItemId(e.context,c.value),role:"option",...f.item.attrs,dir:e.context.dir,"data-value":c.value,"aria-selected":c.selected,"data-state":c.selected?"checked":"unchecked","data-highlighted":g(c.highlighted),"data-disabled":g(c.disabled),"aria-disabled":Se(c.disabled),onPointerMove(I){c.disabled||I.pointerType!=="mouse"||c.value!==e.context.highlightedValue&&i({type:"ITEM.POINTER_MOVE",value:c.value})},onPointerUp(){c.disabled||i({type:"ITEM.CLICK",src:"pointerup",value:c.value})},onPointerLeave(I){c.disabled||n.persistFocus||I.pointerType!=="mouse"||["CONTENT.ARROW_UP","CONTENT.ARROW_DOWN"].includes(e.event.type)||i({type:"ITEM.POINTER_LEAVE"})},onTouchEnd(I){I.preventDefault(),I.stopPropagation()}})},getItemTextProps(n){const c=V(n);return t.element({...f.itemText.attrs,"data-state":c.selected?"checked":"unchecked","data-disabled":g(c.disabled),"data-highlighted":g(c.highlighted)})},getItemIndicatorProps(n){const c=V(n);return t.element({"aria-hidden":!0,...f.itemIndicator.attrs,"data-state":c.selected?"checked":"unchecked",hidden:!c.selected})},getItemGroupLabelProps(n){const{htmlFor:c}=n;return t.element({...f.itemGroupLabel.attrs,id:s.getItemGroupLabelId(e.context,c),role:"group",dir:e.context.dir})},getItemGroupProps(n){const{id:c}=n;return t.element({...f.itemGroup.attrs,"data-disabled":g(r),id:s.getItemGroupId(e.context,c),"aria-labelledby":s.getItemGroupLabelId(e.context,c),dir:e.context.dir})},getClearTriggerProps(){return t.button({...f.clearTrigger.attrs,id:s.getClearTriggerId(e.context),type:"button","aria-label":"Clear value","data-invalid":g(o),disabled:r,hidden:!e.context.hasSelectedItems,dir:e.context.dir,onClick(n){n.defaultPrevented||i("CLEAR.CLICK")}})},getHiddenSelectProps(){return t.select({name:e.context.name,form:e.context.form,disabled:r,multiple:e.context.multiple,required:e.context.required,"aria-hidden":!0,id:s.getHiddenSelectId(e.context),defaultValue:e.context.multiple?e.context.value:e.context.value[0],style:be,tabIndex:-1,onFocus(){var n;(n=s.getTriggerEl(e.context))==null||n.focus({preventScroll:!0})},"aria-labelledby":s.getLabelId(e.context)})},getPositionerProps(){return t.element({...f.positioner.attrs,dir:e.context.dir,id:s.getPositionerId(e.context),style:pe.floating})},getContentProps(){return t.element({hidden:!p,dir:e.context.dir,id:s.getContentId(e.context),role:u?"listbox":"dialog",...f.content.attrs,"data-state":p?"open":"closed","data-placement":e.context.currentPlacement,"data-activedescendant":_,"aria-activedescendant":u?_:void 0,"aria-multiselectable":e.context.multiple&&u?!0:void 0,"aria-labelledby":s.getLabelId(e.context),tabIndex:0,onKeyDown(n){if(!l||!Pe(n))return;if(n.key==="Tab"&&!Re(n)){n.preventDefault();return}const c={ArrowUp(){i({type:"CONTENT.ARROW_UP"})},ArrowDown(){i({type:"CONTENT.ARROW_DOWN"})},Home(){i({type:"CONTENT.HOME"})},End(){i({type:"CONTENT.END"})},Enter(){i({type:"ITEM.CLICK",src:"keydown.enter"})},Space(y){var $;K?i({type:"CONTENT.TYPEAHEAD",key:y.key}):($=c.Enter)==null||$.call(c,y)}},I=c[Y(n)];if(I){I(n),n.preventDefault();return}Ne(n.target)||U.isValidEvent(n)&&(i({type:"CONTENT.TYPEAHEAD",key:n.key}),n.preventDefault())}})},getListProps(){return t.element({...f.list.attrs,tabIndex:0,role:u?void 0:"listbox","aria-labelledby":s.getTriggerId(e.context),"aria-activedescendant":u?void 0:_,"aria-multiselectable":!u&&e.context.multiple?!0:void 0})}}}var{and:R,not:S,or:dt}=xe;function ct(e){const i=Ue(e);return Ge({id:"select",context:{value:[],highlightedValue:null,loopFocus:!1,closeOnSelect:!i.multiple,disabled:!1,readOnly:!1,composite:!0,...i,highlightedItem:null,selectedItems:[],valueAsString:"",collection:i.collection??B.empty(),typeahead:U.defaultOptions,fieldsetDisabled:!1,restoreFocus:!0,positioning:{placement:"bottom-start",gutter:8,...i.positioning}},computed:{hasSelectedItems:t=>t.value.length>0,isTypingAhead:t=>t.typeahead.keysSoFar!=="",isDisabled:t=>!!t.disabled||t.fieldsetDisabled,isInteractive:t=>!(t.isDisabled||t.readOnly)},initial:i.open?"open":"idle",created:["syncCollection"],entry:["syncSelectElement"],watch:{open:["toggleVisibility"],value:["syncSelectedItems","syncSelectElement"],highlightedValue:["syncHighlightedItem"],collection:["syncCollection"]},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"VALUE.CLEAR":{actions:["clearSelectedItems"]},"CLEAR.CLICK":{actions:["clearSelectedItems","focusTriggerEl"]},"COLLECTION.SET":{actions:["setCollection"]}},activities:["trackFormControlState"],states:{idle:{tags:["closed"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["highlightFirstSelectedItem"]},{target:"open"}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}]}},focused:{tags:["closed"],entry:["focusTriggerEl"],on:{"CONTROLLED.OPEN":[{guard:"isTriggerClickEvent",target:"open",actions:["highlightFirstSelectedItem"]},{guard:"isTriggerArrowUpEvent",target:"open",actions:["highlightComputedLastItem"]},{guard:dt("isTriggerArrowDownEvent","isTriggerEnterEvent"),target:"open",actions:["highlightComputedFirstItem"]},{target:"open"}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen"]}],"TRIGGER.BLUR":{target:"idle"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","highlightFirstSelectedItem"]}],"TRIGGER.ENTER":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_UP":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","highlightComputedLastItem"]}],"TRIGGER.ARROW_DOWN":[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","highlightComputedFirstItem"]}],"TRIGGER.ARROW_LEFT":[{guard:R(S("multiple"),"hasSelectedItems"),actions:["selectPreviousItem"]},{guard:S("multiple"),actions:["selectLastItem"]}],"TRIGGER.ARROW_RIGHT":[{guard:R(S("multiple"),"hasSelectedItems"),actions:["selectNextItem"]},{guard:S("multiple"),actions:["selectFirstItem"]}],"TRIGGER.HOME":{guard:S("multiple"),actions:["selectFirstItem"]},"TRIGGER.END":{guard:S("multiple"),actions:["selectLastItem"]},"TRIGGER.TYPEAHEAD":{guard:S("multiple"),actions:["selectMatchingItem"]}}},open:{tags:["open"],entry:["setInitialFocus"],exit:["scrollContentToTop"],activities:["trackDismissableElement","computePlacement","scrollToHighlightedItem"],on:{"CONTROLLED.CLOSE":[{guard:"shouldRestoreFocus",target:"focused",actions:["clearHighlightedItem"]},{target:"idle",actions:["clearHighlightedItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","clearHighlightedItem"]}],"ITEM.CLICK":[{guard:R("closeOnSelect","isOpenControlled"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","clearHighlightedItem"]},{actions:["selectHighlightedItem"]}],"CONTENT.INTERACT_OUTSIDE":[{guard:R("shouldRestoreFocus","isOpenControlled"),actions:["invokeOnClose"]},{guard:"shouldRestoreFocus",target:"focused",actions:["invokeOnClose","clearHighlightedItem"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose","clearHighlightedItem"]}],"CONTENT.HOME":{actions:["highlightFirstItem"]},"CONTENT.END":{actions:["highlightLastItem"]},"CONTENT.ARROW_DOWN":[{guard:R("hasHighlightedItem","loop","isLastItemHighlighted"),actions:["highlightFirstItem"]},{guard:"hasHighlightedItem",actions:["highlightNextItem"]},{actions:["highlightFirstItem"]}],"CONTENT.ARROW_UP":[{guard:R("hasHighlightedItem","loop","isFirstItemHighlighted"),actions:["highlightLastItem"]},{guard:"hasHighlightedItem",actions:["highlightPreviousItem"]},{actions:["highlightLastItem"]}],"CONTENT.TYPEAHEAD":{actions:["highlightMatchingItem"]},"ITEM.POINTER_MOVE":{actions:["highlightItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"POSITIONING.SET":{actions:["reposition"]}}}}},{guards:{loop:t=>!!t.loopFocus,multiple:t=>!!t.multiple,hasSelectedItems:t=>!!t.hasSelectedItems,hasHighlightedItem:t=>t.highlightedValue!=null,isFirstItemHighlighted:t=>t.highlightedValue===t.collection.firstValue,isLastItemHighlighted:t=>t.highlightedValue===t.collection.lastValue,closeOnSelect:(t,r)=>!!(r.closeOnSelect??t.closeOnSelect),shouldRestoreFocus:t=>!!t.restoreFocus,isOpenControlled:t=>!!t["open.controlled"],isTriggerClickEvent:(t,r)=>{var o;return((o=r.previousEvent)==null?void 0:o.type)==="TRIGGER.CLICK"},isTriggerEnterEvent:(t,r)=>{var o;return((o=r.previousEvent)==null?void 0:o.type)==="TRIGGER.ENTER"},isTriggerArrowUpEvent:(t,r)=>{var o;return((o=r.previousEvent)==null?void 0:o.type)==="TRIGGER.ARROW_UP"},isTriggerArrowDownEvent:(t,r)=>{var o;return((o=r.previousEvent)==null?void 0:o.type)==="TRIGGER.ARROW_DOWN"}},activities:{trackFormControlState(t,r,{initialContext:o}){return qe(s.getHiddenSelectEl(t),{onFieldsetDisabledChange(a){t.fieldsetDisabled=a},onFormReset(){h.selectedItems(t,o.value)}})},trackDismissableElement(t,r,{send:o}){return $e(()=>s.getContentEl(t),{defer:!0,exclude:[s.getTriggerEl(t),s.getClearTriggerEl(t)],onFocusOutside:t.onFocusOutside,onPointerDownOutside:t.onPointerDownOutside,onInteractOutside(l){var u;(u=t.onInteractOutside)==null||u.call(t,l),t.restoreFocus=!l.detail.focusable},onDismiss(){o({type:"CONTENT.INTERACT_OUTSIDE"})}})},computePlacement(t){return t.currentPlacement=t.positioning.placement,q(()=>s.getTriggerEl(t),()=>s.getPositionerEl(t),{defer:!0,...t.positioning,onComplete(a){t.currentPlacement=a.placement}})},scrollToHighlightedItem(t,r,{getState:o}){const a=u=>{if(t.highlightedValue==null||o().event.type.includes("POINTER"))return;const O=s.getHighlightedOptionEl(t),C=s.getContentEl(t);if(t.scrollToIndexFn){const b=t.collection.indexOf(t.highlightedValue);t.scrollToIndexFn({index:b,immediate:u});return}Le(O,{rootEl:C,block:"nearest"})};return w(()=>a(!0)),Ve(()=>s.getContentEl(t),{defer:!0,attributes:["data-activedescendant"],callback(){a(!1)}})}},actions:{reposition(t,r){const o=()=>s.getPositionerEl(t);q(s.getTriggerEl(t),o,{...t.positioning,...r.options,defer:!0,listeners:!1,onComplete(a){t.currentPlacement=a.placement}})},toggleVisibility(t,r,{send:o}){o({type:t.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:r})},highlightPreviousItem(t){if(t.highlightedValue==null)return;const r=t.collection.getPreviousValue(t.highlightedValue);h.highlightedItem(t,r)},highlightNextItem(t){if(t.highlightedValue==null)return;const r=t.collection.getNextValue(t.highlightedValue);h.highlightedItem(t,r)},highlightFirstItem(t){const r=t.collection.firstValue;h.highlightedItem(t,r)},highlightLastItem(t){const r=t.collection.lastValue;h.highlightedItem(t,r)},setInitialFocus(t){w(()=>{const r=we({root:s.getContentEl(t)});r==null||r.focus({preventScroll:!0})})},focusTriggerEl(t){w(()=>{var r;(r=s.getTriggerEl(t))==null||r.focus({preventScroll:!0})})},selectHighlightedItem(t,r){const o=r.value??t.highlightedValue;o!=null&&h.selectedItem(t,o)},highlightComputedFirstItem(t){const r=t.hasSelectedItems?t.collection.sort(t.value)[0]:t.collection.firstValue;h.highlightedItem(t,r)},highlightComputedLastItem(t){const r=t.hasSelectedItems?t.collection.sort(t.value)[0]:t.collection.lastValue;h.highlightedItem(t,r)},highlightFirstSelectedItem(t){if(!t.hasSelectedItems)return;const[r]=t.collection.sort(t.value);h.highlightedItem(t,r)},highlightItem(t,r){h.highlightedItem(t,r.value)},highlightMatchingItem(t,r){const o=t.collection.search(r.key,{state:t.typeahead,currentValue:t.highlightedValue});o!=null&&h.highlightedItem(t,o)},setHighlightedItem(t,r){h.highlightedItem(t,r.value)},clearHighlightedItem(t){h.highlightedItem(t,null,!0)},selectItem(t,r){h.selectedItem(t,r.value)},clearItem(t,r){const o=t.value.filter(a=>a!==r.value);h.selectedItems(t,o)},setSelectedItems(t,r){h.selectedItems(t,r.value)},clearSelectedItems(t){h.selectedItems(t,[])},selectPreviousItem(t){const r=t.collection.getPreviousValue(t.value[0]);h.selectedItem(t,r)},selectNextItem(t){const r=t.collection.getNextValue(t.value[0]);h.selectedItem(t,r)},selectFirstItem(t){const r=t.collection.firstValue;h.selectedItem(t,r)},selectLastItem(t){const r=t.collection.lastValue;h.selectedItem(t,r)},selectMatchingItem(t,r){const o=t.collection.search(r.key,{state:t.typeahead,currentValue:t.value[0]});o!=null&&h.selectedItem(t,o)},scrollContentToTop(t){var r;t.scrollToIndexFn?t.scrollToIndexFn({index:0,immediate:!0}):(r=s.getContentEl(t))==null||r.scrollTo(0,0)},invokeOnOpen(t){var r;(r=t.onOpenChange)==null||r.call(t,{open:!0})},invokeOnClose(t){var r;(r=t.onOpenChange)==null||r.call(t,{open:!1})},syncSelectElement(t){const r=s.getHiddenSelectEl(t);if(r){if(t.value.length===0&&!t.multiple){r.selectedIndex=-1;return}for(const o of r.options)o.selected=t.value.includes(o.value)}},setCollection(t,r){t.collection=r.value},syncCollection(t){const r=t.collection.findMany(t.value),o=t.collection.stringifyItems(r);t.highlightedItem=t.collection.find(t.highlightedValue),t.selectedItems=r,t.valueAsString=o},syncSelectedItems(t){k.valueChange(t)},syncHighlightedItem(t){k.highlightChange(t)}}})}function ut(e){w(()=>{const i=s.getHiddenSelectEl(e);if(!i)return;const t=s.getWin(e),r=new t.Event("change",{bubbles:!0,composed:!0});i.dispatchEvent(r)})}var k={valueChange:e=>{const i=e.selectedItems;e.selectedItems=e.value.map(t=>{const r=i.find(o=>e.collection.getItemValue(o)===t);return r||e.collection.find(t)}),e.valueAsString=e.collection.stringifyItems(e.selectedItems)},highlightChange:e=>{e.highlightedItem=e.collection.find(e.highlightedValue)}},x={valueChange:e=>{var i;k.valueChange(e),(i=e.onValueChange)==null||i.call(e,{value:Array.from(e.value),items:Array.from(e.selectedItems)}),ut(e)},highlightChange:e=>{var i;k.highlightChange(e),(i=e.onHighlightChange)==null||i.call(e,{highlightedValue:e.highlightedValue,highlightedItem:e.highlightedItem,highlightedIndex:e.collection.indexOf(e.highlightedValue)})}},h={selectedItem:(e,i,t=!1)=>{if(!L(e.value,i)&&!(i==null&&!t)){if(i==null&&t){e.value=[],x.valueChange(e);return}e.value=e.multiple?Be(e.value,i):[i],x.valueChange(e)}},selectedItems:(e,i)=>{L(e.value,i)||(e.value=i,x.valueChange(e))},highlightedItem:(e,i,t=!1)=>{L(e.highlightedValue,i)||i==null&&!t||(e.highlightedValue=i??null,x.highlightChange(e))}};F()(["closeOnSelect","collection","dir","disabled","form","getRootNode","highlightedValue","id","ids","invalid","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","open.controlled","open","composite","positioning","required","readOnly","scrollToIndexFn","value"]);F()(["item","persistFocus"]);F()(["id"]);F()(["htmlFor"]);const gt=e=>{const[i,t]=H()(e,["isItemDisabled","itemToValue","itemToString","items"]),r=m.useMemo(()=>B(i),Object.values(i)),{getRootNode:o}=X(),{dir:a}=Fe(),l=Q(),u={id:m.useId(),ids:{label:l==null?void 0:l.ids.label,hiddenSelect:l==null?void 0:l.ids.control},disabled:l==null?void 0:l.disabled,readOnly:l==null?void 0:l.readOnly,invalid:l==null?void 0:l.invalid,required:l==null?void 0:l.required,dir:a,getRootNode:o,collection:r,open:e.defaultOpen,value:e.defaultValue,"open.controlled":e.open!==void 0,...t},p={...u,collection:r,value:e.value,onValueChange:W(e.onValueChange,{sync:!0}),onHighlightChange:W(e.onHighlightChange),onOpenChange:W(e.onOpenChange)},[O,C]=Ae(ct(u),{context:p});return at(O,C,ke)},ht=(e,i)=>{const[t,r]=je(e),[o,a]=H()(r,["closeOnSelect","composite","defaultOpen","defaultValue","disabled","form","highlightedValue","id","ids","invalid","isItemDisabled","items","itemToString","itemToValue","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInteractOutside","onOpenChange","onPointerDownOutside","onValueChange","open","positioning","readOnly","required","scrollToIndexFn","value"]),l=gt(o),u=Me(v({present:l.open},t)),p=v(l.getRootProps(),a);return d.jsx(it,{value:l,children:d.jsx(We,{value:u,children:d.jsx(E.div,{...p,ref:i})})})},mt=m.forwardRef(ht),ue=m.forwardRef((e,i)=>{const t=T(),r=v(t.getTriggerProps(),e);return d.jsx(E.button,{...r,ref:i})});ue.displayName="SelectTrigger";const ge=m.forwardRef((e,i)=>{const{children:t,placeholder:r,...o}=e,a=T(),l=v(a.getValueTextProps(),o);return d.jsx(E.span,{...l,ref:i,children:t||a.valueAsString||r})});ge.displayName="SelectValueText";const pt=Ie({base:`${fe.scope} select`,slots:{root:"trds-flex trds-flex-col trds-gap-1.5 trds-w-full",content:"trds-bg-white trds-rounded-lg trds-shadow-lg trds-flex trds-flex-col trds-z-dropdown data-open:trds-animate-fade-in data-closed:trds-animate-fade-out focus-visible:trds-outline-2 focus-visible:trds-outline-solid focus-visible:trds-outline-boundary focus-visible:trds-outline-offset-2",item:"trds-flex trds-items-center trds-justify-between trds-rounded-md trds-cursor-pointer trds-transition-fast trds-transition-[background,color] trds-ease-default hover:trds-bg-layer1 hover:trds-text-black data-highlighted:trds-bg-layer1 data-highlighted:trds-text-black data-selected:trds-text-black data-disabled:trds-text-muted data-disabled:trds-cursor-not-allowed",itemGroupLabel:"trds-font-semibold trds-text-sm",itemIndicator:"trds-text-black",label:"trds-text-neutral-500 trds-font-medium",trigger:"trds-appearance-none trds-inline-flex trds-items-center trds-justify-between trds-border-boundary trds-rounded-lg trds-cursor-pointer trds-text-fg-title trds-inline-flex trds-relative trds-outline-0 trds-transition trds-duration-normal trds-transition-[background,box-shadow,border-color] trds-ease-default trds-w-full trds-border-[1px] focus:trds-border-boundary focus:trds-shadow-[0_0_0_2px_var(--shadow-color)] focus:trds-shadow-primary-500 placeholder-shown:trds-text-fg-placeholder disabled:trds-text-muted disabled:trds-cursor-not-allowed disabled:[&_:where(svg)]:text-muted [&_:where(svg)]:text-subtle",control:"",valueText:"",indicator:"",positioner:"",itemGroup:"",itemText:""},variants:{size:{sm:{content:"trds-p-0.5 trds-gap-1",item:"trds-text-sm trds-px-2 trds-h-9",itemIndicator:"[&_:where(svg)]:w-4 [&_:where(svg)]:h-4",itemGroupLabel:"trds-px-2 trds-py-1.5",label:"trds-text-sm",trigger:"trds-px-2.5 trds-h-9 trds-min-w-9 trds-text-sm trds-gap-2 [&_:where(svg)]:w-4 [&_:where(svg)]:h-4"},md:{content:"trds-p-1 trds-gap-1",item:"trds-text-md trds-px-2 trds-h-10",itemIndicator:"[&_:where(svg)]:w-4 [&_:where(svg)]:h-4",itemGroupLabel:"trds-px-2 trds-py-1.5",label:"trds-text-sm",trigger:"trds-px-3 trds-h-10 trds-min-w-10 trds-text-md trds-gap-2 [&_:where(svg)]:w-4 [&_:where(svg)]:h-4"},lg:{content:"trds-p-1.5 trds-gap-1",item:"trds-text-md trds-px-2 trds-h-11",itemIndicator:"[&_:where(svg)]:w-5 [&_:where(svg)]:h-5",itemGroupLabel:"trds-px-2 trds-py-1.5",label:"trds-text-sm",trigger:"trds-px-3.5 trds-h-11 trds-min-w-11 trds-text-md trds-gap-2 [&_:where(svg)]:w-5 [&_:where(svg)]:h-5"}}},defaultVariants:{size:"md"}}),[It,he]=ve({name:"select",hookName:"useSelectContext",providerName:"SelectProvider",defaultValue:{classes:{},size:"md"}}),ft=m.forwardRef(function(e,i){const{size:t,placeholder:r,className:o,children:a,...l}=e,u=pt({size:t}),p={classes:u,size:t};return d.jsx(It,{value:p,children:d.jsxs(mt,{ref:i,className:N(u.root(),o),positioning:{sameWidth:!0},...l,children:[d.jsx(te,{className:u.control(),children:d.jsxs(ue,{className:u.trigger(),children:[d.jsx(ge,{placeholder:r,className:u.valueText()}),d.jsx(re,{className:u.indicator(),children:d.jsx(Ee,{size:me(t)})})]})}),d.jsx(et,{children:d.jsx(ce,{className:u.positioner(),children:d.jsx(ee,{className:u.content(),children:a})})}),d.jsx(ie,{})]})})}),vt=m.forwardRef(function(e,i){const{label:t,className:r,children:o,...a}=e,{classes:l}=he();return d.jsxs(se,{className:N(l.itemGroup(),r),ref:i,...a,children:[d.jsx(le,{className:l.itemGroupLabel(),children:t}),o]})}),Et=m.forwardRef(function(e,i){const{className:t,children:r,...o}=e,{classes:a,size:l}=he();return d.jsxs(ne,{className:N(a.item(),t),ref:i,...o,children:[d.jsx(de,{className:N(a.itemText()),children:r}),d.jsx(ae,{className:N(a.itemIndicator()),children:d.jsx(He,{size:me(l)})})]})}),me=e=>e==="sm"?20:e==="md"?24:e==="lg"?28:24;ft.__docgenInfo={description:"",methods:[],displayName:"Root"};vt.__docgenInfo={description:"",methods:[],displayName:"ItemGroup"};Et.__docgenInfo={description:"",methods:[],displayName:"Item"};export{z as C,vt as I,et as P,ft as R,Et as a};
