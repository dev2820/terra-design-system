import{j as u}from"./jsx-runtime-qGIIFXMu.js";import{t as ee,I as re,c as x}from"./tv-CIwtzMts.js";import{r as g}from"./index-CDs2tPxN.js";import{c as te}from"./create-react-context-Dw26gLIP.js";import{c as oe,a as ne,b as se,q as ie,U as ae,d as S,e as de,f as G,z as T,s as I,p as h,A as le,E as ce}from"./factory-CadeRpXq.js";import{c as E}from"./create-split-props-u5h9OPvL.js";import{c as ue,n as ge,p as pe,a as me,j as V}from"./index-BzeP-DbB.js";import{u as fe,a as xe}from"./use-locale-context-BgVInbo7.js";import{u as Ie}from"./use-event-eGuf5zsd.js";const[ve,P]=oe({name:"CarouselContext",hookName:"useCarouselContext",providerName:"<CarouselProvider />"});var j=ne("carousel").parts("root","viewport","itemGroup","item","nextTrigger","prevTrigger","indicatorGroup","indicator"),v=j.build(),c=se({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`carousel:${e.id}`},getViewportId:e=>{var t;return((t=e.ids)==null?void 0:t.viewport)??`carousel:${e.id}:viewport`},getItemId:(e,t)=>{var r,o;return((o=(r=e.ids)==null?void 0:r.item)==null?void 0:o.call(r,t))??`carousel:${e.id}:item:${t}`},getItemGroupId:e=>{var t;return((t=e.ids)==null?void 0:t.itemGroup)??`carousel:${e.id}:item-group`},getNextTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.nextTrigger)??`carousel:${e.id}:next-trigger`},getPrevTriggerId:e=>{var t;return((t=e.ids)==null?void 0:t.prevTrigger)??`carousel:${e.id}:prev-trigger`},getIndicatorGroupId:e=>{var t;return((t=e.ids)==null?void 0:t.indicatorGroup)??`carousel:${e.id}:indicator-group`},getIndicatorId:(e,t)=>{var r,o;return((o=(r=e.ids)==null?void 0:r.indicator)==null?void 0:o.call(r,t))??`carousel:${e.id}:indicator:${t}`},getRootEl:e=>c.getById(e,c.getRootId(e)),getViewportEl:e=>c.getById(e,c.getViewportId(e)),getSlideGroupEl:e=>c.getById(e,c.getItemGroupId(e)),getSlideEls:e=>ie(c.getSlideGroupEl(e),"[data-part=item]")});function _(e,t){const r=Math.abs(e-t);function o(d){return d<e}function n(d){return d>t}function s(d){return o(d)||n(d)}function a(d){return s(d)?o(d)?e:t:d}function i(d){return r?d-r*Math.ceil((d-t)/r):d}return{length:r,max:t,min:e,constrain:a,reachedAny:s,reachedMax:n,reachedMin:o,removeOffset:i}}var he=(e,t)=>{const r={start:o,center:n,end:s};function o(){return 0}function n(i){return s(i)/2}function s(i){return t-i}function a(){return t*Number(e)}return i=>V(e)?a():r[e](i)};function ye(e,t,r){function o(s,a){return Array.from(s.keys()).filter(i=>i%a===0).map(i=>s.slice(i,i+a))}function n(s){return Array.from(s.keys()).reduce((a,i)=>{const p=t.slice(a.at(-1),i+1).reduce((l,f)=>l+f,0);return!i||p>e?a.concat(i):a},[]).map((a,i,d)=>s.slice(a,d[i+1]))}return function(a){return V(r)?o(a,r):n(a)}}function Pe(e){const t=r();function r(){if(!e.containerRect)return 0;const a=e.slideRects[0];return Math.abs(e.containerRect[e.startEdge]-a[e.startEdge])}function o(){return e.slideRects.map((a,i,d)=>i?i===d.length-1?Math.abs(n[i]):Math.abs(d[i+1][e.startEdge]-a[e.startEdge]):Math.abs(n[i]+t))}const n=e.slideRects.map(a=>e.isVertical?a.height:a.width),s=o();return{slideSizes:n,slideSizesWithGaps:s}}var R=e=>e[Ce(e)],Ce=e=>Math.max(0,e.length-1);function M(e){const{slideSizes:t,slideSizesWithGaps:r}=Pe(e),o=ye(e.containerSize,r,e.slidesPerView);function n(){return o(e.slideRects).map(m=>R(m)[e.endEdge]-m[0][e.startEdge]).map(Math.abs)}function s(){return e.slideRects.map(m=>e.containerRect[e.startEdge]-m[e.startEdge]).map(m=>-Math.abs(m))}function a(){const m=he(e.align,e.containerSize),N=n().map(m);return o(i).map(C=>C[0]).map((C,w)=>C+N[w])}const i=s(),d=a(),p=-R(i)+R(r),l=_(i[i.length-1],i[0]),f=(d[e.index]-l.max)/-l.length;return{snaps:i,snapsAligned:d,slideSizes:t,slideSizesWithGaps:r,contentSize:p,scrollLimit:l,scrollProgress:Math.abs(f)}}var Se=0;function Ne(e){const r=[0],{snaps:o,slideSizes:n,scrollLimit:s}=M(e),a=n.map(d=>_(.5,d-.5).constrain(d*Se)),i=r.reduce((d,p)=>{const l=o.map((f,m)=>({start:f-n[m]+a[m]+p,end:f+e.containerSize-a[m]+p,index:m}));return d.concat(l)},[]);return d=>{const p=s.constrain(d);return i.reduce((l,f)=>{const{index:m,start:N,end:C}=f,w=l.includes(m),Z=N<p&&C>p;return!w&&Z?l.concat([m]):l},[])}}function we(e,t,r){const o=e.context.canScrollNext,n=e.context.canScrollPrev,s=e.context.isHorizontal,a=e.matches("autoplay"),i=e.context.scrollSnaps[e.context.index],d=ae()?Ne(e.context)(i):[];function p(l){return{valueText:`Slide ${l.index+1}`,current:l.index===e.context.index,next:l.index===e.context.index+1,previous:l.index===e.context.index-1,inView:d.includes(l.index)}}return{index:e.context.index,scrollProgress:e.context.scrollProgress,autoPlaying:a,canScrollNext:o,canScrollPrev:n,scrollTo(l,f){t({type:"GOTO",index:l,jump:f})},scrollToNext(){t("NEXT")},scrollToPrevious(){t("PREV")},getItemState:p,play(){t("PLAY")},pause(){t("PAUSE")},getRootProps(){return r.element({...v.root.attrs,id:c.getRootId(e.context),role:"region","aria-roledescription":"carousel","data-orientation":e.context.orientation,dir:e.context.dir,"aria-label":"Carousel",style:{"--slide-spacing":e.context.spacing,"--slide-size":`calc(100% / ${e.context.slidesPerView} - var(--slide-spacing))`}})},getViewportProps(){return r.element({...v.viewport.attrs,dir:e.context.dir,id:c.getViewportId(e.context),"data-orientation":e.context.orientation})},getItemGroupProps(){return r.element({...v.itemGroup.attrs,id:c.getItemGroupId(e.context),"data-orientation":e.context.orientation,dir:e.context.dir,style:{display:"flex",flexDirection:s?"row":"column",[s?"height":"width"]:"auto",gap:"var(--slide-spacing)",transform:e.context.translateValue,transitionProperty:"transform",willChange:"transform",transitionTimingFunction:"cubic-bezier(0.4, 0, 0.2, 1)",transitionDuration:"0.3s"}})},getItemProps(l){const f=p(l);return r.element({...v.item.attrs,id:c.getItemId(e.context,l.index),dir:e.context.dir,"data-current":S(f.current),"data-inview":S(f.inView),role:"group","aria-roledescription":"slide","data-orientation":e.context.orientation,"aria-label":f.valueText,style:{position:"relative",flex:"0 0 var(--slide-size)",[s?"minWidth":"minHeight"]:"0px"}})},getPrevTriggerProps(){return r.button({...v.prevTrigger.attrs,id:c.getPrevTriggerId(e.context),type:"button",tabIndex:-1,disabled:!n,dir:e.context.dir,"aria-label":"Previous Slide","data-orientation":e.context.orientation,"aria-controls":c.getItemGroupId(e.context),onClick(){t("PREV")}})},getNextTriggerProps(){return r.button({...v.nextTrigger.attrs,dir:e.context.dir,id:c.getNextTriggerId(e.context),type:"button",tabIndex:-1,"aria-label":"Next Slide","data-orientation":e.context.orientation,"aria-controls":c.getItemGroupId(e.context),disabled:!o,onClick(){t("NEXT")}})},getIndicatorGroupProps(){return r.element({...v.indicatorGroup.attrs,dir:e.context.dir,id:c.getIndicatorGroupId(e.context),"data-orientation":e.context.orientation})},getIndicatorProps(l){return r.button({...v.indicator.attrs,dir:e.context.dir,id:c.getIndicatorId(e.context,l.index),type:"button","data-orientation":e.context.orientation,"data-index":l.index,"data-readonly":S(l.readOnly),"data-current":S(l.index===e.context.index),onClick(){l.readOnly||t({type:"GOTO",index:l.index})}})}}}function Re(e){const t=ue(e);return de({id:"carousel",initial:"idle",context:{index:0,orientation:"horizontal",align:"start",loop:!1,slidesPerView:1,spacing:"0px",...t,scrollSnaps:[],scrollProgress:0,containerSize:0,slideRects:[]},watch:{index:["setScrollSnaps"]},on:{NEXT:{actions:["scrollToNext"]},PREV:{actions:["scrollToPrev"]},GOTO:{actions:["scrollTo"]},MEASURE_DOM:{actions:["measureElements","setScrollSnaps"]},PLAY:"autoplay"},states:{idle:{on:{POINTER_DOWN:"dragging"}},autoplay:{activities:["trackDocumentVisibility"],every:{2e3:["scrollToNext"]},on:{PAUSE:"idle"}},dragging:{on:{POINTER_UP:"idle",POINTER_MOVE:{actions:["setScrollSnaps"]}}}},activities:["trackContainerResize","trackSlideMutation"],entry:["measureElements","setScrollSnaps"],computed:{isRtl:r=>r.dir==="rtl",isHorizontal:r=>r.orientation==="horizontal",isVertical:r=>r.orientation==="vertical",canScrollNext:r=>r.loop||r.index<r.scrollSnaps.length-1,canScrollPrev:r=>r.loop||r.index>0,startEdge(r){return r.isVertical?"top":r.isRtl?"right":"left"},endEdge(r){return r.isVertical?"bottom":r.isRtl?"left":"right"},translateValue:r=>{const o=r.scrollSnaps[r.index];return r.isHorizontal?`translate3d(${o}px, 0, 0)`:`translate3d(0, ${o}px, 0)`}}},{activities:{trackSlideMutation(r,o,{send:n}){const s=c.getSlideGroupEl(r);if(!s)return;const a=c.getWin(r),i=new a.MutationObserver(()=>{n({type:"MEASURE_DOM",src:"mutation"})});return i.observe(s,{childList:!0}),()=>{i.disconnect()}},trackContainerResize(r,o,{send:n}){const s=c.getSlideGroupEl(r);if(!s)return;const a=c.getWin(r),i=new a.ResizeObserver(d=>{d.forEach(p=>{p.target===s&&n({type:"MEASURE_DOM",src:"resize"})})});return i.observe(s),()=>{i.disconnect()}},trackDocumentVisibility(r,o,{send:n}){const s=c.getDoc(r),a=()=>{s.visibilityState!=="visible"&&n({type:"PAUSE",src:"document-hidden"})};return s.addEventListener("visibilitychange",a),()=>{s.removeEventListener("visibilitychange",a)}}},guards:{loop:r=>r.loop,isLastSlide:r=>r.index===r.scrollSnaps.length-1,isFirstSlide:r=>r.index===0},actions:{scrollToNext(r){const o=ge(r.scrollSnaps,r.index);b.index(r,o)},scrollToPrev(r){const o=pe(r.scrollSnaps,r.index);b.index(r,o)},setScrollSnaps(r){const{snapsAligned:o,scrollProgress:n}=M(r);r.scrollSnaps=o,r.scrollProgress=n},scrollTo(r,o){const n=Math.max(0,Math.min(o.index,r.scrollSnaps.length-1));b.index(r,n)},measureElements:be}})}var be=e=>{const t=c.getSlideGroupEl(e);t&&(e.containerRect=T(t.getBoundingClientRect()),e.containerSize=e.isHorizontal?e.containerRect.width:e.containerRect.height,e.slideRects=T(c.getSlideEls(e).map(r=>r.getBoundingClientRect())))},Ee={change:e=>{var t;(t=e.onIndexChange)==null||t.call(e,{index:e.index})}},b={index:(e,t)=>{me(e.index,t)||(e.index=t,Ee.change(e))}};G()(["align","dir","getRootNode","id","ids","index","loop","onIndexChange","orientation","slidesPerView","spacing"]);G()(["index","readOnly"]);const Te=j.extendWith("control"),O=g.forwardRef((e,t)=>u.jsx(I.div,{...Te.build().control.attrs,...e,ref:t}));O.displayName="CarouselControl";const z=g.forwardRef((e,t)=>{const[r,o]=E()(e,["readOnly","index"]),n=P(),s=h(n.getIndicatorProps(r),o);return u.jsx(I.button,{...s,ref:t})});z.displayName="CarouselIndicator";const A=g.forwardRef((e,t)=>{const r=P(),o=h(r.getIndicatorGroupProps(),e);return u.jsx(I.div,{...o,ref:t})});A.displayName="CarouselIndicatorGroup";const k=g.forwardRef((e,t)=>{const[r,o]=E()(e,["index"]),n=P(),s=h(n.getItemProps(r),o);return u.jsx(I.div,{...s,ref:t})});k.displayName="CarouselItem";const L=g.forwardRef((e,t)=>{const r=P(),o=h(r.getItemGroupProps(),e);return u.jsx(I.div,{...o,ref:t})});L.displayName="CarouselItemGroup";const $=g.forwardRef((e,t)=>{const r=P(),o=h(r.getNextTriggerProps(),e);return u.jsx(I.button,{...o,ref:t})});$.displayName="CarouselNextTrigger";const D=g.forwardRef((e,t)=>{const r=P(),o=h(r.getPrevTriggerProps(),e);return u.jsx(I.button,{...o,ref:t})});D.displayName="CarouselPrevTrigger";const Ge=(e={})=>{const{getRootNode:t}=fe(),{dir:r}=xe(),o={id:g.useId(),dir:r,getRootNode:t,index:e.defaultIndex,...e},n={...o,index:e.index,onIndexChange:Ie(e.onIndexChange,{sync:!0})},[s,a]=le(Re(o),{context:n});return we(s,a,ce)},U=g.forwardRef((e,t)=>{const[r,o]=E()(e,["align","defaultIndex","id","ids","index","loop","onIndexChange","orientation","slidesPerView","spacing"]),n=Ge(r),s=h(n.getRootProps(),o);return u.jsx(ve,{value:n,children:u.jsx(I.div,{...s,ref:t})})});U.displayName="CarouselRoot";const W=g.forwardRef((e,t)=>{const r=P(),o=h(r.getViewportProps(),e);return u.jsx(I.div,{...o,ref:t})});W.displayName="CarouselViewport";const Ve=ee({base:`${re.scope} carousel`,slots:{root:"trds-w-full trds-relative",viewport:"trds-overflow-hidden trds-rounded-2xl trds-bg-layer-muted trds-w-full trds-h-auto",item:"trds-aspect-video trds-object-cover",itemGroup:"trds-transition-all trds-duration-normal trds-w-full trds-flex trds-flex-row trds-justify-between trds-items-center trds-cursor-pointer disabled:trds-text-disabled disabled:trds-cursor-not-allowed",indicatorGroup:"trds-flex trds-flex-row trds-gap-2 trds-justify-center trds-items-center trds-mx-8",indicator:"trds-w-2.5 trds-h-2.5 trds-rounded-full trds-transition-colors trds-duration-normal trds-bg-layer-fill hover:trds-bg-layer-indicator trds-cursor-pointer trds-duration-normal data-current:trds-bg-layer-indicator data-current:hover:trds-bg-layer-indicator data-readonly:trds-bg-layer-muted data-readonly:trds-cursor-not-allowed",control:"trds-w-full trds-px-4 trds-flex trds-flex-row trds-justify-center trds-items-center trds-mt-4",prevTrigger:["","trds-rounded-full"],nextTrigger:["","trds-rounded-full"]}}),[je,y]=te({name:"carousel",hookName:"useCarouselContext",providerName:"CarouselProvider",defaultValue:{classes:{}}}),B=g.forwardRef(function(e,t){const{slidesPerView:r,children:o,className:n,...s}=e,a=Ve(),i={classes:a};return u.jsx(je,{value:i,children:u.jsx(U,{ref:t,className:x(a.root(),n),slidesPerView:r,...s,children:o})})});B.displayName="Carousel.Root";const F=g.forwardRef(({children:e,className:t,...r},o)=>{const{classes:n}=y();return u.jsx(W,{ref:o,className:x(n.viewport(),t),...r,children:e})});F.displayName="Carousel.Viewport";const H=g.forwardRef(({children:e,className:t,...r},o)=>{const{classes:n}=y();return u.jsx(O,{ref:o,className:x(n.control(),t),...r,children:e})});H.displayName="Carousel.Control";const q=g.forwardRef(({children:e,className:t,...r},o)=>{const{classes:n}=y();return u.jsx(D,{ref:o,className:x(n.prevTrigger(),t),...r,children:e})});q.displayName="Carousel.PrevTrigger";const X=g.forwardRef(({children:e,className:t,...r},o)=>{const{classes:n}=y();return u.jsx($,{ref:o,className:x(n.nextTrigger(),t),...r,children:e})});X.displayName="Carousel.NextTrigger";const Y=g.forwardRef(({children:e,className:t,...r},o)=>{const{classes:n}=y();return u.jsx(L,{ref:o,className:x(n.itemGroup(),t),...r,children:e})});Y.displayName="Carousel.ItemGroup";const J=g.forwardRef(({children:e,className:t,...r},o)=>{const{classes:n}=y();return u.jsx(A,{ref:o,className:x(n.indicatorGroup(),t),...r,children:e})});J.displayName="Carousel.IndicatorGroup";const K=g.forwardRef(({children:e,className:t,...r},o)=>{const{classes:n}=y();return u.jsx(z,{ref:o,className:x(n.indicator(),t),...r,children:e})});K.displayName="Carousel.Indicator";const Q=g.forwardRef(({children:e,className:t,...r},o)=>{const{classes:n}=y();return u.jsx(k,{ref:o,className:x(n.item(),t),...r,children:e})});Q.displayName="Carousel.Item";B.__docgenInfo={description:"",methods:[],displayName:"Carousel.Root"};H.__docgenInfo={description:"",methods:[],displayName:"Carousel.Control"};F.__docgenInfo={description:"",methods:[],displayName:"Carousel.Viewport"};q.__docgenInfo={description:"",methods:[],displayName:"Carousel.PrevTrigger"};X.__docgenInfo={description:"",methods:[],displayName:"Carousel.NextTrigger"};J.__docgenInfo={description:"",methods:[],displayName:"Carousel.IndicatorGroup"};K.__docgenInfo={description:"",methods:[],displayName:"Carousel.Indicator"};Y.__docgenInfo={description:"",methods:[],displayName:"Carousel.ItemGroup"};Q.__docgenInfo={description:"",methods:[],displayName:"Carousel.Item"};export{H as C,J as I,X as N,q as P,B as R,F as V,K as a,Y as b,Q as c};
