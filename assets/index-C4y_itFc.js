import{i as c,a as u,h}from"./use-locale-context-CfI1cghP.js";var y=Object.defineProperty,p=(t,e,i)=>e in t?y(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,I=(t,e,i)=>p(t,e+"",i),a={itemToValue(t){return typeof t=="string"?t:u(t)&&h(t,"value")?t.value:""},itemToString(t){return typeof t=="string"?t:u(t)&&h(t,"label")?t.label:a.itemToValue(t)},isItemDisabled(t){return u(t)&&h(t,"disabled")?!!t.disabled:!1}},T=class{constructor(t){this.options=t,I(this,"items"),this.items=[...t.items]}isEqual(t){return c(this.items,t.items)}setItems(t){this.items=Array.from(t)}getValues(t=this.items){return Array.from(t).map(e=>this.getItemValue(e)).filter(Boolean)}find(t){if(t==null)return null;const e=this.items.findIndex(i=>this.getItemValue(i)===t);return e!=null?this.items[e]:null}findMany(t){return Array.from(t).map(e=>this.find(e)).filter(Boolean)}at(t){return this.items[t]??null}sortFn(t,e){const i=this.indexOf(t),s=this.indexOf(e);return(i??0)-(s??0)}sort(t){return[...t].sort(this.sortFn.bind(this))}getItemValue(t){var e,i;return t==null?null:((i=(e=this.options).itemToValue)==null?void 0:i.call(e,t))??a.itemToValue(t)}getItemDisabled(t){var e,i;return t==null?!1:((i=(e=this.options).isItemDisabled)==null?void 0:i.call(e,t))??a.isItemDisabled(t)}stringifyItem(t){var e,i;return t==null?null:((i=(e=this.options).itemToString)==null?void 0:i.call(e,t))??a.itemToString(t)}stringify(t){return t==null?null:this.stringifyItem(this.find(t))}stringifyItems(t,e=", "){return Array.from(t).map(i=>this.stringifyItem(i)).filter(Boolean).join(e)}stringifyMany(t,e){return this.stringifyItems(this.findMany(t),e)}has(t){return this.indexOf(t)!==-1}hasItem(t){return t==null?!1:this.has(this.getItemValue(t))}get size(){return this.items.length}get firstValue(){let t=0;for(;this.getItemDisabled(this.at(t));)t++;return this.getItemValue(this.at(t))}get lastValue(){let t=this.size-1;for(;this.getItemDisabled(this.at(t));)t--;return this.getItemValue(this.at(t))}getNextValue(t){let e=this.indexOf(t);if(e===-1)return null;for(e++;e<=this.size&&this.getItemDisabled(this.at(e));)e++;return this.getItemValue(this.at(e))}getPreviousValue(t){let e=this.indexOf(t);if(e===-1)return null;for(e--;e>=0&&this.getItemDisabled(this.at(e));)e--;return this.getItemValue(this.at(e))}indexOf(t){return t==null?-1:this.items.findIndex(e=>this.getItemValue(e)===t)}getByText(t,e){let i=e!=null?x(this.items,this.indexOf(e)):this.items;return t.length===1&&(i=i.filter(n=>this.getItemValue(n)!==e)),i.find(n=>V(this.stringifyItem(n),t))}search(t,e){const{state:i,currentValue:s,timeout:n=350}=e,r=i.keysSoFar+t,m=r.length>1&&Array.from(r).every(l=>l===r[0])?r[0]:r,d=this.getByText(m,s),g=this.getItemValue(d);function f(){clearTimeout(i.timer),i.timer=-1}function o(l){i.keysSoFar=l,f(),l!==""&&(i.timer=+setTimeout(()=>{o(""),f()},n))}return o(r),g}*[Symbol.iterator](){yield*this.items}insertBefore(t,e){const i=this.indexOf(t);i!==-1&&this.items.splice(i,0,e)}insertAfter(t,e){const i=this.indexOf(t);i!==-1&&this.items.splice(i+1,0,e)}reorder(t,e){if(t===-1||e===-1||t===e)return;const[i]=this.items.splice(t,1);this.items.splice(e,0,i)}toJSON(){return{size:this.size,first:this.firstValue,last:this.lastValue}}},V=(t,e)=>!!(t!=null&&t.toLowerCase().startsWith(e.toLowerCase())),x=(t,e)=>t.map((i,s)=>t[(Math.max(e,0)+s)%t.length]);export{T as C};
