import{j as n}from"./jsx-runtime-qGIIFXMu.js";import{I as D,c as b}from"./index-CO00fS6N.js";import{r as s}from"./index-CDs2tPxN.js";import{s as O}from"./sva-qXmx1AZm.js";import{c as V}from"./create-react-context-Dw26gLIP.js";import{j as W,y as g,z as T,c as z,k as G,g as J,C as K}from"./factory-BCwUXDVF.js";import{c as Q}from"./create-split-props-u5h9OPvL.js";import{u as F,F as U}from"./use-field-context-BjqdMh-O.js";const X=W("field").parts("root","errorText","helperText","input","label","select","textarea"),_=s.forwardRef((r,a)=>{const e=F(),t=g(e.getErrorTextProps(),r);return e!=null&&e.invalid?n.jsx(T.span,{...t,ref:a}):null});_.displayName="FieldErrorText";const C=s.forwardRef((r,a)=>{const e=F(),t=g(e==null?void 0:e.getHelperTextProps(),r);return n.jsx(T.span,{...t,ref:a})});C.displayName="FieldHelperText";const M=s.forwardRef((r,a)=>{const e=F(),t=g(e==null?void 0:e.getLabelProps(),r);return n.jsx(T.label,{...t,ref:a})});M.displayName="FieldLabel";const[xe,Y]=z({name:"FieldsetContext",hookName:"useFieldsetContext",providerName:"<FieldsetProvider />",strict:!1}),Z=G("field").parts("root","errorText","helperText","input","label","select","textarea"),m=Z.build(),ee=r=>{const a=Y(),{disabled:e=!!(a!=null&&a.disabled),invalid:t=!1,readOnly:o=!1,required:l=!1}=r,x=s.useRef(!1),N=s.useRef(!1),d=r.id??s.useId(),y=s.useRef(null),i=`field::${d}::error-text`,c=`field::${d}::helper-text`,h=`field::${d}::label`;s.useLayoutEffect(()=>{const p=y.current;if(!p)return;const I=J(p),E=I.document,j=()=>{x.current=!!E.getElementById(i),N.current=!!E.getElementById(c)};j();const w=new I.MutationObserver(j);return w.observe(p,{childList:!0,subtree:!0}),()=>w.disconnect()},[i,c]);const P=s.useMemo(()=>{const p=[];return x.current&&t&&p.push(i),N.current&&p.push(c),p.join(" ")||void 0},[t,i,c]),H=s.useMemo(()=>()=>({...m.root.attrs,ref:y,role:"group","data-disabled":f(e),"data-invalid":f(t),"data-readonly":f(o)}),[e,t,o]),$=s.useMemo(()=>()=>({...m.label.attrs,id:h,"data-disabled":f(e),"data-invalid":f(t),"data-readonly":f(o),htmlFor:d}),[e,t,o,d,h]),u=s.useMemo(()=>()=>({"aria-describedby":P,"aria-invalid":v(t),"aria-required":v(l),"aria-readonly":v(o),id:d,required:l,disabled:e,readOnly:o}),[P,t,l,o,d,e]),k=s.useMemo(()=>()=>({...u(),...m.input.attrs}),[u]),A=s.useMemo(()=>()=>({...u(),...m.textarea.attrs}),[u]),S=s.useMemo(()=>()=>({...u(),...m.select.attrs}),[u]),q=s.useMemo(()=>()=>({id:c,...m.helperText.attrs}),[c]),B=s.useMemo(()=>()=>({id:i,...m.errorText.attrs,"aria-live":"polite"}),[i]);return{ariaDescribedby:P,ids:{control:d,label:h,errorText:i,helperText:c},refs:{rootRef:y},disabled:e,invalid:t,readOnly:o,required:l,getLabelProps:$,getRootProps:H,getInputProps:k,getTextareaProps:A,getSelectProps:S,getHelperTextProps:q,getErrorTextProps:B}},f=r=>r?"true":void 0,v=r=>r?!0:void 0,L=s.forwardRef((r,a)=>{const[e,t]=Q()(r,["id","disabled","invalid","readOnly","required"]),o=ee(e),l=g(o.getRootProps(),t);return n.jsx(U,{value:o,children:n.jsx(T.div,{...l,ref:K(a,o.refs.rootRef)})})});L.displayName="FieldRoot";const te=O({className:`${D.scope} field`,slots:X.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5"},label:{color:"neutral.900",fontWeight:"medium",textStyle:"sm",_disabled:{color:"disabled"}},helperText:{alignItems:"center",display:"inline-flex",color:"neutral.400",gap:"1",textStyle:"sm",_disabled:{color:"disabled"}},errorText:{alignItems:"center",color:"error.500",display:"inline-flex",gap:"1",textStyle:"sm",_disabled:{color:"disabled"}}}}),[re,R]=V({name:"field",hookName:"useFieldContext",providerName:"FieldProvider",defaultValue:{classes:{}}}),se=s.forwardRef(function(r,a){const{children:e,className:t,...o}=r,l=te(),x={classes:l};return n.jsx(re,{value:x,children:n.jsx(L,{className:b(l.root,t),...o,ref:a,children:e})})}),oe=s.forwardRef(function(r,a){const{children:e,className:t,...o}=r,{classes:l}=R();return n.jsx(M,{className:b(l.label,t),ref:a,...o,children:e})}),ae=s.forwardRef(function(r,a){const{children:e,className:t,...o}=r,{classes:l}=R();return n.jsx(C,{className:b(l.helperText,t),ref:a,...o,children:e})}),le=s.forwardRef(function(r,a){const{children:e,className:t,...o}=r,{classes:l}=R();return n.jsx(_,{className:b(l.errorText,t),ref:a,...o,children:e})});se.__docgenInfo={description:"",methods:[],displayName:"Root"};oe.__docgenInfo={description:"",methods:[],displayName:"Label"};ae.__docgenInfo={description:"",methods:[],displayName:"HelperText"};le.__docgenInfo={description:"",methods:[],displayName:"ErrorText"};export{le as E,ae as H,oe as L,se as R};
