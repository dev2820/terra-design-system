import{j as n}from"./jsx-runtime-qGIIFXMu.js";import{t as D,I as S,c as b}from"./tv-CIwtzMts.js";import{r as s}from"./index-CDs2tPxN.js";import{c as V}from"./create-react-context-Dw26gLIP.js";import{m as g,h as T,c as W,a as z,l as G,B as J}from"./factory-BCO0_PXk.js";import{c as K}from"./create-split-props-u5h9OPvL.js";import{u as R,F as Q}from"./use-field-context-CzRTzM_q.js";const M=s.forwardRef((r,a)=>{const e=R(),t=g(e.getErrorTextProps(),r);return e!=null&&e.invalid?n.jsx(T.span,{...t,ref:a}):null});M.displayName="FieldErrorText";const C=s.forwardRef((r,a)=>{const e=R(),t=g(e==null?void 0:e.getHelperTextProps(),r);return n.jsx(T.span,{...t,ref:a})});C.displayName="FieldHelperText";const L=s.forwardRef((r,a)=>{const e=R(),t=g(e==null?void 0:e.getLabelProps(),r);return n.jsx(T.label,{...t,ref:a})});L.displayName="FieldLabel";const[pe,U]=W({name:"FieldsetContext",hookName:"useFieldsetContext",providerName:"<FieldsetProvider />",strict:!1}),X=z("field").parts("root","errorText","helperText","input","label","select","textarea"),p=X.build(),Y=r=>{const a=U(),{disabled:e=!!(a!=null&&a.disabled),invalid:t=!1,readOnly:o=!1,required:d=!1}=r,f=s.useRef(!1),y=s.useRef(!1),l=r.id??s.useId(),h=s.useRef(null),i=`field::${l}::error-text`,c=`field::${l}::helper-text`,P=`field::${l}::label`;s.useLayoutEffect(()=>{const m=h.current;if(!m)return;const E=G(m),I=E.document,j=()=>{f.current=!!I.getElementById(i),y.current=!!I.getElementById(c)};j();const w=new E.MutationObserver(j);return w.observe(m,{childList:!0,subtree:!0}),()=>w.disconnect()},[i,c]);const v=s.useMemo(()=>{const m=[];return f.current&&t&&m.push(i),y.current&&m.push(c),m.join(" ")||void 0},[t,i,c]),_=s.useMemo(()=>()=>({...p.root.attrs,ref:h,role:"group","data-disabled":x(e),"data-invalid":x(t),"data-readonly":x(o)}),[e,t,o]),$=s.useMemo(()=>()=>({...p.label.attrs,id:P,"data-disabled":x(e),"data-invalid":x(t),"data-readonly":x(o),htmlFor:l}),[e,t,o,l,P]),u=s.useMemo(()=>()=>({"aria-describedby":v,"aria-invalid":F(t),"aria-required":F(d),"aria-readonly":F(o),id:l,required:d,disabled:e,readOnly:o}),[v,t,d,o,l,e]),k=s.useMemo(()=>()=>({...u(),...p.input.attrs}),[u]),A=s.useMemo(()=>()=>({...u(),...p.textarea.attrs}),[u]),B=s.useMemo(()=>()=>({...u(),...p.select.attrs}),[u]),q=s.useMemo(()=>()=>({id:c,...p.helperText.attrs}),[c]),O=s.useMemo(()=>()=>({id:i,...p.errorText.attrs,"aria-live":"polite"}),[i]);return{ariaDescribedby:v,ids:{control:l,label:P,errorText:i,helperText:c},refs:{rootRef:h},disabled:e,invalid:t,readOnly:o,required:d,getLabelProps:$,getRootProps:_,getInputProps:k,getTextareaProps:A,getSelectProps:B,getHelperTextProps:q,getErrorTextProps:O}},x=r=>r?"true":void 0,F=r=>r?!0:void 0,H=s.forwardRef((r,a)=>{const[e,t]=K()(r,["id","disabled","invalid","readOnly","required"]),o=Y(e),d=g(o.getRootProps(),t);return n.jsx(Q,{value:o,children:n.jsx(T.div,{...d,ref:J(a,o.refs.rootRef)})})});H.displayName="FieldRoot";const Z=D({base:`${S.scope} field`,slots:{root:"trds-flex trds-flex-col trds-gap-1.5",label:"trds-text-neutral-900 trds-font-medium trds-text-sm disabled:trds-text-muted",helperText:"trds-inline-flex trds-items-center trds-text-fg-description trds-gap-1 trds-text-sm disabled:trds-text-muted",errorText:"trds-inline-flex trds-items-center trds-text-error trds-gap-1 trds-text-sm disabled:trds-text-muted"}}),[ee,N]=V({name:"field",hookName:"useFieldContext",providerName:"FieldProvider",defaultValue:{classes:{}}}),te=s.forwardRef(function(r,a){const{children:e,className:t,...o}=r,d=Z(),f={classes:d};return n.jsx(ee,{value:f,children:n.jsx(H,{className:b(d.root(),t),...o,ref:a,children:e})})}),re=s.forwardRef(function(r,a){const{children:e,className:t,...o}=r,{classes:d}=N();return n.jsx(L,{className:b(d.label(),t),ref:a,...o,children:e})}),se=s.forwardRef(function(r,a){const{children:e,className:t,...o}=r,{classes:d}=N();return n.jsx(C,{className:b(d.helperText(),t),ref:a,...o,children:e})}),oe=s.forwardRef(function(r,a){const{children:e,className:t,...o}=r,{classes:d}=N();return n.jsx(M,{className:b(d.errorText(),t),ref:a,...o,children:e})});te.__docgenInfo={description:"",methods:[],displayName:"Root"};re.__docgenInfo={description:"",methods:[],displayName:"Label"};se.__docgenInfo={description:"",methods:[],displayName:"HelperText"};oe.__docgenInfo={description:"",methods:[],displayName:"ErrorText"};export{oe as E,se as H,re as L,te as R};
