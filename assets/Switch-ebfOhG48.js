import{j as a}from"./jsx-runtime-qGIIFXMu.js";import{r as u}from"./index-CDs2tPxN.js";import{c as T}from"./cva-C095pwBQ.js";import{s as x}from"./sva-CxSEfBjn.js";import{j as R,k as H,c as N,m as g,l as b,v as D,w as $,x as l,O as F,t as j,y as O,z as _,P as L,Q as K,u as q,C as V,D as B,E as A,a as G}from"./use-locale-context-ygcrHpE-.js";import{c as X}from"./index-DJ3ti8gJ.js";import{t as M,b as z}from"./index-DU3BmIBK.js";import{t as Q,d as J}from"./index-Bc7AdKyF.js";import{u as U}from"./use-event-eGuf5zsd.js";var v=R("switch").parts("root","label","control","thumb");v.build();var p=H({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`switch:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`switch:${e.id}:label`},getThumbId:e=>{var t;return((t=e.ids)==null?void 0:t.thumb)??`switch:${e.id}:thumb`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`switch:${e.id}:control`},getRootEl:e=>p.getById(e,p.getRootId(e)),getHiddenInputId:e=>{var t;return((t=e.ids)==null?void 0:t.input)??`switch:${e.id}:input`},getHiddenInputEl:e=>p.getById(e,p.getHiddenInputId(e))});X()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);const[W,k]=N({name:"SwitchContext",hookName:"useSwitchContext",providerName:"<SwitchProvider />"}),w=u.forwardRef((e,t)=>{const o=k(),n=g(o.getControlProps(),e);return a.jsx(b.span,{...n,ref:t})});w.displayName="SwitchControl";const E=u.forwardRef((e,t)=>{const o=k(),n=g(o.getHiddenInputProps(),e);return a.jsx(b.input,{...n,ref:t})});E.displayName="SwitchHiddenInput";var Y=D("switch").parts("root","label","control","thumb"),m=Y.build(),d=$({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`switch:${e.id}`},getLabelId:e=>{var t;return((t=e.ids)==null?void 0:t.label)??`switch:${e.id}:label`},getThumbId:e=>{var t;return((t=e.ids)==null?void 0:t.thumb)??`switch:${e.id}:thumb`},getControlId:e=>{var t;return((t=e.ids)==null?void 0:t.control)??`switch:${e.id}:control`},getRootEl:e=>d.getById(e,d.getRootId(e)),getHiddenInputId:e=>{var t;return((t=e.ids)==null?void 0:t.input)??`switch:${e.id}:input`},getHiddenInputEl:e=>d.getById(e,d.getHiddenInputId(e))});function Z(e,t,o){const n=e.context.isDisabled,i=!n&&e.context.focused,r=e.context.checked,c=e.context.readOnly,h={"data-active":l(e.context.active),"data-focus":l(i),"data-readonly":l(c),"data-hover":l(e.context.hovered),"data-disabled":l(n),"data-state":e.context.checked?"checked":"unchecked","data-invalid":l(e.context.invalid)};return{checked:r,disabled:n,focused:i,setChecked(s){t({type:"CHECKED.SET",checked:s,isTrusted:!1})},toggleChecked(){t({type:"CHECKED.TOGGLE",checked:r,isTrusted:!1})},getRootProps(){return o.label({...m.root.attrs,...h,dir:e.context.dir,id:d.getRootId(e.context),htmlFor:d.getHiddenInputId(e.context),onPointerMove(){n||t({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){n||t({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(s){s.target===d.getHiddenInputEl(e.context)&&s.stopPropagation()}})},getLabelProps(){return o.element({...m.label.attrs,...h,dir:e.context.dir,id:d.getLabelId(e.context)})},getThumbProps(){return o.element({...m.thumb.attrs,...h,dir:e.context.dir,id:d.getThumbId(e.context),"aria-hidden":!0})},getControlProps(){return o.element({...m.control.attrs,...h,dir:e.context.dir,id:d.getControlId(e.context),"aria-hidden":!0})},getHiddenInputProps(){return o.input({id:d.getHiddenInputId(e.context),type:"checkbox",required:e.context.required,defaultChecked:r,disabled:n,"aria-labelledby":d.getLabelId(e.context),"aria-invalid":e.context.invalid,name:e.context.name,form:e.context.form,value:e.context.value,style:F,onChange(s){if(c){s.preventDefault();return}const S=s.currentTarget.checked;t({type:"CHECKED.SET",checked:S,isTrusted:!0})}})}}}var{not:f}=L;function ee(e){const t=j(e);return O({id:"switch",initial:"ready",context:{checked:!1,label:"switch",value:"on",disabled:!1,...t,fieldsetDisabled:!1},computed:{isDisabled:o=>o.disabled||o.fieldsetDisabled},watch:{disabled:"removeFocusIfNeeded",checked:"syncInputElement"},activities:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:f("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:f("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}}},{guards:{isTrusted:(o,n)=>!!n.isTrusted},activities:{trackPressEvent(o){if(!o.isDisabled)return M({pointerNode:d.getRootEl(o),keyboardNode:d.getHiddenInputEl(o),isValidKey:n=>n.key===" ",onPress:()=>o.active=!1,onPressStart:()=>o.active=!0,onPressEnd:()=>o.active=!1})},trackFocusVisible(o){if(!o.isDisabled)return z(d.getHiddenInputEl(o),{onFocus:()=>o.focused=!0,onBlur:()=>o.focused=!1})},trackFormControlState(o,n,{send:i,initialContext:r}){return Q(d.getHiddenInputEl(o),{onFieldsetDisabledChange(c){o.fieldsetDisabled=c},onFormReset(){i({type:"CHECKED.SET",checked:!!r.checked,src:"form-reset"})}})}},actions:{setContext(o,n){Object.assign(o,n.context)},syncInputElement(o){const n=d.getHiddenInputEl(o);n&&(n.checked=!!o.checked)},removeFocusIfNeeded(o){o.disabled&&o.focused&&(o.focused=!1)},setChecked(o,n){C.checked(o,n.checked)},toggleChecked(o,n){C.checked(o,!o.checked)},dispatchChangeEvent(o){const n=d.getHiddenInputEl(o);J(n,{checked:o.checked})}}})}var te={change:e=>{var t;(t=e.onCheckedChange)==null||t.call(e,{checked:e.checked})}},C={checked:(e,t)=>{K(e.checked,t)||(e.checked=t,te.change(e))}};_()(["checked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);const oe=e=>{const{getRootNode:t}=q(),{dir:o}=V(),n={id:u.useId(),dir:o,getRootNode:t,checked:e.defaultChecked,...e},i={...n,checked:e.checked,onCheckedChange:U(e.onCheckedChange,{sync:!0})},[r,c]=B(ee(n),{context:i});return Z(r,c,A)},I=u.forwardRef((e,t)=>{const[o,n]=G()(e,["checked","defaultChecked","disabled","form","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]),i=oe(o),r=g(i.getRootProps(),n);return a.jsx(W,{value:i,children:a.jsx(b.label,{...r,ref:t})})});I.displayName="SwitchRoot";const y=u.forwardRef((e,t)=>{const o=k(),n=g(o.getThumbProps(),e);return a.jsx(b.span,{...n,ref:t})});y.displayName="SwitchThumb";const ne=x({className:"switchRecipe",slots:v.keys(),base:{root:{alignItems:"center",display:"flex",position:"relative",_disabled:{opacity:60}},control:{alignItems:"center",background:"neutral.300",borderRadius:"full",cursor:"pointer",display:"inline-flex",flexShrink:"0",transitionDuration:"normal",transitionProperty:"background",transitionTimingFunction:"default",_checked:{background:"primary"},_disabled:{cursor:"not-allowed"}},thumb:{background:"white",borderRadius:"full",boxShadow:"xs",transitionDuration:"normal",transitionProperty:"transform, background",transitionTimingFunction:"default",_checked:{transform:"translateX(100%)",background:{base:"white",_dark:"primary.foreground"}}}},defaultVariants:{size:"md"},variants:{size:{sm:{root:{gap:"2"},control:{width:"7",p:"0.5"},thumb:{width:"3",height:"3"}},md:{root:{gap:"3"},control:{width:"9",p:"0.5"},thumb:{width:"4",height:"4"}},lg:{root:{gap:"4"},control:{width:"11",p:"0.5"},thumb:{width:"5",height:"5"}}}}}),P=u.forwardRef(function(e,t){const{size:o,className:n,...i}=e,r=ne({size:o});return a.jsxs(I,{ref:t,className:T(r.root,n),...i,children:[a.jsx(w,{className:r.control,children:a.jsx(y,{className:r.thumb})}),a.jsx(E,{})]})});P.displayName="Switch";P.__docgenInfo={description:"",methods:[],displayName:"Switch"};export{P as R};
