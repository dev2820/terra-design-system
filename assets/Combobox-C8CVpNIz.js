import{j as c}from"./jsx-runtime-qGIIFXMu.js";import{r as C}from"./index-CDs2tPxN.js";import{c as x}from"./cva-C095pwBQ.js";import{s as pe}from"./sva-CxSEfBjn.js";import{c as me}from"./create-react-context-Dw26gLIP.js";import{I as he}from"./Input-BydU8ZSw.js";import{j as Ie,c as H,y as E,z as T,k as Ce,A as q,l as be,T as fe,m as p,U as j,P as ve,a3 as Oe,a4 as Ee,o as Pe,J as Te,r as P,I as Ve,s as ye,a5 as Ne,B as Se,F as Le}from"./factory-DwUv65Y6.js";import{c as ke,x as Re,b as xe,F as Fe,G as M,H as Y,i as $,I as Ae}from"./index-D5jZQDUh.js";import{c as Ue}from"./createLucideIcon-zijr-BYg.js";import{P as Ge}from"./portal-CuRnqJTB.js";import{C as He}from"./check-DUDaO23Y.js";import{c as w}from"./create-split-props-u5h9OPvL.js";import{s as we}from"./split-presence-props-DcTE3k_W.js";import{a as J,u as De,P as _e}from"./use-presence-DaxTOS81.js";import{C as Q}from"./index-C4RrQ55e.js";import{g as K,d as je,i as $e,c as Me}from"./index-DHe2XY-8.js";import{g as Be,a as W}from"./index-DdgRYlt8.js";import{a as Ke}from"./index-D5juEydB.js";import{a as We}from"./index-AgpOpevW.js";import{a as qe,u as Ye}from"./use-locale-context-B5vdPRI5.js";import{u as A}from"./use-event-eGuf5zsd.js";import{u as X}from"./use-field-context-Dq9yVNyx.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=Ue("ChevronsUpDown",[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]]);var Z=Ie("combobox").parts("root","clearTrigger","content","control","input","item","itemGroup","itemGroupLabel","itemIndicator","itemText","label","list","positioner","trigger");Z.build();var I=ke({getRootId:e=>{var o;return((o=e.ids)==null?void 0:o.root)??`combobox:${e.id}`},getLabelId:e=>{var o;return((o=e.ids)==null?void 0:o.label)??`combobox:${e.id}:label`},getControlId:e=>{var o;return((o=e.ids)==null?void 0:o.control)??`combobox:${e.id}:control`},getInputId:e=>{var o;return((o=e.ids)==null?void 0:o.input)??`combobox:${e.id}:input`},getContentId:e=>{var o;return((o=e.ids)==null?void 0:o.content)??`combobox:${e.id}:content`},getPositionerId:e=>{var o;return((o=e.ids)==null?void 0:o.positioner)??`combobox:${e.id}:popper`},getTriggerId:e=>{var o;return((o=e.ids)==null?void 0:o.trigger)??`combobox:${e.id}:toggle-btn`},getClearTriggerId:e=>{var o;return((o=e.ids)==null?void 0:o.clearTrigger)??`combobox:${e.id}:clear-btn`},getItemGroupId:(e,o)=>{var t,n;return((n=(t=e.ids)==null?void 0:t.itemGroup)==null?void 0:n.call(t,o))??`combobox:${e.id}:optgroup:${o}`},getItemGroupLabelId:(e,o)=>{var t,n;return((n=(t=e.ids)==null?void 0:t.itemGroupLabel)==null?void 0:n.call(t,o))??`combobox:${e.id}:optgroup-label:${o}`},getItemId:(e,o)=>{var t,n;return((n=(t=e.ids)==null?void 0:t.item)==null?void 0:n.call(t,o))??`combobox:${e.id}:option:${o}`},getContentEl:e=>I.getById(e,I.getContentId(e)),getInputEl:e=>I.getById(e,I.getInputId(e)),getPositionerEl:e=>I.getById(e,I.getPositionerId(e)),getControlEl:e=>I.getById(e,I.getControlId(e)),getTriggerEl:e=>I.getById(e,I.getTriggerId(e)),getClearTriggerEl:e=>I.getById(e,I.getClearTriggerId(e)),getHighlightedItemEl:e=>{const o=e.highlightedValue;if(o==null)return;const t=`[role=option][data-value="${CSS.escape(o)}"`;return Re(I.getContentEl(e),t)},focusInputEl:e=>{const o=I.getInputEl(e);I.isActiveElement(e,o)||o==null||o.focus({preventScroll:!0})},focusTriggerEl:e=>{const o=I.getTriggerEl(e);I.isActiveElement(e,o)||o==null||o.focus({preventScroll:!0})}});const[Qe,V]=H({name:"ComboboxContext",hookName:"useComboboxContext",providerName:"<ComboboxProvider />"}),z=C.forwardRef((e,o)=>{const t=V(),n=J(),i=E(t.getContentProps(),n.getPresenceProps(o),e);return n.unmounted?null:c.jsx(T.div,{...i})});z.displayName="ComboboxContent";const ee=C.forwardRef((e,o)=>{const t=V(),n=E(t.getControlProps(),e);return c.jsx(T.div,{...n,ref:o})});ee.displayName="ComboboxControl";const te=C.forwardRef((e,o)=>{const t=V(),n=E(t.getInputProps(),e),i=X();return c.jsx(T.input,{"aria-describedby":i==null?void 0:i.ariaDescribedby,...n,ref:o})});te.displayName="ComboboxInput";const[Xe,Ut]=H({name:"ComboboxItemContext",hookName:"useComboboxItemContext",providerName:"<ComboboxItemProvider />"}),[Ze,oe]=H({name:"ComboboxItemPropsContext",hookName:"useComboboxItemPropsContext",providerName:"<ComboboxItemPropsProvider />"}),ne=C.forwardRef((e,o)=>{const[t,n]=w()(e,["item","persistFocus"]),i=V(),u=E(i.getItemProps(t),n),a=i.getItemState(t);return c.jsx(Ze,{value:t,children:c.jsx(Xe,{value:a,children:c.jsx(T.div,{...u,ref:o})})})});ne.displayName="ComboboxItem";const[ze,et]=H({name:"ComboboxItemGroupPropsContext",hookName:"useComboboxItemGroupPropsContext",providerName:"<ComboboxItemGroupPropsProvider />"}),ie=C.forwardRef((e,o)=>{const t=C.useId(),[n,i]=w()(e,["id"]),u={id:t,...n},a=V(),g=E(a.getItemGroupProps(u),i);return c.jsx(ze,{value:u,children:c.jsx(T.div,{...g,ref:o})})});ie.displayName="ComboboxItemGroup";const le=C.forwardRef((e,o)=>{const t=V(),n=et(),i=E(t.getItemGroupLabelProps({htmlFor:n.id}),e);return c.jsx(T.div,{...i,ref:o})});le.displayName="ComboboxItemGroupLabel";const re=C.forwardRef((e,o)=>{const t=V(),n=oe(),i=E(t.getItemIndicatorProps(n),e);return c.jsx(T.div,{...i,ref:o})});re.displayName="ComboboxItemIndicator";const ae=C.forwardRef((e,o)=>{const t=V(),n=oe(),i=E(t.getItemTextProps(n),e);return c.jsx(T.span,{...i,ref:o})});ae.displayName="ComboboxItemText";const se=C.forwardRef((e,o)=>{const t=V(),n=J(),i=E(t.getPositionerProps(),e);return n.unmounted?null:c.jsx(T.div,{...i,ref:o})});se.displayName="ComboboxPositioner";var tt=Ce("combobox").parts("root","clearTrigger","content","control","input","item","itemGroup","itemGroupLabel","itemIndicator","itemText","label","list","positioner","trigger"),f=tt.build(),B=e=>q(new Q(e));B.empty=()=>q(new Q({items:[]}));var r=be({getRootId:e=>{var o;return((o=e.ids)==null?void 0:o.root)??`combobox:${e.id}`},getLabelId:e=>{var o;return((o=e.ids)==null?void 0:o.label)??`combobox:${e.id}:label`},getControlId:e=>{var o;return((o=e.ids)==null?void 0:o.control)??`combobox:${e.id}:control`},getInputId:e=>{var o;return((o=e.ids)==null?void 0:o.input)??`combobox:${e.id}:input`},getContentId:e=>{var o;return((o=e.ids)==null?void 0:o.content)??`combobox:${e.id}:content`},getPositionerId:e=>{var o;return((o=e.ids)==null?void 0:o.positioner)??`combobox:${e.id}:popper`},getTriggerId:e=>{var o;return((o=e.ids)==null?void 0:o.trigger)??`combobox:${e.id}:toggle-btn`},getClearTriggerId:e=>{var o;return((o=e.ids)==null?void 0:o.clearTrigger)??`combobox:${e.id}:clear-btn`},getItemGroupId:(e,o)=>{var t,n;return((n=(t=e.ids)==null?void 0:t.itemGroup)==null?void 0:n.call(t,o))??`combobox:${e.id}:optgroup:${o}`},getItemGroupLabelId:(e,o)=>{var t,n;return((n=(t=e.ids)==null?void 0:t.itemGroupLabel)==null?void 0:n.call(t,o))??`combobox:${e.id}:optgroup-label:${o}`},getItemId:(e,o)=>{var t,n;return((n=(t=e.ids)==null?void 0:t.item)==null?void 0:n.call(t,o))??`combobox:${e.id}:option:${o}`},getContentEl:e=>r.getById(e,r.getContentId(e)),getInputEl:e=>r.getById(e,r.getInputId(e)),getPositionerEl:e=>r.getById(e,r.getPositionerId(e)),getControlEl:e=>r.getById(e,r.getControlId(e)),getTriggerEl:e=>r.getById(e,r.getTriggerId(e)),getClearTriggerEl:e=>r.getById(e,r.getClearTriggerId(e)),getHighlightedItemEl:e=>{const o=e.highlightedValue;if(o==null)return;const t=`[role=option][data-value="${CSS.escape(o)}"`;return fe(r.getContentEl(e),t)},focusInputEl:e=>{const o=r.getInputEl(e);r.isActiveElement(e,o)||o==null||o.focus({preventScroll:!0})},focusTriggerEl:e=>{const o=r.getTriggerEl(e);r.isActiveElement(e,o)||o==null||o.focus({preventScroll:!0})}});function ot(e,o,t){const n=e.context.translations,i=e.context.collection,u=e.context.disabled,a=e.context.isInteractive,g=e.context.invalid,O=e.context.readOnly,d=e.hasTag("open"),y=e.hasTag("focused"),N=e.context.composite,k=e.context.highlightedValue,D=Be({...e.context.positioning,placement:e.context.currentPlacement});function L(l){const{item:s}=l,b=i.getItemDisabled(s),h=i.getItemValue(s);return{value:h,disabled:!!(b||b),highlighted:k===h,selected:e.context.value.includes(h)}}return{focused:y,open:d,inputValue:e.context.inputValue,highlightedValue:k,highlightedItem:e.context.highlightedItem,value:e.context.value,valueAsString:e.context.valueAsString,hasSelectedItems:e.context.hasSelectedItems,selectedItems:e.context.selectedItems,collection:e.context.collection,reposition(l={}){o({type:"POSITIONING.SET",options:l})},setCollection(l){o({type:"COLLECTION.SET",value:l})},setHighlightValue(l){o({type:"HIGHLIGHTED_VALUE.SET",value:l})},selectValue(l){o({type:"ITEM.SELECT",value:l})},setValue(l){o({type:"VALUE.SET",value:l})},setInputValue(l){o({type:"INPUT_VALUE.SET",value:l})},clearValue(l){l!=null?o({type:"ITEM.CLEAR",value:l}):o("VALUE.CLEAR")},focus(){var l;(l=r.getInputEl(e.context))==null||l.focus()},setOpen(l){l!==d&&o(l?"OPEN":"CLOSE")},getRootProps(){return t.element({...f.root.attrs,dir:e.context.dir,id:r.getRootId(e.context),"data-invalid":p(g),"data-readonly":p(O)})},getLabelProps(){return t.label({...f.label.attrs,dir:e.context.dir,htmlFor:r.getInputId(e.context),id:r.getLabelId(e.context),"data-readonly":p(O),"data-disabled":p(u),"data-invalid":p(g),"data-focus":p(y),onClick(l){var s;N||(l.preventDefault(),(s=r.getTriggerEl(e.context))==null||s.focus({preventScroll:!0}))}})},getControlProps(){return t.element({...f.control.attrs,dir:e.context.dir,id:r.getControlId(e.context),"data-state":d?"open":"closed","data-focus":p(y),"data-disabled":p(u),"data-invalid":p(g)})},getPositionerProps(){return t.element({...f.positioner.attrs,dir:e.context.dir,id:r.getPositionerId(e.context),style:D.floating})},getInputProps(){return t.input({...f.input.attrs,dir:e.context.dir,"aria-invalid":j(g),"data-invalid":p(g),name:e.context.name,form:e.context.form,disabled:u,autoFocus:e.context.autoFocus,required:e.context.required,autoComplete:"off",autoCorrect:"off",autoCapitalize:"none",spellCheck:"false",readOnly:O,placeholder:e.context.placeholder,id:r.getInputId(e.context),type:"text",role:"combobox",defaultValue:e.context.inputValue,"aria-autocomplete":e.context.autoComplete?"both":"list","aria-controls":r.getContentId(e.context),"aria-expanded":d,"data-state":d?"open":"closed","aria-activedescendant":k?r.getItemId(e.context,k):void 0,onClick(l){l.defaultPrevented||e.context.openOnClick&&a&&o("INPUT.CLICK")},onFocus(){u||o("INPUT.FOCUS")},onBlur(){u||o("INPUT.BLUR")},onChange(l){o({type:"INPUT.CHANGE",value:l.currentTarget.value})},onKeyDown(l){if(l.defaultPrevented||!a||l.ctrlKey||l.shiftKey||ve(l))return;const s=e.context.openOnKeyPress,b=l.ctrlKey||l.metaKey||l.shiftKey,h=!0,F={ArrowDown(S){!s&&!d||(o({type:S.altKey?"OPEN":"INPUT.ARROW_DOWN",keypress:h}),S.preventDefault())},ArrowUp(){!s&&!d||(o({type:l.altKey?"CLOSE":"INPUT.ARROW_UP",keypress:h}),l.preventDefault())},Home(S){b||(o({type:"INPUT.HOME",keypress:h}),d&&S.preventDefault())},End(S){b||(o({type:"INPUT.END",keypress:h}),d&&S.preventDefault())},Enter(S){o({type:"INPUT.ENTER",keypress:h}),d&&S.preventDefault();const de=r.getHighlightedItemEl(e.context);Me(de)},Escape(){o({type:"INPUT.ESCAPE",keypress:h}),l.preventDefault()}},ge=K(l,e.context),_=F[ge];_==null||_(l)}})},getTriggerProps(l={}){return t.button({...f.trigger.attrs,dir:e.context.dir,id:r.getTriggerId(e.context),"aria-haspopup":N?"listbox":"dialog",type:"button",tabIndex:l.focusable?void 0:-1,"aria-label":n.triggerLabel,"aria-expanded":d,"data-state":d?"open":"closed","aria-controls":d?r.getContentId(e.context):void 0,disabled:u,"data-invalid":p(g),"data-focusable":p(l.focusable),"data-readonly":p(O),"data-disabled":p(u),onFocus(){l.focusable&&o({type:"INPUT.FOCUS",src:"trigger"})},onClick(s){s.defaultPrevented||a&&je(s)&&o("TRIGGER.CLICK")},onPointerDown(s){a&&s.pointerType!=="touch"&&(s.preventDefault(),queueMicrotask(()=>{var b;(b=r.getInputEl(e.context))==null||b.focus({preventScroll:!0})}))},onKeyDown(s){if(s.defaultPrevented||N)return;const b={ArrowDown(){o({type:"INPUT.ARROW_DOWN",src:"trigger"})},ArrowUp(){o({type:"INPUT.ARROW_UP",src:"trigger"})}},h=K(s,e.context),F=b[h];F&&(F(s),s.preventDefault())}})},getContentProps(){return t.element({...f.content.attrs,dir:e.context.dir,id:r.getContentId(e.context),role:N?"listbox":"dialog",tabIndex:-1,hidden:!d,"data-state":d?"open":"closed","data-placement":e.context.currentPlacement,"aria-labelledby":r.getLabelId(e.context),"aria-multiselectable":e.context.multiple&&N?!0:void 0,onPointerDown(l){l.preventDefault()}})},getListProps(){return t.element({...f.list.attrs,role:N?void 0:"listbox","aria-labelledby":r.getLabelId(e.context),"aria-multiselectable":e.context.multiple&&!N?!0:void 0})},getClearTriggerProps(){return t.button({...f.clearTrigger.attrs,dir:e.context.dir,id:r.getClearTriggerId(e.context),type:"button",tabIndex:-1,disabled:u,"data-invalid":p(g),"aria-label":n.clearTriggerLabel,"aria-controls":r.getInputId(e.context),hidden:!e.context.value.length,onPointerDown(l){l.preventDefault()},onClick(l){l.defaultPrevented||a&&o({type:"VALUE.CLEAR",src:"clear-trigger"})}})},getItemState:L,getItemProps(l){const s=L(l),b=s.value;return t.element({...f.item.attrs,dir:e.context.dir,id:r.getItemId(e.context,b),role:"option",tabIndex:-1,"data-highlighted":p(s.highlighted),"data-state":s.selected?"checked":"unchecked","aria-selected":j(s.highlighted),"aria-disabled":j(s.disabled),"data-disabled":p(s.disabled),"data-value":s.value,onPointerMove(){s.disabled||s.highlighted||o({type:"ITEM.POINTER_MOVE",value:b})},onPointerLeave(){l.persistFocus||s.disabled||!e.previousEvent.type.includes("POINTER")||o({type:"ITEM.POINTER_LEAVE",value:b})},onClick(h){Oe(h)||Ee(h)||$e(h)||s.disabled||o({type:"ITEM.CLICK",src:"click",value:b})}})},getItemTextProps(l){const s=L(l);return t.element({...f.itemText.attrs,dir:e.context.dir,"data-state":s.selected?"checked":"unchecked","data-disabled":p(s.disabled),"data-highlighted":p(s.highlighted)})},getItemIndicatorProps(l){const s=L(l);return t.element({"aria-hidden":!0,...f.itemIndicator.attrs,dir:e.context.dir,"data-state":s.selected?"checked":"unchecked",hidden:!s.selected})},getItemGroupProps(l){const{id:s}=l;return t.element({...f.itemGroup.attrs,dir:e.context.dir,id:r.getItemGroupId(e.context,s),"aria-labelledby":r.getItemGroupLabelId(e.context,s)})},getItemGroupLabelProps(l){const{htmlFor:s}=l;return t.element({...f.itemGroupLabel.attrs,dir:e.context.dir,id:r.getItemGroupLabelId(e.context,s),role:"group"})}}}var{and:v,not:R}=ye;function nt(e){const o=xe(e);return Pe({id:"combobox",initial:o.open?"suggesting":"idle",context:{loopFocus:!0,openOnClick:!1,value:[],highlightedValue:null,inputValue:"",allowCustomValue:!1,closeOnSelect:!o.multiple,inputBehavior:"none",selectionBehavior:"replace",openOnKeyPress:!0,openOnChange:!0,composite:!0,readOnly:!1,disabled:!1,...o,highlightedItem:null,selectedItems:[],valueAsString:"",collection:o.collection??B.empty(),positioning:{placement:"bottom",flip:!1,sameWidth:!0,...o.positioning},translations:{triggerLabel:"Toggle suggestions",clearTriggerLabel:"Clear value",...o.translations}},created:["syncInitialValues","syncSelectionBehavior"],computed:{isInputValueEmpty:t=>t.inputValue.length===0,isInteractive:t=>!(t.readOnly||t.disabled),autoComplete:t=>t.inputBehavior==="autocomplete",autoHighlight:t=>t.inputBehavior==="autohighlight",hasSelectedItems:t=>t.value.length>0},watch:{value:["syncSelectedItems"],inputValue:["syncInputValue"],highlightedValue:["syncHighlightedItem","autofillInputValue"],multiple:["syncSelectionBehavior"],open:["toggleVisibility"]},on:{"HIGHLIGHTED_VALUE.SET":{actions:["setHighlightedItem"]},"ITEM.SELECT":{actions:["selectItem"]},"ITEM.CLEAR":{actions:["clearItem"]},"VALUE.SET":{actions:["setSelectedItems"]},"INPUT_VALUE.SET":{actions:"setInputValue"},"COLLECTION.SET":{actions:["setCollection"]},"POSITIONING.SET":{actions:["reposition"]}},states:{idle:{tags:["idle","closed"],entry:["scrollContentToTop","clearHighlightedItem"],on:{"CONTROLLED.OPEN":{target:"interacting"},"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.FOCUS":{target:"focused"},OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{target:"focused",actions:["clearInputValue","clearSelectedItems","setInitialFocus"]}}},focused:{tags:["focused","closed"],entry:["scrollContentToTop","clearHighlightedItem"],on:{"CONTROLLED.OPEN":[{guard:"isChangeEvent",target:"suggesting"},{target:"interacting"}],"INPUT.CHANGE":[{guard:v("isOpenControlled","openOnChange"),actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{guard:"openOnChange",target:"suggesting",actions:["setInputValue","invokeOnOpen","highlightFirstItemIfNeeded"]},{actions:"setInputValue"}],"LAYER.INTERACT_OUTSIDE":{target:"idle"},"INPUT.ESCAPE":{guard:v("isCustomValue",R("allowCustomValue")),actions:"revertInputValue"},"INPUT.BLUR":{target:"idle"},"INPUT.CLICK":[{guard:"isOpenControlled",actions:["highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstSelectedItem","invokeOnOpen"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["setInitialFocus","highlightFirstSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_DOWN":[{guard:v("isOpenControlled","autoComplete"),actions:["invokeOnOpen"]},{guard:"autoComplete",target:"interacting",actions:["invokeOnOpen"]},{guard:"isOpenControlled",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightFirstOrSelectedItem","invokeOnOpen"]}],"INPUT.ARROW_UP":[{guard:"autoComplete",target:"interacting",actions:"invokeOnOpen"},{guard:"autoComplete",target:"interacting",actions:"invokeOnOpen"},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]},{target:"interacting",actions:["highlightLastOrSelectedItem","invokeOnOpen"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"interacting",actions:["invokeOnOpen"]}],"VALUE.CLEAR":{actions:["clearInputValue","clearSelectedItems"]}}},interacting:{tags:["open","focused"],entry:["setInitialFocus"],activities:["scrollToHighlightedItem","trackDismissableLayer","computePlacement","hideOtherElements"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],"INPUT.HOME":{actions:["highlightFirstItem"]},"INPUT.END":{actions:["highlightLastItem"]},"INPUT.ARROW_DOWN":[{guard:v("autoComplete","isLastItemHighlighted"),actions:["clearHighlightedItem","scrollContentToTop"]},{actions:["highlightNextItem"]}],"INPUT.ARROW_UP":[{guard:v("autoComplete","isFirstItemHighlighted"),actions:"clearHighlightedItem"},{actions:"highlightPrevItem"}],"INPUT.ENTER":[{guard:v("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":[{guard:"autoComplete",target:"suggesting",actions:["setInputValue","invokeOnOpen"]},{target:"suggesting",actions:["clearHighlightedItem","setInputValue","invokeOnOpen"]}],"ITEM.POINTER_MOVE":{actions:["setHighlightedItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"ITEM.CLICK":[{guard:v("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],"LAYER.ESCAPE":[{guard:v("isOpenControlled","autoComplete"),actions:["syncInputValue","invokeOnClose"]},{guard:"autoComplete",target:"focused",actions:["syncInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"focused",actions:"invokeOnClose"}],"LAYER.INTERACT_OUTSIDE":[{guard:v("isOpenControlled","isCustomValue",R("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:v("isCustomValue",R("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:"invokeOnClose"},{target:"idle",actions:"invokeOnClose"}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}},suggesting:{tags:["open","focused"],activities:["trackDismissableLayer","scrollToHighlightedItem","computePlacement","trackChildNodes","hideOtherElements"],entry:["setInitialFocus"],on:{"CONTROLLED.CLOSE":[{guard:"restoreFocus",target:"focused",actions:["setFinalFocus"]},{target:"idle"}],CHILDREN_CHANGE:{actions:["highlightFirstItem"]},"INPUT.ARROW_DOWN":{target:"interacting",actions:["highlightNextItem"]},"INPUT.ARROW_UP":{target:"interacting",actions:["highlightPrevItem"]},"INPUT.HOME":{target:"interacting",actions:["highlightFirstItem"]},"INPUT.END":{target:"interacting",actions:["highlightLastItem"]},"INPUT.ENTER":[{guard:v("isOpenControlled","closeOnSelect"),actions:["selectHighlightedItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectHighlightedItem","invokeOnClose","setFinalFocus"]},{actions:["selectHighlightedItem"]}],"INPUT.CHANGE":[{guard:"autoHighlight",actions:["setInputValue"]},{actions:["setInputValue"]}],"LAYER.ESCAPE":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.POINTER_MOVE":{target:"interacting",actions:["setHighlightedItem"]},"ITEM.POINTER_LEAVE":{actions:["clearHighlightedItem"]},"LAYER.INTERACT_OUTSIDE":[{guard:v("isOpenControlled","isCustomValue",R("allowCustomValue")),actions:["revertInputValue","invokeOnClose"]},{guard:v("isCustomValue",R("allowCustomValue")),target:"idle",actions:["revertInputValue","invokeOnClose"]},{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"idle",actions:["invokeOnClose"]}],"TRIGGER.CLICK":[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose"]}],"ITEM.CLICK":[{guard:v("isOpenControlled","closeOnSelect"),actions:["selectItem","invokeOnClose"]},{guard:"closeOnSelect",target:"focused",actions:["selectItem","invokeOnClose","setFinalFocus"]},{actions:["selectItem"]}],CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"focused",actions:["invokeOnClose","setFinalFocus"]}],"VALUE.CLEAR":[{guard:"isOpenControlled",actions:["clearInputValue","clearSelectedItems","invokeOnClose"]},{target:"focused",actions:["clearInputValue","clearSelectedItems","invokeOnClose","setFinalFocus"]}]}}}},{guards:{isInputValueEmpty:t=>t.isInputValueEmpty,autoComplete:t=>t.autoComplete&&!t.multiple,autoHighlight:t=>t.autoHighlight,isFirstItemHighlighted:t=>t.collection.firstValue===t.highlightedValue,isLastItemHighlighted:t=>t.collection.lastValue===t.highlightedValue,isCustomValue:t=>t.inputValue!==t.valueAsString,allowCustomValue:t=>!!t.allowCustomValue,hasHighlightedItem:t=>t.highlightedValue!=null,closeOnSelect:t=>!!t.closeOnSelect,isOpenControlled:t=>!!t["open.controlled"],openOnChange:(t,n)=>{var i;return Fe(t.openOnChange)?t.openOnChange:!!((i=t.openOnChange)!=null&&i.call(t,{inputValue:n.value}))},restoreFocus:(t,n)=>n.restoreFocus==null?!0:!!n.restoreFocus,isChangeEvent:(t,n)=>{var i;return((i=n.previousEvent)==null?void 0:i.type)==="INPUT.CHANGE"}},activities:{trackDismissableLayer(t,n,{send:i}){return t.disableLayer?void 0:We(()=>r.getContentEl(t),{defer:!0,exclude:()=>[r.getInputEl(t),r.getTriggerEl(t),r.getClearTriggerEl(t)],onFocusOutside:t.onFocusOutside,onPointerDownOutside:t.onPointerDownOutside,onInteractOutside:t.onInteractOutside,onEscapeKeyDown(a){a.preventDefault(),a.stopPropagation(),i("LAYER.ESCAPE")},onDismiss(){i({type:"LAYER.INTERACT_OUTSIDE",restoreFocus:!1})}})},hideOtherElements(t){return Ke([r.getInputEl(t),r.getContentEl(t),r.getTriggerEl(t)])},computePlacement(t){const n=()=>r.getControlEl(t),i=()=>r.getPositionerEl(t);return t.currentPlacement=t.positioning.placement,W(n,i,{...t.positioning,defer:!0,onComplete(u){t.currentPlacement=u.placement}})},trackChildNodes(t,n,{send:i}){return t.autoHighlight?Te(()=>r.getContentEl(t),{callback:()=>i("CHILDREN_CHANGE"),defer:!0}):void 0},scrollToHighlightedItem(t,n,{getState:i}){const u=r.getInputEl(t);let a=[];const g=y=>{if(i().event.type.includes("POINTER")||!t.highlightedValue)return;const D=r.getHighlightedItemEl(t),L=r.getContentEl(t);if(t.scrollToIndexFn){const s=t.collection.indexOf(t.highlightedValue);t.scrollToIndexFn({index:s,immediate:y});return}const l=P(()=>{Ne(D,{rootEl:L,block:"nearest"})});a.push(l)},O=P(()=>g(!0));a.push(O);const d=Ve(u,{attributes:["aria-activedescendant"],callback:()=>g(!1)});return a.push(d),()=>{a.forEach(y=>y())}}},actions:{reposition(t,n){W(()=>r.getControlEl(t),()=>r.getPositionerEl(t),{...t.positioning,...n.options,defer:!0,listeners:!1,onComplete(a){t.currentPlacement=a.placement}})},setHighlightedItem(t,n){n.value!=null&&m.highlightedValue(t,n.value)},clearHighlightedItem(t){m.highlightedValue(t,null,!0)},selectHighlightedItem(t){m.value(t,t.highlightedValue)},selectItem(t,n){n.value!=null&&m.value(t,n.value)},clearItem(t,n){if(n.value==null)return;const i=t.value.filter(u=>u!==n.value);m.value(t,i)},setInitialFocus(t){P(()=>{r.focusInputEl(t)})},setFinalFocus(t){P(()=>{const n=r.getTriggerEl(t);(n==null?void 0:n.dataset.focusable)==null?r.focusInputEl(t):r.focusTriggerEl(t)})},syncInputValue(t){const n=r.getInputEl(t);n&&(n.value=t.inputValue,queueMicrotask(()=>{const{selectionStart:i,selectionEnd:u}=n;Math.abs((u??0)-(i??0))===0&&i===0&&n.setSelectionRange(n.value.length,n.value.length)}))},setInputValue(t,n){m.inputValue(t,n.value)},clearInputValue(t){m.inputValue(t,"")},revertInputValue(t){const n=M(t.selectionBehavior,{replace:t.hasSelectedItems?t.valueAsString:"",preserve:t.inputValue,clear:""});m.inputValue(t,n)},syncInitialValues(t){const n=t.collection.findMany(t.value),i=t.collection.stringifyMany(t.value);t.highlightedItem=t.collection.find(t.highlightedValue),t.selectedItems=n,t.valueAsString=i,!(t.inputValue.trim()||t.multiple)&&(t.inputValue=M(t.selectionBehavior,{preserve:t.inputValue||i,replace:i,clear:""}))},syncSelectionBehavior(t){t.multiple&&(t.selectionBehavior="clear")},setSelectedItems(t,n){Y(n.value)&&m.value(t,n.value)},clearSelectedItems(t){m.value(t,[])},scrollContentToTop(t){if(t.scrollToIndexFn)t.scrollToIndexFn({index:0,immediate:!0});else{const n=r.getContentEl(t);if(!n)return;n.scrollTop=0}},invokeOnOpen(t){var n;(n=t.onOpenChange)==null||n.call(t,{open:!0})},invokeOnClose(t){var n;(n=t.onOpenChange)==null||n.call(t,{open:!1})},highlightFirstItem(t){P(()=>{const n=t.collection.firstValue;m.highlightedValue(t,n)})},highlightFirstItemIfNeeded(t){t.autoHighlight&&P(()=>{const n=t.collection.firstValue;m.highlightedValue(t,n)})},highlightLastItem(t){P(()=>{const n=t.collection.lastValue;m.highlightedValue(t,n)})},highlightNextItem(t){let n=null;t.highlightedValue?(n=t.collection.getNextValue(t.highlightedValue),!n&&t.loopFocus&&(n=t.collection.firstValue)):n=t.collection.firstValue,m.highlightedValue(t,n)},highlightPrevItem(t){let n=null;t.highlightedValue?(n=t.collection.getPreviousValue(t.highlightedValue),!n&&t.loopFocus&&(n=t.collection.lastValue)):n=t.collection.lastValue,m.highlightedValue(t,n)},highlightFirstSelectedItem(t){P(()=>{const[n]=t.collection.sort(t.value);m.highlightedValue(t,n)})},highlightFirstOrSelectedItem(t){P(()=>{let n=null;t.hasSelectedItems?n=t.collection.sort(t.value)[0]:n=t.collection.firstValue,m.highlightedValue(t,n)})},highlightLastOrSelectedItem(t){P(()=>{let n=null;t.hasSelectedItems?n=t.collection.sort(t.value)[0]:n=t.collection.lastValue,m.highlightedValue(t,n)})},autofillInputValue(t,n){const i=r.getInputEl(t);if(!t.autoComplete||!i||!n.keypress)return;const u=t.collection.stringify(t.highlightedValue);P(()=>{i.value=u||t.inputValue})},setCollection(t,n){t.collection=n.value},syncSelectedItems(t){G.valueChange(t)},syncHighlightedItem(t){G.highlightChange(t)},toggleVisibility(t,n,{send:i}){i({type:t.open?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:n})}}})}var G={valueChange:e=>{const o=e.selectedItems;e.selectedItems=e.value.map(i=>{const u=o.find(a=>e.collection.getItemValue(a)===i);return u||e.collection.find(i)});const t=e.collection.stringifyItems(e.selectedItems);e.valueAsString=t;let n;e.getSelectionValue?n=e.getSelectionValue({inputValue:e.inputValue,selectedItems:Array.from(e.selectedItems),valueAsString:t}):n=M(e.selectionBehavior,{replace:e.valueAsString,preserve:e.inputValue,clear:""}),m.inputValue(e,n)},highlightChange:e=>{e.highlightedItem=e.collection.find(e.highlightedValue)}},U={valueChange:e=>{var o;G.valueChange(e),(o=e.onValueChange)==null||o.call(e,{value:Array.from(e.value),items:Array.from(e.selectedItems)})},highlightChange:e=>{var o;G.highlightChange(e),(o=e.onHighlightChange)==null||o.call(e,{highlightedValue:e.highlightedValue,highlightedItem:e.highlightedItem})},inputChange:e=>{var o;(o=e.onInputValueChange)==null||o.call(e,{inputValue:e.inputValue})}},m={value:(e,o,t=!1)=>{if(!$(e.value,o)&&!(o==null&&!t)){if(o==null&&t){e.value=[],U.valueChange(e);return}Y(o)?e.value=o:o!=null&&(e.value=e.multiple?Ae(e.value,o):[o]),U.valueChange(e)}},highlightedValue:(e,o,t=!1)=>{$(e.highlightedValue,o)||!o&&!t||(e.highlightedValue=o||null,U.highlightChange(e))},inputValue:(e,o)=>{$(e.inputValue,o)||(e.inputValue=o,U.inputChange(e))}};const it=e=>{const[o,t]=w()(e,["isItemDisabled","itemToValue","itemToString","items"]),n=C.useMemo(()=>B(o),Object.values(o)),{dir:i}=qe(),{getRootNode:u}=Ye(),a=X(),g={id:C.useId(),ids:{label:a==null?void 0:a.ids.label,input:a==null?void 0:a.ids.control},disabled:a==null?void 0:a.disabled,readOnly:a==null?void 0:a.readOnly,required:a==null?void 0:a.required,invalid:a==null?void 0:a.invalid,dir:i,getRootNode:u,collection:n,open:e.defaultOpen,value:e.defaultValue,"open.controlled":e.open!==void 0,...t},O={...g,collection:n,value:e.value,onValueChange:A(e.onValueChange,{sync:!0}),onInputValueChange:A(e.onInputValueChange,{sync:!0}),onHighlightChange:A(e.onHighlightChange),onOpenChange:A(e.onOpenChange)},[d,y]=Se(nt(g),{context:O});return ot(d,y,Le)},lt=(e,o)=>{const[t,n]=we(e),[i,u]=w()(n,["allowCustomValue","autoFocus","closeOnSelect","composite","defaultOpen","defaultValue","disabled","disableLayer","form","getSelectionValue","highlightedValue","id","ids","inputBehavior","inputValue","invalid","isItemDisabled","items","itemToString","itemToValue","loopFocus","multiple","name","onFocusOutside","onHighlightChange","onInputValueChange","onInteractOutside","onOpenChange","onOpenChange","onPointerDownOutside","onValueChange","open","openOnChange","openOnClick","openOnKeyPress","placeholder","positioning","readOnly","required","scrollToIndexFn","selectionBehavior","translations","value"]),a=it(i),g=De(E({present:a.open},t)),O=E(a.getRootProps(),u);return c.jsx(Qe,{value:a,children:c.jsx(_e,{value:g,children:c.jsx(T.div,{...O,ref:o})})})},rt=C.forwardRef(lt),ue=C.forwardRef((e,o)=>{const t=V(),n=E(t.getTriggerProps(),e);return c.jsx(T.button,{...n,ref:o})});ue.displayName="ComboboxTrigger";const at=pe({className:"combobox",slots:Z.keys(),base:{root:{display:"flex",flexDirection:"column",gap:"1.5",width:"full"},control:{position:"relative"},trigger:{bottom:"0",color:"neutral.800",position:"absolute",right:"0",top:"0",cursor:"pointer"},input:{w:"full"},content:{background:"white",borderRadius:"lg",boxShadow:"lg",display:"flex",flexDirection:"column",zIndex:"dropdown","&[aria-hidden]":{display:"none"},_open:{animation:"fade-in 0.25s ease-out"},_closed:{animation:"fade-out 0.2s ease-out"},_focusVisible:{outlineOffset:"2px",outline:"2px solid",outlineColor:"neutral.300"}},item:{alignItems:"center",borderRadius:"md",cursor:"pointer",display:"flex",justifyContent:"space-between",transitionDuration:"fast",transitionProperty:"background, color",transitionTimingFunction:"default",_hover:{background:"neutral.300"},_highlighted:{background:"neutral.300"},_disabled:{color:"disabled",cursor:"not-allowed",_hover:{background:"transparent",color:"disabled"}}},itemGroupLabel:{fontWeight:"semibold",textStyle:"sm"},itemIndicator:{color:"black"}},defaultVariants:{size:"md"},variants:{size:{sm:{content:{p:"0.5",gap:"1"},item:{textStyle:"sm",px:"2",height:"9"},itemIndicator:{"& :where(svg)":{width:"4",height:"4"}},itemGroupLabel:{px:"2",py:"1.5"},label:{textStyle:"sm"},trigger:{right:"2.5"}},md:{content:{p:"1",gap:"1"},item:{textStyle:"md",px:"2",height:"10"},itemIndicator:{"& :where(svg)":{width:"4",height:"4"}},itemGroupLabel:{px:"2",py:"1.5"},label:{textStyle:"sm"},trigger:{right:"3"}},lg:{content:{p:"1.5",gap:"1"},item:{textStyle:"md",px:"2",height:"11"},itemIndicator:{"& :where(svg)":{width:"5",height:"5"}},itemGroupLabel:{px:"2",py:"1.5"},label:{textStyle:"sm"},trigger:{right:"3.5"}}}}}),[st,ce]=me({name:"combobox",hookName:"useComboboxContext",providerName:"ComboboxProvider",defaultValue:{classes:{},size:"md"}}),ut=C.forwardRef(function(e,o){const{size:t,placeholder:n,className:i,children:u,...a}=e,g=at({size:t}),O={classes:g,size:t};return c.jsx(st,{value:O,children:c.jsxs(rt,{ref:o,className:x(g.root,i),positioning:{sameWidth:!0},lazyMount:!0,unmountOnExit:!0,...a,children:[c.jsxs(ee,{className:g.control,children:[c.jsx(te,{placeholder:"Select a Framework",className:g.input,asChild:!0,children:c.jsx(he,{})}),c.jsx(ue,{asChild:!0,className:g.trigger,children:c.jsx("button",{"aria-label":"open",children:c.jsx(Je,{size:20})})})]}),c.jsx(Ge,{children:c.jsx(se,{className:g.positioner,children:c.jsx(z,{className:g.content,children:u})})})]})})}),ct=C.forwardRef(function(e,o){const{label:t,className:n,children:i,...u}=e,{classes:a}=ce();return c.jsxs(ie,{className:x(a.itemGroup,n),ref:o,...u,children:[c.jsx(le,{className:a.itemGroupLabel,children:t}),i]})}),gt=C.forwardRef(function(e,o){const{className:t,children:n,...i}=e,{classes:u,size:a}=ce();return c.jsxs(ne,{className:x(u.item,t),ref:o,...i,children:[c.jsx(ae,{className:x(u.itemText),children:n}),c.jsx(re,{className:x(u.itemIndicator),children:c.jsx(He,{size:dt(a)})})]})}),dt=e=>e==="sm"?28:e==="md"?32:e==="lg"?36:32;ut.__docgenInfo={description:"",methods:[],displayName:"Root"};ct.__docgenInfo={description:"",methods:[],displayName:"ItemGroup"};gt.__docgenInfo={description:"",methods:[],displayName:"Item"};export{ct as I,ut as R,gt as a};
