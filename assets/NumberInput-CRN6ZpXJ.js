import{j as f}from"./jsx-runtime-qGIIFXMu.js";import{t as Ie,I as Pe,c as Ee}from"./tv-CIwtzMts.js";import{r as E}from"./index-CDs2tPxN.js";import{c as Ne}from"./createLucideIcon-zijr-BYg.js";import{C as Te}from"./chevron-down-Du6SRUSG.js";import{c as Re,m as T,h as R,a as Ce,b as Se,P as te,M as we,d as p,V as W,O as De,e as xe,W as Oe,z as re,g as Ae,H as Ve,r as ne,A as $e,E as Me}from"./factory-BCO0_PXk.js";import{c as Le}from"./create-split-props-u5h9OPvL.js";import{j as Fe,d as j,e as Ue,a as V,r as _e}from"./index-DRtd-hRg.js";import{t as He}from"./index-DBzJ7FiP.js";import{c as Ge,b as ke,a as U}from"./index-6Viw2UEs.js";import{u as Be,a as We}from"./use-locale-context-CTaGYWMe.js";import{u as $}from"./use-event-eGuf5zsd.js";import{u as ie}from"./use-field-context-CzRTzM_q.js";/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=Ne("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),[qe,A]=Re({name:"NumberInputContext",hookName:"useNumberInputContext",providerName:"<NumberInputProvider />"}),se=E.forwardRef((t,r)=>{const e=A(),n=T(e.getControlProps(),t);return f.jsx(R.div,{...n,ref:r})});se.displayName="NumberInputControl";const oe=E.forwardRef((t,r)=>{const e=A(),n=T(e.getDecrementTriggerProps(),t);return f.jsx(R.button,{...n,ref:r})});oe.displayName="NumberInputDecrementTrigger";const ae=E.forwardRef((t,r)=>{const e=A(),n=T(e.getIncrementTriggerProps(),t);return f.jsx(R.button,{...n,ref:r})});ae.displayName="NumberInputIncrementTrigger";const le=E.forwardRef((t,r)=>{const e=A(),n=T(e.getInputProps(),t),i=ie();return f.jsx(R.input,{"aria-describedby":i==null?void 0:i.ariaDescribedby,...n,ref:r})});le.displayName="NumberInputInput";function ze(t,r){return(t%r+r)%r}function N(t){if(typeof window.devicePixelRatio!="number")return Math.round(t);const r=window.devicePixelRatio;return Math.floor(t*r+.5)/r}function w(t,r){return Math.min(Math.max(P(t),r.min),r.max)}function q(t){if(!Number.isFinite(t))return 0;let r=1,e=0;for(;Math.round(t*r)/r!==t;)r*=10,e+=1;return e}var Ze=(t,r)=>ue(P(t),"+",r),Ye=(t,r)=>ue(P(t),"-",r);function P(t){return Number.isNaN(t)?0:t}function Xe(t,r){return P(t)>=r.max}function Ke(t,r){return P(t)<=r.min}function Je(t,r){return P(t)>=r.min&&P(t)<=r.max}function ue(t,r,e){let n=r==="+"?t+e:t-e;if(t%1!==0||e%1!==0){const i=10**Math.max(q(t),q(e));t=Math.round(t*i),e=Math.round(e*i),n=r==="+"?t+e:t-e,n/=i}return n}let M=new Map,_=!1;try{_=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let O=!1;try{O=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const ce={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class Qe{format(r){let e="";if(!_&&this.options.signDisplay!=null?e=tt(this.numberFormatter,this.options.signDisplay,r):e=this.numberFormatter.format(r),this.options.style==="unit"&&!O){var n;let{unit:i,unitDisplay:s="short",locale:u}=this.resolvedOptions();if(!i)return e;let o=(n=ce[i])===null||n===void 0?void 0:n[s];e+=o[u]||o.default}return e}formatToParts(r){return this.numberFormatter.formatToParts(r)}formatRange(r,e){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(r,e);if(e<r)throw new RangeError("End date must be >= start date");return`${this.format(r)} – ${this.format(e)}`}formatRangeToParts(r,e){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(r,e);if(e<r)throw new RangeError("End date must be >= start date");let n=this.numberFormatter.formatToParts(r),i=this.numberFormatter.formatToParts(e);return[...n.map(s=>({...s,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...i.map(s=>({...s,source:"endRange"}))]}resolvedOptions(){let r=this.numberFormatter.resolvedOptions();return!_&&this.options.signDisplay!=null&&(r={...r,signDisplay:this.options.signDisplay}),!O&&this.options.style==="unit"&&(r={...r,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),r}constructor(r,e={}){this.numberFormatter=et(r,e),this.options=e}}function et(t,r={}){let{numberingSystem:e}=r;if(e&&t.includes("-nu-")&&(t.includes("-u-")||(t+="-u-"),t+=`-nu-${e}`),r.style==="unit"&&!O){var n;let{unit:u,unitDisplay:o="short"}=r;if(!u)throw new Error('unit option must be provided with style: "unit"');if(!(!((n=ce[u])===null||n===void 0)&&n[o]))throw new Error(`Unsupported unit ${u} with unitDisplay = ${o}`);r={...r,style:"decimal"}}let i=t+(r?Object.entries(r).sort((u,o)=>u[0]<o[0]?-1:1).join():"");if(M.has(i))return M.get(i);let s=new Intl.NumberFormat(t,r);return M.set(i,s),s}function tt(t,r,e){if(r==="auto")return t.format(e);if(r==="never")return t.format(Math.abs(e));{let n=!1;if(r==="always"?n=e>0||Object.is(e,0):r==="exceptZero"&&(Object.is(e,-0)||Object.is(e,0)?e=Math.abs(e):n=e>0),n){let i=t.format(-e),s=t.format(e),u=i.replace(s,"").replace(/\u200e|\u061C/,"");return[...u].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),i.replace(s,"!!!").replace(u,"+").replace("!!!",s)}else return t.format(e)}}const rt=new RegExp("^.*\\(.*\\).*$"),nt=["latn","arab","hanidec"];class de{parse(r){return L(this.locale,this.options,r).parse(r)}isValidPartialNumber(r,e,n){return L(this.locale,this.options,r).isValidPartialNumber(r,e,n)}getNumberingSystem(r){return L(this.locale,this.options,r).options.numberingSystem}constructor(r,e={}){this.locale=r,this.options=e}}const z=new Map;function L(t,r,e){let n=Z(t,r);if(!t.includes("-nu-")&&!n.isValidPartialNumber(e)){for(let i of nt)if(i!==n.options.numberingSystem){let s=Z(t+(t.includes("-u-")?"-nu-":"-u-nu-")+i,r);if(s.isValidPartialNumber(e))return s}}return n}function Z(t,r){let e=t+(r?Object.entries(r).sort((i,s)=>i[0]<s[0]?-1:1).join():""),n=z.get(e);return n||(n=new it(t,r),z.set(e,n)),n}class it{parse(r){let e=this.sanitize(r);if(this.symbols.group&&(e=D(e,this.symbols.group,"")),this.symbols.decimal&&(e=e.replace(this.symbols.decimal,".")),this.symbols.minusSign&&(e=e.replace(this.symbols.minusSign,"-")),e=e.replace(this.symbols.numeral,this.symbols.index),this.options.style==="percent"){let u=e.indexOf("-");e=e.replace("-","");let o=e.indexOf(".");o===-1&&(o=e.length),e=e.replace(".",""),o-2===0?e=`0.${e}`:o-2===-1?e=`0.0${e}`:o-2===-2?e="0.00":e=`${e.slice(0,o-2)}.${e.slice(o-2)}`,u>-1&&(e=`-${e}`)}let n=e?+e:NaN;if(isNaN(n))return NaN;if(this.options.style==="percent"){var i,s;let u={...this.options,style:"decimal",minimumFractionDigits:Math.min(((i=this.options.minimumFractionDigits)!==null&&i!==void 0?i:0)+2,20),maximumFractionDigits:Math.min(((s=this.options.maximumFractionDigits)!==null&&s!==void 0?s:0)+2,20)};return new de(this.locale,u).parse(new Qe(this.locale,u).format(n))}return this.options.currencySign==="accounting"&&rt.test(r)&&(n=-1*n),n}sanitize(r){return r=r.replace(this.symbols.literals,""),this.symbols.minusSign&&(r=r.replace("-",this.symbols.minusSign)),this.options.numberingSystem==="arab"&&(this.symbols.decimal&&(r=r.replace(",",this.symbols.decimal),r=r.replace("،",this.symbols.decimal)),this.symbols.group&&(r=D(r,".",this.symbols.group))),this.options.locale==="fr-FR"&&(r=D(r,"."," ")),r}isValidPartialNumber(r,e=-1/0,n=1/0){return r=this.sanitize(r),this.symbols.minusSign&&r.startsWith(this.symbols.minusSign)&&e<0?r=r.slice(this.symbols.minusSign.length):this.symbols.plusSign&&r.startsWith(this.symbols.plusSign)&&n>0&&(r=r.slice(this.symbols.plusSign.length)),this.symbols.group&&r.startsWith(this.symbols.group)||this.symbols.decimal&&r.indexOf(this.symbols.decimal)>-1&&this.options.maximumFractionDigits===0?!1:(this.symbols.group&&(r=D(r,this.symbols.group,"")),r=r.replace(this.symbols.numeral,""),this.symbols.decimal&&(r=r.replace(this.symbols.decimal,"")),r.length===0)}constructor(r,e={}){this.locale=r,this.formatter=new Intl.NumberFormat(r,e),this.options=this.formatter.resolvedOptions(),this.symbols=ot(r,this.formatter,this.options,e);var n,i;this.options.style==="percent"&&(((n=this.options.minimumFractionDigits)!==null&&n!==void 0?n:0)>18||((i=this.options.maximumFractionDigits)!==null&&i!==void 0?i:0)>18)&&console.warn("NumberParser cannot handle percentages with greater than 18 decimal places, please reduce the number in your options.")}}const Y=new Set(["decimal","fraction","integer","minusSign","plusSign","group"]),st=[0,4,2,1,11,20,3,7,100,21,.1,1.1];function ot(t,r,e,n){var i,s,u,o;let m=new Intl.NumberFormat(t,{...e,minimumSignificantDigits:1,maximumSignificantDigits:21}),g=m.formatToParts(-10000.111),C=m.formatToParts(10000.111),a=st.map(c=>m.formatToParts(c));var d;let S=(d=(i=g.find(c=>c.type==="minusSign"))===null||i===void 0?void 0:i.value)!==null&&d!==void 0?d:"-",b=(s=C.find(c=>c.type==="plusSign"))===null||s===void 0?void 0:s.value;!b&&((n==null?void 0:n.signDisplay)==="exceptZero"||(n==null?void 0:n.signDisplay)==="always")&&(b="+");let G=(u=new Intl.NumberFormat(t,{...e,minimumFractionDigits:2,maximumFractionDigits:2}).formatToParts(.001).find(c=>c.type==="decimal"))===null||u===void 0?void 0:u.value,fe=(o=g.find(c=>c.type==="group"))===null||o===void 0?void 0:o.value,ge=g.filter(c=>!Y.has(c.type)).map(c=>X(c.value)),be=a.flatMap(c=>c.filter(y=>!Y.has(y.type)).map(y=>X(y.value))),k=[...new Set([...ge,...be])].sort((c,y)=>y.length-c.length),he=k.length===0?new RegExp("[\\p{White_Space}]","gu"):new RegExp(`${k.join("|")}|[\\p{White_Space}]`,"gu"),B=[...new Intl.NumberFormat(e.locale,{useGrouping:!1}).format(9876543210)].reverse(),ve=new Map(B.map((c,y)=>[c,y])),ye=new RegExp(`[${B.join("")}]`,"g");return{minusSign:S,plusSign:b,decimal:G,group:fe,literals:he,numeral:ye,index:c=>String(ve.get(c))}}function D(t,r,e){return t.replaceAll?t.replaceAll(r,e):t.split(r).join(e)}function X(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var at=Ce("numberInput").parts("root","label","input","control","valueText","incrementTrigger","decrementTrigger","scrubber"),v=at.build(),l=Se({getRootId:t=>{var r;return((r=t.ids)==null?void 0:r.root)??`number-input:${t.id}`},getInputId:t=>{var r;return((r=t.ids)==null?void 0:r.input)??`number-input:${t.id}:input`},getIncrementTriggerId:t=>{var r;return((r=t.ids)==null?void 0:r.incrementTrigger)??`number-input:${t.id}:inc`},getDecrementTriggerId:t=>{var r;return((r=t.ids)==null?void 0:r.decrementTrigger)??`number-input:${t.id}:dec`},getScrubberId:t=>{var r;return((r=t.ids)==null?void 0:r.scrubber)??`number-input:${t.id}:scrubber`},getCursorId:t=>`number-input:${t.id}:cursor`,getLabelId:t=>{var r;return((r=t.ids)==null?void 0:r.label)??`number-input:${t.id}:label`},getInputEl:t=>l.getById(t,l.getInputId(t)),getIncrementTriggerEl:t=>l.getById(t,l.getIncrementTriggerId(t)),getDecrementTriggerEl:t=>l.getById(t,l.getDecrementTriggerId(t)),getScrubberEl:t=>l.getById(t,l.getScrubberId(t)),getCursorEl:t=>l.getDoc(t).getElementById(l.getCursorId(t)),getPressedTriggerEl:(t,r=t.hint)=>{let e=null;return r==="increment"&&(e=l.getIncrementTriggerEl(t)),r==="decrement"&&(e=l.getDecrementTriggerEl(t)),e},setupVirtualCursor(t){if(!te())return l.createVirtualCursor(t),()=>{var r;(r=l.getCursorEl(t))==null||r.remove()}},preventTextSelection(t){const r=l.getDoc(t),e=r.documentElement,n=r.body;return n.style.pointerEvents="none",e.style.userSelect="none",e.style.cursor="ew-resize",()=>{n.style.pointerEvents="",e.style.userSelect="",e.style.cursor="",e.style.length||e.removeAttribute("style"),n.style.length||n.removeAttribute("style")}},getMousementValue(t,r){const e=N(r.movementX),n=N(r.movementY);let i=e>0?"increment":e<0?"decrement":null;t.isRtl&&i==="increment"&&(i="decrement"),t.isRtl&&i==="decrement"&&(i="increment");const s={x:t.scrubberCursorPoint.x+e,y:t.scrubberCursorPoint.y+n},o=l.getWin(t).innerWidth,m=N(7.5);return s.x=ze(s.x+m,o)-m,{hint:i,point:s}},createVirtualCursor(t){const r=l.getDoc(t),e=r.createElement("div");e.className="scrubber--cursor",e.id=l.getCursorId(t),Object.assign(e.style,{width:"15px",height:"15px",position:"fixed",pointerEvents:"none",left:"0px",top:"0px",zIndex:we,transform:t.scrubberCursorPoint?`translate3d(${t.scrubberCursorPoint.x}px, ${t.scrubberCursorPoint.y}px, 0px)`:void 0,willChange:"transform"}),e.innerHTML=`
        <svg width="46" height="15" style="left: -15.5px; position: absolute; top: 0; filter: drop-shadow(rgba(0, 0, 0, 0.4) 0px 1px 1.1px);">
          <g transform="translate(2 3)">
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z" style="stroke-width: 2px; stroke: white;"></path>
            <path fill-rule="evenodd" d="M 15 4.5L 15 2L 11.5 5.5L 15 9L 15 6.5L 31 6.5L 31 9L 34.5 5.5L 31 2L 31 4.5Z"></path>
          </g>
        </svg>`,r.body.appendChild(e)}});function lt(t,r,e){const n=t.hasTag("focus"),i=t.context.isDisabled,s=t.context.readOnly,u=t.context.isValueEmpty,o=t.context.isOutOfRange||!!t.context.invalid,m=i||!t.context.canIncrement||s,g=i||!t.context.canDecrement||s,C=t.context.translations;return{focused:n,invalid:o,empty:u,value:t.context.formattedValue,valueAsNumber:t.context.valueAsNumber,setValue(a){r({type:"VALUE.SET",value:a})},clearValue(){r("VALUE.CLEAR")},increment(){r("VALUE.INCREMENT")},decrement(){r("VALUE.DECREMENT")},setToMax(){r({type:"VALUE.SET",value:t.context.max})},setToMin(){r({type:"VALUE.SET",value:t.context.min})},focus(){var a;(a=l.getInputEl(t.context))==null||a.focus()},getRootProps(){return e.element({id:l.getRootId(t.context),...v.root.attrs,dir:t.context.dir,"data-disabled":p(i),"data-focus":p(n),"data-invalid":p(o)})},getLabelProps(){return e.label({...v.label.attrs,dir:t.context.dir,"data-disabled":p(i),"data-focus":p(n),"data-invalid":p(o),id:l.getLabelId(t.context),htmlFor:l.getInputId(t.context)})},getControlProps(){return e.element({...v.control.attrs,dir:t.context.dir,role:"group","aria-disabled":i,"data-focus":p(n),"data-disabled":p(i),"data-invalid":p(o),"aria-invalid":W(t.context.invalid)})},getValueTextProps(){return e.element({...v.valueText.attrs,dir:t.context.dir,"data-disabled":p(i),"data-invalid":p(o),"data-focus":p(n)})},getInputProps(){return e.input({...v.input.attrs,dir:t.context.dir,name:t.context.name,form:t.context.form,id:l.getInputId(t.context),role:"spinbutton",defaultValue:t.context.formattedValue,pattern:t.context.pattern,inputMode:t.context.inputMode,"aria-invalid":W(o),"data-invalid":p(o),disabled:i,"data-disabled":p(i),readOnly:t.context.readOnly,required:t.context.required,autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text","aria-roledescription":"numberfield","aria-valuemin":t.context.min,"aria-valuemax":t.context.max,"aria-valuenow":Number.isNaN(t.context.valueAsNumber)?void 0:t.context.valueAsNumber,"aria-valuetext":t.context.valueText,onFocus(){r("INPUT.FOCUS")},onBlur(){r({type:"INPUT.COMMIT",src:"blur"})},onChange(a){r({type:"INPUT.CHANGE",target:a.currentTarget,hint:"set"})},onBeforeInput(a){try{const{selectionStart:d,selectionEnd:S,value:b}=a.currentTarget,H=b.slice(0,d)+(a.data??"")+b.slice(S);t.context.parser.isValidPartialNumber(H)||a.preventDefault()}catch{}},onKeyDown(a){if(a.defaultPrevented||s||De(a))return;const d=Fe(a)*t.context.step,b={ArrowUp(){r({type:"INPUT.ARROW_UP",step:d}),a.preventDefault()},ArrowDown(){r({type:"INPUT.ARROW_DOWN",step:d}),a.preventDefault()},Home(){r("INPUT.HOME"),a.preventDefault()},End(){r("INPUT.END"),a.preventDefault()},Enter(){r({type:"INPUT.COMMIT",src:"enter"})}}[a.key];b==null||b(a)}})},getDecrementTriggerProps(){return e.button({...v.decrementTrigger.attrs,dir:t.context.dir,id:l.getDecrementTriggerId(t.context),disabled:g,"data-disabled":p(g),"aria-label":C.decrementLabel,type:"button",tabIndex:-1,"aria-controls":l.getInputId(t.context),onPointerDown(a){var d;g||!j(a)||(r({type:"TRIGGER.PRESS_DOWN",hint:"decrement",pointerType:a.pointerType}),a.pointerType==="mouse"&&a.preventDefault(),a.pointerType==="touch"&&((d=a.currentTarget)==null||d.focus({preventScroll:!0})))},onPointerUp(a){r({type:"TRIGGER.PRESS_UP",hint:"decrement",pointerType:a.pointerType})},onPointerLeave(){g||r({type:"TRIGGER.PRESS_UP",hint:"decrement"})}})},getIncrementTriggerProps(){return e.button({...v.incrementTrigger.attrs,dir:t.context.dir,id:l.getIncrementTriggerId(t.context),disabled:m,"data-disabled":p(m),"aria-label":C.incrementLabel,type:"button",tabIndex:-1,"aria-controls":l.getInputId(t.context),onPointerDown(a){var d;m||!j(a)||(r({type:"TRIGGER.PRESS_DOWN",hint:"increment",pointerType:a.pointerType}),a.pointerType==="mouse"&&a.preventDefault(),a.pointerType==="touch"&&((d=a.currentTarget)==null||d.focus({preventScroll:!0})))},onPointerUp(a){r({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:a.pointerType})},onPointerLeave(a){r({type:"TRIGGER.PRESS_UP",hint:"increment",pointerType:a.pointerType})}})},getScrubberProps(){return e.element({...v.scrubber.attrs,dir:t.context.dir,"data-disabled":p(i),id:l.getScrubberId(t.context),role:"presentation",onMouseDown(a){if(i)return;const d=Ue(a);d.x=d.x-N(7.5),d.y=d.y-N(7.5),r({type:"SCRUBBER.PRESS_DOWN",point:d}),a.preventDefault()},style:{cursor:i?void 0:"ew-resize"}})}}}function ut(t){if(t.ownerDocument.activeElement===t)try{const{selectionStart:r,selectionEnd:e,value:n}=t,i=n.substring(0,r),s=n.substring(e);return{start:r,end:e,value:n,beforeTxt:i,afterTxt:s}}catch{}}function ct(t,r){if(t.ownerDocument.activeElement===t){if(!r){t.setSelectionRange(t.value.length,t.value.length);return}try{const{value:e}=t,{beforeTxt:n="",afterTxt:i="",start:s}=r;let u=e.length;if(e.endsWith(i))u=e.length-i.length;else if(e.startsWith(n))u=n.length;else if(s!=null){const o=n[s-1],m=e.indexOf(o,s-1);m!==-1&&(u=m+1)}t.setSelectionRange(u,u)}catch{}}}var K=(t,r={})=>re(new Intl.NumberFormat(t,r)),J=(t,r={})=>re(new de(t,r)),Q=(t,r)=>t.formatOptions?t.parser.parse(String(r)):parseFloat(r),I=(t,r)=>Number.isNaN(r)?"":t.formatOptions?t.formatter.format(r):r.toString(),{not:F,and:x}=Ae;function dt(t){const r=Ge(t);return xe({id:"number-input",initial:"idle",context:{dir:"ltr",locale:"en-US",focusInputOnChange:!0,clampValueOnBlur:!0,allowOverflow:!1,inputMode:"decimal",pattern:"[0-9]*(.[0-9]+)?",value:"",step:1,min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,invalid:!1,spinOnPress:!0,disabled:!1,readOnly:!1,...r,hint:null,scrubberCursorPoint:null,fieldsetDisabled:!1,formatter:K(r.locale||"en-US",r.formatOptions),parser:J(r.locale||"en-US",r.formatOptions),translations:{incrementLabel:"increment value",decrementLabel:"decrease value",...r.translations}},computed:{isRtl:e=>e.dir==="rtl",valueAsNumber:e=>Q(e,e.value),formattedValue:e=>I(e,e.valueAsNumber),isAtMin:e=>Ke(e.valueAsNumber,e),isAtMax:e=>Xe(e.valueAsNumber,e),isOutOfRange:e=>!Je(e.valueAsNumber,e),isValueEmpty:e=>e.value==="",isDisabled:e=>!!e.disabled||e.fieldsetDisabled,canIncrement:e=>e.allowOverflow||!e.isAtMax,canDecrement:e=>e.allowOverflow||!e.isAtMin,valueText:e=>{var n,i;return(i=(n=e.translations).valueText)==null?void 0:i.call(n,e.value)}},watch:{formatOptions:["setFormatterAndParser","syncInputElement"],locale:["setFormatterAndParser","syncInputElement"],value:["syncInputElement"],isOutOfRange:["invokeOnInvalid"],scrubberCursorPoint:["setVirtualCursorPosition"]},activities:["trackFormControl"],on:{"VALUE.SET":{actions:["setRawValue","setHintToSet"]},"VALUE.CLEAR":{actions:["clearValue"]},"VALUE.INCREMENT":{actions:["increment"]},"VALUE.DECREMENT":{actions:["decrement"]}},states:{idle:{on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","invokeOnFocus","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","invokeOnFocus","setHint","setCursorPoint"]},"INPUT.FOCUS":{target:"focused",actions:["focusInput","invokeOnFocus"]}}},focused:{tags:"focus",activities:"attachWheelListener",on:{"TRIGGER.PRESS_DOWN":[{guard:"isTouchPointer",target:"before:spin",actions:["setHint"]},{target:"before:spin",actions:["focusInput","setHint"]}],"SCRUBBER.PRESS_DOWN":{target:"scrubbing",actions:["focusInput","setHint","setCursorPoint"]},"INPUT.ARROW_UP":{actions:"increment"},"INPUT.ARROW_DOWN":{actions:"decrement"},"INPUT.HOME":{actions:"decrementToMin"},"INPUT.END":{actions:"incrementToMax"},"INPUT.CHANGE":{actions:["setValue","setHint"]},"INPUT.COMMIT":[{guard:x("clampValueOnBlur",F("isInRange")),target:"idle",actions:["setClampedValue","clearHint","invokeOnBlur"]},{target:"idle",actions:["setFormattedValue","clearHint","invokeOnBlur"]}]}},"before:spin":{tags:"focus",activities:"trackButtonDisabled",entry:Oe([{guard:"isIncrementHint",actions:"increment"},{guard:"isDecrementHint",actions:"decrement"}]),after:{CHANGE_DELAY:{target:"spinning",guard:x("isInRange","spinOnPress")}},on:{"TRIGGER.PRESS_UP":[{guard:"isTouchPointer",target:"focused",actions:"clearHint"},{target:"focused",actions:["focusInput","clearHint"]}]}},spinning:{tags:"focus",activities:"trackButtonDisabled",every:[{delay:"CHANGE_INTERVAL",guard:x(F("isAtMin"),"isIncrementHint"),actions:"increment"},{delay:"CHANGE_INTERVAL",guard:x(F("isAtMax"),"isDecrementHint"),actions:"decrement"}],on:{"TRIGGER.PRESS_UP":{target:"focused",actions:["focusInput","clearHint"]}}},scrubbing:{tags:"focus",activities:["activatePointerLock","trackMousemove","setupVirtualCursor","preventTextSelection"],on:{"SCRUBBER.POINTER_UP":{target:"focused",actions:["focusInput","clearCursorPoint"]},"SCRUBBER.POINTER_MOVE":[{guard:"isIncrementHint",actions:["increment","setCursorPoint"]},{guard:"isDecrementHint",actions:["decrement","setCursorPoint"]}]}}}},{delays:{CHANGE_INTERVAL:50,CHANGE_DELAY:300},guards:{clampValueOnBlur:e=>e.clampValueOnBlur,isAtMin:e=>e.isAtMin,spinOnPress:e=>!!e.spinOnPress,isAtMax:e=>e.isAtMax,isInRange:e=>!e.isOutOfRange,isDecrementHint:(e,n)=>(n.hint??e.hint)==="decrement",isIncrementHint:(e,n)=>(n.hint??e.hint)==="increment",isTouchPointer:(e,n)=>n.pointerType==="touch"},activities:{trackFormControl(e,n,{initialContext:i}){const s=l.getInputEl(e);return He(s,{onFieldsetDisabledChange(u){e.fieldsetDisabled=u},onFormReset(){h.value(e,i.value)}})},setupVirtualCursor(e){return l.setupVirtualCursor(e)},preventTextSelection(e){return l.preventTextSelection(e)},trackButtonDisabled(e,n,{send:i}){const s=l.getPressedTriggerEl(e,e.hint);return Ve(s,{attributes:["disabled"],callback(){i({type:"TRIGGER.PRESS_UP",src:"attr"})}})},attachWheelListener(e,n,{send:i}){const s=l.getInputEl(e);if(!s||!l.isActiveElement(e,s)||!e.allowMouseWheel)return;function u(o){o.preventDefault();const m=Math.sign(o.deltaY)*-1;m===1?i("VALUE.INCREMENT"):m===-1&&i("VALUE.DECREMENT")}return V(s,"wheel",u,{passive:!1})},activatePointerLock(e){if(!te())return _e(l.getDoc(e))},trackMousemove(e,n,{send:i}){const s=l.getDoc(e);function u(m){if(!e.scrubberCursorPoint)return;const g=l.getMousementValue(e,m);g.hint&&i({type:"SCRUBBER.POINTER_MOVE",hint:g.hint,point:g.point})}function o(){i("SCRUBBER.POINTER_UP")}return ke(V(s,"mousemove",u,!1),V(s,"mouseup",o,!1))}},actions:{focusInput(e){if(!e.focusInputOnChange)return;const n=l.getInputEl(e);l.isActiveElement(e,n)||ne(()=>n==null?void 0:n.focus({preventScroll:!0}))},increment(e,n){const i=Ze(e.valueAsNumber,n.step??e.step),s=I(e,w(i,e));h.value(e,s)},decrement(e,n){const i=Ye(e.valueAsNumber,n.step??e.step),s=I(e,w(i,e));h.value(e,s)},setClampedValue(e){const n=w(e.valueAsNumber,e);h.value(e,I(e,n))},setRawValue(e,n){const i=Q(e,n.value),s=I(e,w(i,e));h.value(e,s)},setValue(e,n){var s;const i=((s=n.target)==null?void 0:s.value)??n.value;h.value(e,i)},clearValue(e){h.value(e,"")},incrementToMax(e){const n=I(e,e.max);h.value(e,n)},decrementToMin(e){const n=I(e,e.min);h.value(e,n)},setHint(e,n){e.hint=n.hint},clearHint(e){e.hint=null},setHintToSet(e){e.hint="set"},invokeOnFocus(e){var n;(n=e.onFocusChange)==null||n.call(e,{focused:!0,value:e.formattedValue,valueAsNumber:e.valueAsNumber})},invokeOnBlur(e){var n;(n=e.onFocusChange)==null||n.call(e,{focused:!1,value:e.formattedValue,valueAsNumber:e.valueAsNumber})},invokeOnInvalid(e){var i;if(!e.isOutOfRange)return;const n=e.valueAsNumber>e.max?"rangeOverflow":"rangeUnderflow";(i=e.onValueInvalid)==null||i.call(e,{reason:n,value:e.formattedValue,valueAsNumber:e.valueAsNumber})},syncInputElement(e,n){const i=n.type.endsWith("CHANGE")?e.value:e.formattedValue;mt.input(e,i)},setFormattedValue(e){h.value(e,e.formattedValue)},setCursorPoint(e,n){e.scrubberCursorPoint=n.point},clearCursorPoint(e){e.scrubberCursorPoint=null},setVirtualCursorPosition(e){const n=l.getCursorEl(e);if(!n||!e.scrubberCursorPoint)return;const{x:i,y:s}=e.scrubberCursorPoint;n.style.transform=`translate3d(${i}px, ${s}px, 0px)`},setFormatterAndParser(e){e.locale&&(e.formatter=K(e.locale,e.formatOptions),e.parser=J(e.locale,e.formatOptions))}},compareFns:{formatOptions:(e,n)=>U(e,n),scrubberCursorPoint:(e,n)=>U(e,n)}})}var mt={input(t,r){const e=l.getInputEl(t);if(!e)return;const n=ut(e);ne(()=>{l.setValue(e,r),ct(e,n)})}},pt={onChange:t=>{var r;(r=t.onValueChange)==null||r.call(t,{value:t.value,valueAsNumber:t.valueAsNumber})}},h={value:(t,r)=>{U(t.value,r)||(t.value=r,pt.onChange(t))}};const ft=(t={})=>{const{getRootNode:r}=Be(),{dir:e}=We(),n=ie(),i={id:E.useId(),ids:{label:n==null?void 0:n.ids.label,input:n==null?void 0:n.ids.control},disabled:n==null?void 0:n.disabled,readOnly:n==null?void 0:n.readOnly,required:n==null?void 0:n.required,invalid:n==null?void 0:n.invalid,dir:e,getRootNode:r,value:t.defaultValue,...t},s={...i,value:t.value,onValueChange:$(t.onValueChange,{sync:!0}),onValueInvalid:$(t.onValueInvalid),onFocusChange:$(t.onFocusChange)},[u,o]=$e(dt(i),{context:s});return lt(u,o,Me)},me=E.forwardRef((t,r)=>{const[e,n]=Le()(t,["allowMouseWheel","allowOverflow","clampValueOnBlur","defaultValue","disabled","focusInputOnChange","form","formatOptions","id","ids","inputMode","invalid","locale","max","min","name","onFocusChange","onValueChange","onValueInvalid","pattern","readOnly","required","spinOnPress","step","translations","value"]),i=ft(e),s=T(i.getRootProps(),n);return f.jsx(qe,{value:i,children:f.jsx(R.div,{...s,ref:r})})});me.displayName="NumberInputRoot";const ee=["trds-inline-flex trds-items-center trds-justify-center","trds-border-boundary trds-text-neutral-500 trds-cursor-pointer","trds-transition trds-duration-normal trds-transition-[background,border-color,color,box-shadow] trds-ease-default","[&_:where(svg)]:trds-w-4 [&_:where(svg)]:trds-h-4","hover:trds-bg-layer1 hover:trds-text-neutral-500","data-disabled:trds-bg-transparent data-disabled:trds-text-muted data-disabled:trds-opacity-50 data-disabled:trds-cursor-not-allowed"],gt=Ie({base:`${Pe.scope} numberInput`,slots:{root:"trds-flex trds-flex-col trds-gap-1.5",control:"trds-border trds-border-boundary trds-rounded-lg trds-grid trds-divide-x-[1px] trds-grid-cols-[1fr_32px] trds-grid-rows-[1fr_1fr] trds-overflow-hidden trds-transition trds-duration-normal trds-transition-[border-color,box-shadow] trds-ease-default focus-within:trds-border-primary-500 focus-within:trds-shadow-[0_0_0_1px_var(--shadow-color)] focus-within:trds-shadow-primary-500",input:"trds-bg-transparent trds-border-none trds-row-span-2 trds-outline-none trds-w-full placeholder:trds-text-placeholder disabled:trds-cursor-not-allowed disabled:trds-opacity-50",incrementTrigger:[...ee,"trds-border-b"],decrementTrigger:ee},variants:{invalid:{true:{control:"trds-border-error-500"}},size:{md:{control:"trds-ps-3 trds-h-10 trds-min-w-10 trds-text-md"},lg:{control:"trds-ps-3.5 trds-h-11 trds-min-w-11 trds-text-md"},xl:{control:"trds-ps-4 trds-h-12 trds-min-w-12 trds-text-lg"}}},defaultVariants:{size:"md",invalid:!1}}),pe=E.forwardRef(function(t,r){const{placeholder:e,invalid:n,size:i,className:s,...u}=t,o=gt({size:i,invalid:n});return f.jsx(me,{ref:r,className:Ee(o.root(),s),...u,children:f.jsxs(se,{className:o.control(),children:[f.jsx(le,{className:o.input(),placeholder:e}),f.jsx(ae,{className:o.incrementTrigger(),children:f.jsx(je,{})}),f.jsx(oe,{className:o.decrementTrigger(),children:f.jsx(Te,{})})]})})});pe.displayName="NumberInput";pe.__docgenInfo={description:"",methods:[],displayName:"NumberInput"};export{pe as R};
