import{j as c}from"./jsx-runtime-qGIIFXMu.js";import{t as H,I as z,c as T}from"./tv-CIwtzMts.js";import{r as u}from"./index-CDs2tPxN.js";import{c as K}from"./create-react-context-Dw26gLIP.js";import{C as q}from"./chevron-down-Du6SRUSG.js";import{c as R,a as M,b as X,f as V,q as J,I as Q,J as W,d as f,O as Y,e as Z,g as ee,p as C,s as A,z as oe,D as te}from"./factory-Bfpif5Qa.js";import{c as w}from"./create-split-props-u5h9OPvL.js";import{u as re,s as ae,R as ne}from"./render-strategy-BZFUjd3y.js";import{g as se}from"./index-Bc8Or9Mt.js";import{g as ie,f as de,l as ce,c as le,h as ue,j as me,w as ge,a as y}from"./index-DE2wJq7j.js";import{a as pe,u as fe}from"./use-locale-context-hL6yk3cA.js";import{u as N}from"./use-event-eGuf5zsd.js";import{C as Ie,a as ve,u as Te}from"./collapsible-content-DW9aOTiN.js";const[Ce,P]=R({name:"AccordionContext",hookName:"useAccordionContext",providerName:"<AccordionProvider />"});var Pe=M("accordion").parts("root","item","itemTrigger","itemContent","itemIndicator"),I=Pe.build(),i=X({getRootId:e=>{var t;return((t=e.ids)==null?void 0:t.root)??`accordion:${e.id}`},getItemId:(e,t)=>{var o,r;return((r=(o=e.ids)==null?void 0:o.item)==null?void 0:r.call(o,t))??`accordion:${e.id}:item:${t}`},getItemContentId:(e,t)=>{var o,r;return((r=(o=e.ids)==null?void 0:o.itemContent)==null?void 0:r.call(o,t))??`accordion:${e.id}:content:${t}`},getItemTriggerId:(e,t)=>{var o,r;return((r=(o=e.ids)==null?void 0:o.itemTrigger)==null?void 0:r.call(o,t))??`accordion:${e.id}:trigger:${t}`},getRootEl:e=>i.getById(e,i.getRootId(e)),getTriggerEls:e=>{const o=`[aria-controls][data-ownedby='${CSS.escape(i.getRootId(e))}']:not([disabled])`;return J(i.getRootEl(e),o)},getFirstTriggerEl:e=>de(i.getTriggerEls(e)),getLastTriggerEl:e=>ce(i.getTriggerEls(e)),getNextTriggerEl:(e,t)=>Q(i.getTriggerEls(e),i.getItemTriggerId(e,t)),getPrevTriggerEl:(e,t)=>W(i.getTriggerEls(e),i.getItemTriggerId(e,t))});function xe(e,t,o){const r=e.context.focusedValue,a=e.context.value,s=e.context.multiple;function l(d){let n=d;s&&n.length>1&&(n=[n[0]]),t({type:"VALUE.SET",value:n})}function m(d){return{expanded:a.includes(d.value),focused:r===d.value,disabled:!!(d.disabled??e.context.disabled)}}return{focusedValue:r,value:a,setValue:l,getItemState:m,getRootProps(){return o.element({...I.root.attrs,dir:e.context.dir,id:i.getRootId(e.context),"data-orientation":e.context.orientation})},getItemProps(d){const n=m(d);return o.element({...I.item.attrs,dir:e.context.dir,id:i.getItemId(e.context,d.value),"data-state":n.expanded?"open":"closed","data-focus":f(n.focused),"data-disabled":f(n.disabled),"data-orientation":e.context.orientation})},getItemContentProps(d){const n=m(d);return o.element({...I.itemContent.attrs,dir:e.context.dir,role:"region",id:i.getItemContentId(e.context,d.value),"aria-labelledby":i.getItemTriggerId(e.context,d.value),hidden:!n.expanded,"data-state":n.expanded?"open":"closed","data-disabled":f(n.disabled),"data-focus":f(n.focused),"data-orientation":e.context.orientation})},getItemIndicatorProps(d){const n=m(d);return o.element({...I.itemIndicator.attrs,dir:e.context.dir,"aria-hidden":!0,"data-state":n.expanded?"open":"closed","data-disabled":f(n.disabled),"data-focus":f(n.focused),"data-orientation":e.context.orientation})},getItemTriggerProps(d){const{value:n}=d,g=m(d);return o.button({...I.itemTrigger.attrs,type:"button",dir:e.context.dir,id:i.getItemTriggerId(e.context,n),"aria-controls":i.getItemContentId(e.context,n),"aria-expanded":g.expanded,disabled:g.disabled,"data-orientation":e.context.orientation,"aria-disabled":g.disabled,"data-state":g.expanded?"open":"closed","data-ownedby":i.getRootId(e.context),onFocus(){g.disabled||t({type:"TRIGGER.FOCUS",value:n})},onBlur(){g.disabled||t("TRIGGER.BLUR")},onClick(p){g.disabled||(Y()&&p.currentTarget.focus(),t({type:"TRIGGER.CLICK",value:n}))},onKeyDown(p){if(p.defaultPrevented||g.disabled)return;const B={ArrowDown(){e.context.isHorizontal||t({type:"GOTO.NEXT",value:n})},ArrowUp(){e.context.isHorizontal||t({type:"GOTO.PREV",value:n})},ArrowRight(){e.context.isHorizontal&&t({type:"GOTO.NEXT",value:n})},ArrowLeft(){e.context.isHorizontal&&t({type:"GOTO.PREV",value:n})},Home(){t({type:"GOTO.FIRST",value:n})},End(){t({type:"GOTO.LAST",value:n})}},D=se(p,{dir:e.context.dir,orientation:e.context.orientation}),b=B[D];b&&(b(p),p.preventDefault())}})}}}var{and:Re,not:Ae}=ee;function he(e){const t=le(e);return Z({id:"accordion",initial:"idle",context:{focusedValue:null,value:[],collapsible:!1,multiple:!1,orientation:"vertical",...t},watch:{value:"coarseValue",multiple:"coarseValue"},created:"coarseValue",computed:{isHorizontal:o=>o.orientation==="horizontal"},on:{"VALUE.SET":{actions:["setValue"]}},states:{idle:{on:{"TRIGGER.FOCUS":{target:"focused",actions:"setFocusedValue"}}},focused:{on:{"GOTO.NEXT":{actions:"focusNextTrigger"},"GOTO.PREV":{actions:"focusPrevTrigger"},"TRIGGER.CLICK":[{guard:Re("isExpanded","canToggle"),actions:["collapse"]},{guard:Ae("isExpanded"),actions:["expand"]}],"GOTO.FIRST":{actions:"focusFirstTrigger"},"GOTO.LAST":{actions:"focusLastTrigger"},"TRIGGER.BLUR":{target:"idle",actions:"clearFocusedValue"}}}}},{guards:{canToggle:o=>!!o.collapsible||!!o.multiple,isExpanded:(o,r)=>o.value.includes(r.value)},actions:{collapse(o,r){const a=o.multiple?ue(o.value,r.value):[];v.value(o,o.multiple?a:[])},expand(o,r){const a=o.multiple?me(o.value,r.value):[r.value];v.value(o,a)},focusFirstTrigger(o){var r;(r=i.getFirstTriggerEl(o))==null||r.focus()},focusLastTrigger(o){var r;(r=i.getLastTriggerEl(o))==null||r.focus()},focusNextTrigger(o){if(!o.focusedValue)return;const r=i.getNextTriggerEl(o,o.focusedValue);r==null||r.focus()},focusPrevTrigger(o){if(!o.focusedValue)return;const r=i.getPrevTriggerEl(o,o.focusedValue);r==null||r.focus()},setFocusedValue(o,r){v.focusedValue(o,r.value)},clearFocusedValue(o){v.focusedValue(o,null)},setValue(o,r){v.value(o,r.value)},coarseValue(o){!o.multiple&&o.value.length>1&&(ge("The value of accordion should be a single value when multiple is false."),o.value=[o.value[0]])}}})}var E={change(e){var t;(t=e.onValueChange)==null||t.call(e,{value:Array.from(e.value)})},focusChange(e){var t;(t=e.onFocusChange)==null||t.call(e,{value:e.focusedValue})}},v={value(e,t){y(e.value,t)||(e.value=t,E.change(e))},focusedValue(e,t){y(e.focusedValue,t)||(e.focusedValue=t,E.focusChange(e))}};V()(["collapsible","dir","disabled","getRootNode","id","ids","multiple","onFocusChange","onValueChange","orientation","value"]);var be=V()(["value","disabled"]),ye=ie(be);const[Ne,qe]=R({name:"AccordionItemContext",hookName:"useAccordionItemContext",providerName:"<AccordionItemProvider />"}),[Ee,h]=R({name:"AccordionItemPropsContext",hookName:"useAccordionItemPropsContext",providerName:"<AccordionItemPropsProvider />"}),S=u.forwardRef((e,t)=>{const[o,r]=ye(e),a=P(),s=re(),l=C(a.getItemProps(o),r),m=a.getItemState(o),d=a.getItemContentProps(o);return c.jsx(Ee,{value:o,children:c.jsx(Ne,{value:m,children:c.jsx(Ie,{ref:t,open:m.expanded,ids:{content:d.id},...s,...l})})})});S.displayName="AccordionItem";const Ve=w(),O=u.forwardRef((e,t)=>{const o=P(),r=h(),a=o.getItemContentProps(r),[,s]=Ve(a,["hidden","data-state"]),l=C(s,e);return c.jsx(ve,{ref:t,...l})});O.displayName="AccordionItemContent";const G=u.forwardRef((e,t)=>{const o=P(),r=h(),a=C(o.getItemIndicatorProps(r),e);return c.jsx(A.div,{...a,ref:t})});G.displayName="AccordionItemIndicator";const j=u.forwardRef((e,t)=>{const o=P(),r=h(),a=Te(),s=o.getItemTriggerProps(r),l=C({...s,"aria-controls":a.isUnmounted?void 0:s["aria-controls"]},e);return c.jsx(A.button,{...l,ref:t})});j.displayName="AccordionItemTrigger";const we=(e={})=>{const{getRootNode:t}=pe(),{dir:o}=fe(),r={id:u.useId(),dir:o,getRootNode:t,value:e.defaultValue,...e},a={...r,value:e.value,onFocusChange:N(e.onFocusChange),onValueChange:N(e.onValueChange)},[s,l]=oe(he(r),{context:a});return xe(s,l,te)},F=u.forwardRef((e,t)=>{const[o,r]=ae(e),[a,s]=w()(r,["collapsible","defaultValue","disabled","id","ids","multiple","onFocusChange","onValueChange","orientation","value"]),l=we(a),m=C(l.getRootProps(),s);return c.jsx(Ce,{value:l,children:c.jsx(ne,{value:o,children:c.jsx(A.div,{...m,ref:t})})})});F.displayName="AccordionRoot";const Se=H({base:`${z.scope} accordion`,slots:{root:"trds-w-full",item:"trds-border-b trds-border-boundary",itemTrigger:"trds-transition-all trds-duration-normal trds-w-full trds-py-4 trds-flex trds-flex-row trds-justify-between trds-items-center trds-cursor-pointer disabled:trds-text-muted disabled:trds-cursor-not-allowed",itemIndicator:"trds-origin-center trds-transition-all trds-duration-normal data-open:trds-rotate-180 trds-color-fg-neutral",itemContent:"trds-overflow-hidden data-open:trds-animate-collapse-in data-closed:trds-animate-collapse-out"}}),[Oe,x]=K({name:"accordion",hookName:"useAccordionContext",providerName:"AccordionProvider",defaultValue:{classes:{}}}),L=u.forwardRef((e,t)=>{const{children:o,className:r,...a}=e,s=Se(),l={classes:s};return c.jsx(Oe,{value:l,children:c.jsx(F,{ref:t,className:T(s.root(),r),...a,children:o})})});L.displayName="Accordion.Root";const $=u.forwardRef((e,t)=>{const{children:o,className:r,...a}=e,{classes:s}=x();return c.jsx(S,{ref:t,className:T(s.item(),r),...a,children:o})});$.displayName="Accordion.Item";const _=u.forwardRef((e,t)=>{const{children:o,className:r,...a}=e,{classes:s}=x();return c.jsx(j,{ref:t,className:T(s.itemTrigger(),r),...a,children:o})});_.displayName="Accordion.ItemTrigger";const k=u.forwardRef((e,t)=>{const{children:o,className:r,...a}=e,{classes:s}=x();return c.jsx(G,{ref:t,className:T(s.itemIndicator(),r),...a,children:o??c.jsx(q,{size:20})})});k.displayName="Accordion.ItemIndicator";const U=u.forwardRef((e,t)=>{const{children:o,className:r,...a}=e,{classes:s}=x();return c.jsx(O,{ref:t,className:T(s.itemContent(),r),...a,children:o})});U.displayName="Accordion.Content";L.__docgenInfo={description:"",methods:[],displayName:"Accordion.Root"};$.__docgenInfo={description:"",methods:[],displayName:"Accordion.Item"};k.__docgenInfo={description:"",methods:[],displayName:"Accordion.ItemIndicator"};_.__docgenInfo={description:"",methods:[],displayName:"Accordion.ItemTrigger"};U.__docgenInfo={description:"",methods:[],displayName:"Accordion.Content"};export{U as C,$ as I,L as R,k as a,_ as b};
