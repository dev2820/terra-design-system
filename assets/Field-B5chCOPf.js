import{j as d}from"./jsx-runtime-qGIIFXMu.js";import{t as z,I as G,c as f}from"./tv-CIwtzMts.js";import{r}from"./index-CDs2tPxN.js";import{c as J}from"./create-react-context-Dw26gLIP.js";import{p as g,s as b,c as K,a as Q,k as U,B as X}from"./factory-CadeRpXq.js";import{c as Y}from"./create-split-props-u5h9OPvL.js";import{u as R,F as Z}from"./use-field-context-Bl-xBte_.js";const L=r.forwardRef((s,a)=>{const e=R(),t=g(e.getErrorTextProps(),s);return e!=null&&e.invalid?d.jsx(b.span,{...t,ref:a}):null});L.displayName="FieldErrorText";const M=r.forwardRef((s,a)=>{const e=R(),t=g(e==null?void 0:e.getHelperTextProps(),s);return d.jsx(b.span,{...t,ref:a})});M.displayName="FieldHelperText";const C=r.forwardRef((s,a)=>{const e=R(),t=g(e==null?void 0:e.getLabelProps(),s);return d.jsx(b.label,{...t,ref:a})});C.displayName="FieldLabel";const[me,ee]=K({name:"FieldsetContext",hookName:"useFieldsetContext",providerName:"<FieldsetProvider />",strict:!1}),te=Q("field").parts("root","errorText","helperText","input","label","select","textarea"),m=te.build(),se=s=>{const a=ee(),{disabled:e=!!(a!=null&&a.disabled),invalid:t=!1,readOnly:o=!1,required:l=!1}=s,y=r.useRef(!1),h=r.useRef(!1),n=s.id??r.useId(),F=r.useRef(null),i=`field::${n}::error-text`,c=`field::${n}::helper-text`,T=`field::${n}::label`;r.useLayoutEffect(()=>{const p=F.current;if(!p)return;const E=U(p),I=E.document,j=()=>{y.current=!!I.getElementById(i),h.current=!!I.getElementById(c)};j();const w=new E.MutationObserver(j);return w.observe(p,{childList:!0,subtree:!0}),()=>w.disconnect()},[i,c]);const N=r.useMemo(()=>{const p=[];return y.current&&t&&p.push(i),h.current&&p.push(c),p.join(" ")||void 0},[t,i,c]),B=r.useMemo(()=>()=>({...m.root.attrs,ref:F,role:"group","data-disabled":x(e),"data-invalid":x(t),"data-readonly":x(o)}),[e,t,o]),q=r.useMemo(()=>()=>({...m.label.attrs,id:T,"data-disabled":x(e),"data-invalid":x(t),"data-readonly":x(o),htmlFor:n}),[e,t,o,n,T]),u=r.useMemo(()=>()=>({"aria-describedby":N,"aria-invalid":P(t),"aria-required":P(l),"aria-readonly":P(o),id:n,required:l,disabled:e,readOnly:o}),[N,t,l,o,n,e]),O=r.useMemo(()=>()=>({...u(),...m.input.attrs}),[u]),D=r.useMemo(()=>()=>({...u(),...m.textarea.attrs}),[u]),S=r.useMemo(()=>()=>({...u(),...m.select.attrs}),[u]),V=r.useMemo(()=>()=>({id:c,...m.helperText.attrs}),[c]),W=r.useMemo(()=>()=>({id:i,...m.errorText.attrs,"aria-live":"polite"}),[i]);return{ariaDescribedby:N,ids:{control:n,label:T,errorText:i,helperText:c},refs:{rootRef:F},disabled:e,invalid:t,readOnly:o,required:l,getLabelProps:q,getRootProps:B,getInputProps:O,getTextareaProps:D,getSelectProps:S,getHelperTextProps:V,getErrorTextProps:W}},x=s=>s?"true":void 0,P=s=>s?!0:void 0,H=r.forwardRef((s,a)=>{const[e,t]=Y()(s,["id","disabled","invalid","readOnly","required"]),o=se(e),l=g(o.getRootProps(),t);return d.jsx(Z,{value:o,children:d.jsx(b.div,{...l,ref:X(a,o.refs.rootRef)})})});H.displayName="FieldRoot";const re=z({base:`${G.scope} field`,slots:{root:"trds-flex trds-flex-col trds-gap-1.5",label:"trds-text-fg-title trds-font-medium trds-text-sm disabled:trds-text-fg-muted",helperText:"trds-inline-flex trds-items-center trds-text-fg-description trds-gap-1 trds-text-sm disabled:trds-text-fg-muted",dangerText:"trds-inline-flex trds-items-center trds-text-danger trds-gap-1 trds-text-sm disabled:trds-text-fg-muted"}}),[oe,v]=J({name:"field",hookName:"useFieldContext",providerName:"FieldProvider",defaultValue:{classes:{}}}),_=r.forwardRef(function(s,a){const{className:e,...t}=s,o=re(),l={classes:o};return d.jsx(oe,{value:l,children:d.jsx(H,{className:f(o.root(),e),...t,ref:a})})});_.displayName="Field.Root";const $=r.forwardRef(function(s,a){const{className:e,...t}=s,{classes:o}=v();return d.jsx(C,{className:f(o.label(),e),ref:a,...t})});$.displayName="Field.Label";const k=r.forwardRef(function(s,a){const{className:e,...t}=s,{classes:o}=v();return d.jsx(M,{className:f(o.helperText(),e),ref:a,...t})});k.displayName="Field.HelperText";const A=r.forwardRef(function(s,a){const{className:e,...t}=s,{classes:o}=v();return d.jsx(L,{className:f(o.dangerText(),e),ref:a,...t})});A.displayName="Field.ErrorText";_.__docgenInfo={description:"",methods:[],displayName:"Field.Root"};$.__docgenInfo={description:"",methods:[],displayName:"Field.Label"};k.__docgenInfo={description:"",methods:[],displayName:"Field.HelperText"};A.__docgenInfo={description:"",methods:[],displayName:"Field.ErrorText"};export{A as E,k as H,$ as L,_ as R};
